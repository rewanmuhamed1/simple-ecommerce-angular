"use strict";(self.webpackChunkfirebase_project=self.webpackChunkfirebase_project||[]).push([[179],{901:()=>{function De(n){return"function"==typeof n}function ao(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const ra=ao(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function lo(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Ut{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(De(r))try{r()}catch(s){e=s instanceof ra?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{ia(s)}catch(o){e=e??[],o instanceof ra?e=[...e,...o.errors]:e.push(o)}}if(e)throw new ra(e)}}add(e){var t;if(e&&e!==this)if(this.closed)ia(e);else{if(e instanceof Ut){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&lo(t,e)}remove(e){const{_finalizers:t}=this;t&&lo(t,e),e instanceof Ut&&e._removeParent(this)}}Ut.EMPTY=(()=>{const n=new Ut;return n.closed=!0,n})();const td=Ut.EMPTY;function xp(n){return n instanceof Ut||n&&"closed"in n&&De(n.remove)&&De(n.add)&&De(n.unsubscribe)}function ia(n){De(n)?n():n.unsubscribe()}const uo={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},wl={setTimeout(n,e,...t){const{delegate:r}=wl;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=wl;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function s0(n){wl.setTimeout(()=>{const{onUnhandledError:e}=uo;if(!e)throw n;e(n)})}function sa(){}const o0=nd("C",void 0,void 0);function nd(n,e,t){return{kind:n,value:e,error:t}}let Ts=null;function zi(n){if(uo.useDeprecatedSynchronousErrorHandling){const e=!Ts;if(e&&(Ts={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=Ts;if(Ts=null,t)throw r}}else n()}class Dl extends Ut{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,xp(e)&&e.add(this)):this.destination=id}static create(e,t,r){return new ws(e,t,r)}next(e){this.isStopped?rd(function l0(n){return nd("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?rd(function a0(n){return nd("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?rd(o0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const kp=Function.prototype.bind;function Sl(n,e){return kp.call(n,e)}class Fp{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Vr(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Vr(r)}else Vr(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Vr(t)}}}class ws extends Dl{constructor(e,t,r){let i;if(super(),De(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&uo.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Sl(e.next,s),error:e.error&&Sl(e.error,s),complete:e.complete&&Sl(e.complete,s)}):i=e}this.destination=new Fp(i)}}function Vr(n){uo.useDeprecatedSynchronousErrorHandling?function u0(n){uo.useDeprecatedSynchronousErrorHandling&&Ts&&(Ts.errorThrown=!0,Ts.error=n)}(n):s0(n)}function rd(n,e){const{onStoppedNotification:t}=uo;t&&wl.setTimeout(()=>t(n,e))}const id={closed:!0,next:sa,error:function Lp(n){throw n},complete:sa},sd="function"==typeof Symbol&&Symbol.observable||"@@observable";function bi(n){return n}function Bp(n){return 0===n.length?bi:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let Fe=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function d0(n){return n&&n instanceof Dl||function c0(n){return n&&De(n.next)&&De(n.error)&&De(n.complete)}(n)&&xp(n)}(t)?t:new ws(t,r,i);return zi(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=Up(r))((i,s)=>{const o=new ws({next:a=>{try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[sd](){return this}pipe(...t){return Bp(t)(this)}toPromise(t){return new(t=Up(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function Up(n){var e;return null!==(e=n??uo.Promise)&&void 0!==e?e:Promise}const h0=ao(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let qe=(()=>{class n extends Fe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new jp(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new h0}next(t){zi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){zi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){zi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?td:(this.currentObservers=null,s.push(t),new Ut(()=>{this.currentObservers=null,lo(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new Fe;return t.source=this,t}}return n.create=(e,t)=>new jp(e,t),n})();class jp extends qe{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:td}}function od(n){return De(n?.lift)}function St(n){return e=>{if(od(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ct(n,e,t,r,i){return new f0(n,e,t,r,i)}class f0 extends Dl{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Ne(n,e){return St((t,r)=>{let i=0;t.subscribe(ct(r,s=>{r.next(n.call(e,s,i++))}))})}function Gp(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function Er(n){return this instanceof Er?(this.v=n,this):new Er(n)}function br(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function jt(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,l){!function i(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}(a,l,(o=n[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const v0=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function RR(n){return De(n?.then)}function NR(n){return De(n[sd])}function MR(n){return Symbol.asyncIterator&&De(n?.[Symbol.asyncIterator])}function PR(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const OR=function M5(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function xR(n){return De(n?.[OR])}function kR(n){return function oa(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function l(h){h.value instanceof Er?Promise.resolve(h.value.v).then(u,c):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function u(h){a("next",h)}function c(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield Er(t.read());if(i)return yield Er(void 0);yield yield Er(r)}}finally{t.releaseLock()}})}function FR(n){return De(n?.getReader)}function cn(n){if(n instanceof Fe)return n;if(null!=n){if(NR(n))return function P5(n){return new Fe(e=>{const t=n[sd]();if(De(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(v0(n))return function O5(n){return new Fe(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(RR(n))return function x5(n){return new Fe(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,s0)})}(n);if(MR(n))return LR(n);if(xR(n))return function k5(n){return new Fe(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(FR(n))return function F5(n){return LR(kR(n))}(n)}throw PR(n)}function LR(n){return new Fe(e=>{(function L5(n,e){var t,r,i,s;return function A(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(c.value).then(a,l)}u((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=br(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Ds(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function dn(n,e,t=1/0){return De(e)?dn((r,i)=>Ne((s,o)=>e(r,s,i,o))(cn(n(r,i))),t):("number"==typeof e&&(t=e),St((r,i)=>function V5(n,e,t,r,i,s,o,a){const l=[];let u=0,c=0,d=!1;const h=()=>{d&&!l.length&&!u&&e.complete()},f=g=>u<r?p(g):l.push(g),p=g=>{s&&e.next(g),u++;let m=!1;cn(t(g,c++)).subscribe(ct(e,y=>{i?.(y),s?f(y):e.next(y)},()=>{m=!0},void 0,()=>{if(m)try{for(u--;l.length&&u<r;){const y=l.shift();o?Ds(e,o,()=>p(y)):p(y)}h()}catch(y){e.error(y)}}))};return n.subscribe(ct(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,n,t)))}function Rl(n=1/0){return dn(bi,n)}const ni=new Fe(n=>n.complete());function VR(n){return n&&De(n.schedule)}function E0(n){return n[n.length-1]}function Wp(n){return De(E0(n))?n.pop():void 0}function ld(n){return VR(E0(n))?n.pop():void 0}function qp(n,e=0){return St((t,r)=>{t.subscribe(ct(r,i=>Ds(r,n,()=>r.next(i),e),()=>Ds(r,n,()=>r.complete(),e),i=>Ds(r,n,()=>r.error(i),e)))})}function Kp(n,e=0){return St((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function BR(n,e){if(!n)throw new Error("Iterable cannot be null");return new Fe(t=>{Ds(t,e,()=>{const r=n[Symbol.asyncIterator]();Ds(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function bn(n,e){return e?function W5(n,e){if(null!=n){if(NR(n))return function j5(n,e){return cn(n).pipe(Kp(e),qp(e))}(n,e);if(v0(n))return function H5(n,e){return new Fe(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(RR(n))return function $5(n,e){return cn(n).pipe(Kp(e),qp(e))}(n,e);if(MR(n))return BR(n,e);if(xR(n))return function G5(n,e){return new Fe(t=>{let r;return Ds(t,e,()=>{r=n[OR](),Ds(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>De(r?.return)&&r.return()})}(n,e);if(FR(n))return function z5(n,e){return BR(kR(n),e)}(n,e)}throw PR(n)}(n,e):cn(n)}class ri extends qe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function ue(...n){return bn(n,ld(n))}function jR(n={}){const{connector:e=(()=>new qe),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,l,u=0,c=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=l=void 0,c=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return St((g,m)=>{u++,!d&&!c&&h();const y=l=l??e();m.add(()=>{u--,0===u&&!d&&!c&&(a=b0(p,i))}),y.subscribe(m),!o&&u>0&&(o=new ws({next:_=>y.next(_),error:_=>{d=!0,h(),a=b0(f,t,_),y.error(_)},complete:()=>{c=!0,h(),a=b0(f,r),y.complete()}}),cn(g).subscribe(o))})(s)}}function b0(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new ws({next:()=>{r.unsubscribe(),n()}});return cn(e(...t)).subscribe(r)}function Ii(n,e){return St((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(ct(r,l=>{i?.unsubscribe();let u=0;const c=s++;cn(n(l,c)).subscribe(i=ct(r,d=>r.next(e?e(l,d,c,u++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function q5(n,e){return n===e}function rt(n){for(let e in n)if(n[e]===rt)return e;throw Error("Could not find renamed property on target object.")}function Qp(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function hn(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(hn).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function I0(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const K5=rt({__forward_ref__:rt});function Ce(n){return n.__forward_ref__=Ce,n.toString=function(){return hn(this())},n}function he(n){return T0(n)?n():n}function T0(n){return"function"==typeof n&&n.hasOwnProperty(K5)&&n.__forward_ref__===Ce}function w0(n){return n&&!!n.\u0275providers}const HR="https://g.co/ng/security#xss";class C extends Error{constructor(e,t){super(function Yp(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function pe(n){return"string"==typeof n?n:null==n?"":String(n)}function D0(n,e){throw new C(-201,!1)}function ii(n,e){null==n&&function ce(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function H(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function xe(n){return{providers:n.providers||[],imports:n.imports||[]}}function Jp(n){return GR(n,Xp)||GR(n,zR)}function GR(n,e){return n.hasOwnProperty(e)?n[e]:null}function Zp(n){return n&&(n.hasOwnProperty(S0)||n.hasOwnProperty(nW))?n[S0]:null}const Xp=rt({\u0275prov:rt}),S0=rt({\u0275inj:rt}),zR=rt({ngInjectableDef:rt}),nW=rt({ngInjectorDef:rt});var Ae=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Ae||{});let C0;function Ir(n){const e=C0;return C0=n,e}function qR(n,e,t){const r=Jp(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&Ae.Optional?null:void 0!==e?e:void D0(hn(n))}const dt=globalThis;class X{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=H({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const ud={},P0="__NG_DI_FLAG__",eg="ngTempTokenPath",sW=/\n/gm,QR="__source";let Nl;function ho(n){const e=Nl;return Nl=n,e}function lW(n,e=Ae.Default){if(void 0===Nl)throw new C(-203,!1);return null===Nl?qR(n,void 0,e):Nl.get(n,e&Ae.Optional?null:void 0,e)}function U(n,e=Ae.Default){return(function WR(){return C0}()||lW)(he(n),e)}function B(n,e=Ae.Default){return U(n,tg(e))}function tg(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function O0(n){const e=[];for(let t=0;t<n.length;t++){const r=he(n[t]);if(Array.isArray(r)){if(0===r.length)throw new C(900,!1);let i,s=Ae.Default;for(let o=0;o<r.length;o++){const a=r[o],l=uW(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}e.push(U(i,s))}else e.push(U(r))}return e}function cd(n,e){return n[P0]=e,n.prototype[P0]=e,n}function uW(n){return n[P0]}function Ss(n){return{toString:n}.toString()}var ng=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(ng||{}),si=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(si||{});const Wi={},Ge=[],rg=rt({\u0275cmp:rt}),x0=rt({\u0275dir:rt}),k0=rt({\u0275pipe:rt}),JR=rt({\u0275mod:rt}),Cs=rt({\u0275fac:rt}),dd=rt({__NG_ELEMENT_ID__:rt}),ZR=rt({__NG_ENV_ID__:rt});function XR(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}function F0(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{const s=i,o=t[++r];tN(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function eN(n){return 3===n||4===n||6===n}function tN(n){return 64===n.charCodeAt(0)}function hd(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||nN(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function nN(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}const rN="ng-template";function hW(n,e,t){let r=0,i=!0;for(;r<n.length;){let s=n[r++];if("string"==typeof s&&i){const o=n[r++];if(t&&"class"===s&&-1!==XR(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<n.length&&"string"==typeof(s=n[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function iN(n){return 4===n.type&&n.value!==rN}function fW(n,e,t){return e===(4!==n.type||t?n.value:rN)}function pW(n,e,t){let r=4;const i=n.attrs||[],s=function _W(n){for(let e=0;e<n.length;e++)if(eN(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!fW(n,l,t)||""===l&&1===e.length){if(Ti(r))return!1;o=!0}}else{const u=8&r?l:e[++a];if(8&r&&null!==n.attrs){if(!hW(n.attrs,u,t)){if(Ti(r))return!1;o=!0}continue}const d=gW(8&r?"class":l,i,iN(n),t);if(-1===d){if(Ti(r))return!1;o=!0;continue}if(""!==u){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==XR(f,u,0)||2&r&&u!==h){if(Ti(r))return!1;o=!0}}}}else{if(!o&&!Ti(r)&&!Ti(l))return!1;if(o&&Ti(l))continue;o=!1,r=l|1&r}}return Ti(r)||o}function Ti(n){return 0==(1&n)}function gW(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function yW(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function sN(n,e,t=!1){for(let r=0;r<e.length;r++)if(pW(n,e[r],t))return!0;return!1}function vW(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function oN(n,e){return n?":not("+e.trim()+")":e}function EW(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Ti(o)&&(e+=oN(s,i),i=""),r=o,s=s||!Ti(r);t++}return""!==i&&(e+=oN(s,i)),e}function nn(n){return Ss(()=>{const e=lN(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===ng.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||si.Emulated,styles:n.styles||Ge,_:null,schemas:n.schemas||null,tView:null,id:""};uN(t);const r=n.dependencies;return t.directiveDefs=ig(r,!1),t.pipeDefs=ig(r,!0),t.id=function AW(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function wW(n){return Ve(n)||Nn(n)}function DW(n){return null!==n}function Le(n){return Ss(()=>({type:n.type,bootstrap:n.bootstrap||Ge,declarations:n.declarations||Ge,imports:n.imports||Ge,exports:n.exports||Ge,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function aN(n,e){if(null==n)return Wi;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}function $(n){return Ss(()=>{const e=lN(n);return uN(e),e})}function Tr(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Ve(n){return n[rg]||null}function Nn(n){return n[x0]||null}function or(n){return n[k0]||null}function Ur(n,e){const t=n[JR]||null;if(!t&&!0===e)throw new Error(`Type ${hn(n)} does not have '\u0275mod' property.`);return t}function lN(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Wi,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||Ge,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:aN(n.inputs,e),outputs:aN(n.outputs)}}function uN(n){n.features?.forEach(e=>e(n))}function ig(n,e){if(!n)return null;const t=e?or:wW;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(DW)}const kt=0,J=1,ve=2,vt=3,wi=4,fd=5,Kn=6,Pl=7,$t=8,fo=9,Ol=10,ge=11,pd=12,cN=13,xl=14,Ht=15,gd=16,kl=17,qi=18,md=19,dN=20,po=21,As=22,_d=23,yd=24,Re=25,L0=1,hN=2,Ki=7,Fl=9,Mn=11;function wr(n){return Array.isArray(n)&&"object"==typeof n[L0]}function ar(n){return Array.isArray(n)&&!0===n[L0]}function V0(n){return 0!=(4&n.flags)}function ua(n){return n.componentOffset>-1}function og(n){return 1==(1&n.flags)}function Di(n){return!!n.template}function B0(n){return 0!=(512&n[ve])}function ca(n,e){return n.hasOwnProperty(Cs)?n[Cs]:null}let Pn=null,ag=!1;function oi(n){const e=Pn;return Pn=n,e}const gN={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function _N(n){if(!Ed(n)||n.dirty){if(!n.producerMustRecompute(n)&&!EN(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function vN(n){n.dirty=!0,function yN(n){if(void 0===n.liveConsumerNode)return;const e=ag;ag=!0;try{for(const t of n.liveConsumerNode)t.dirty||vN(t)}finally{ag=e}}(n),n.consumerMarkedDirty?.(n)}function j0(n){return n&&(n.nextProducerIndex=0),oi(n)}function $0(n,e){if(oi(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(Ed(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)lg(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function EN(n){Ll(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(_N(t),r!==t.version))return!0}return!1}function bN(n){if(Ll(n),Ed(n))for(let e=0;e<n.producerNode.length;e++)lg(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function lg(n,e){if(function TN(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),Ll(n),1===n.liveConsumerNode.length)for(let r=0;r<n.producerNode.length;r++)lg(n.producerNode[r],n.producerIndexOfThis[r]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Ll(i),i.producerIndexOfThis[r]=e}}function Ed(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Ll(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let wN=null;function CN(n){const e=oi(null);try{return n()}finally{oi(e)}}const AN=()=>{},jW=(()=>({...gN,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:AN}))();class $W{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function On(){return RN}function RN(n){return n.type.prototype.ngOnChanges&&(n.setInput=GW),HW}function HW(){const n=MN(this),e=n?.current;if(e){const t=n.previous;if(t===Wi)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function GW(n,e,t,r){const i=this.declaredInputs[t],s=MN(n)||function zW(n,e){return n[NN]=e}(n,{previous:Wi,current:null}),o=s.current||(s.current={}),a=s.previous,l=a[i];o[i]=new $W(l&&l.currentValue,e,a===Wi),n[r]=e}On.ngInherit=!0;const NN="__ngSimpleChanges__";function MN(n){return n[NN]||null}const Qi=function(n,e,t){};function ht(n){for(;Array.isArray(n);)n=n[kt];return n}function ug(n,e){return ht(e[n])}function Dr(n,e){return ht(e[n.index])}function xN(n,e){return n.data[e]}function Vl(n,e){return n[e]}function jr(n,e){const t=e[n];return wr(t)?t:t[kt]}function mo(n,e){return null==e?null:n[e]}function kN(n){n[kl]=0}function JW(n){1024&n[ve]||(n[ve]|=1024,LN(n,1))}function FN(n){1024&n[ve]&&(n[ve]&=-1025,LN(n,-1))}function LN(n,e){let t=n[vt];if(null===t)return;t[fd]+=e;let r=t;for(t=t[vt];null!==t&&(1===e&&1===r[fd]||-1===e&&0===r[fd]);)t[fd]+=e,r=t,t=t[vt]}const de={lFrame:KN(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function UN(){return de.bindingsEnabled}function Bl(){return null!==de.skipHydrationRootTNode}function P(){return de.lFrame.lView}function Be(){return de.lFrame.tView}function rn(n){return de.lFrame.contextLView=n,n[$t]}function sn(n){return de.lFrame.contextLView=null,n}function xn(){let n=jN();for(;null!==n&&64===n.type;)n=n.parent;return n}function jN(){return de.lFrame.currentTNode}function Yi(n,e){const t=de.lFrame;t.currentTNode=n,t.isParent=e}function q0(){return de.lFrame.isParent}function K0(){de.lFrame.isParent=!1}function Ul(){return de.lFrame.bindingIndex++}function Ns(n){const e=de.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function uq(n,e){const t=de.lFrame;t.bindingIndex=t.bindingRootIndex=n,Q0(e)}function Q0(n){de.lFrame.currentDirectiveIndex=n}function zN(){return de.lFrame.currentQueryIndex}function J0(n){de.lFrame.currentQueryIndex=n}function dq(n){const e=n[J];return 2===e.type?e.declTNode:1===e.type?n[Kn]:null}function WN(n,e,t){if(t&Ae.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&Ae.Host||(i=dq(s),null===i||(s=s[xl],10&i.type))););if(null===i)return!1;e=i,n=s}const r=de.lFrame=qN();return r.currentTNode=e,r.lView=n,!0}function Z0(n){const e=qN(),t=n[J];de.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function qN(){const n=de.lFrame,e=null===n?null:n.child;return null===e?KN(n):e}function KN(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function QN(){const n=de.lFrame;return de.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const YN=QN;function X0(){const n=QN();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function ur(){return de.lFrame.selectedIndex}function da(n){de.lFrame.selectedIndex=n}function Ct(){const n=de.lFrame;return xN(n.tView,n.selectedIndex)}let ZN=!0;function cg(){return ZN}function _o(n){ZN=n}function dg(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:c}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),u&&((n.viewHooks??=[]).push(t,u),(n.viewCheckHooks??=[]).push(t,u)),null!=c&&(n.destroyHooks??=[]).push(t,c)}}function hg(n,e,t){XN(n,e,3,t)}function fg(n,e,t,r){(3&n[ve])===t&&XN(n,e,t,r)}function eE(n,e){let t=n[ve];(3&t)===e&&(t&=8191,t+=1,n[ve]=t)}function XN(n,e,t,r){const s=r??-1,o=e.length-1;let a=0;for(let l=void 0!==r?65535&n[kl]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(n[kl]+=65536),(a<s||-1==s)&&(vq(n,t,e,l),n[kl]=(4294901760&n[kl])+l+2),l++}function eM(n,e){Qi(4,n,e);const t=oi(null);try{e.call(n)}finally{oi(t),Qi(5,n,e)}}function vq(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];i?n[ve]>>13<n[kl]>>16&&(3&n[ve])===e&&(n[ve]+=8192,eM(a,s)):eM(a,s)}const jl=-1;class Id{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function nE(n){return n!==jl}function Td(n){return 32767&n}function wd(n,e){let t=function Tq(n){return n>>16}(n),r=e;for(;t>0;)r=r[xl],t--;return r}let rE=!0;function pg(n){const e=rE;return rE=n,e}const tM=255,nM=5;let wq=0;const Ji={};function gg(n,e){const t=rM(n,e);if(-1!==t)return t;const r=e[J];r.firstCreatePass&&(n.injectorIndex=e.length,iE(r.data,n),iE(e,null),iE(r.blueprint,null));const i=mg(n,e),s=n.injectorIndex;if(nE(i)){const o=Td(i),a=wd(i,e),l=a[J].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|l[o+u]}return e[s+8]=i,s}function iE(n,e){n.push(0,0,0,0,0,0,0,0,e)}function rM(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function mg(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=cM(i),null===r)return jl;if(t++,i=i[xl],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return jl}function sE(n,e,t){!function Dq(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(dd)&&(r=t[dd]),null==r&&(r=t[dd]=wq++);const i=r&tM;e.data[n+(i>>nM)]|=1<<i}(n,e,t)}function iM(n,e,t){if(t&Ae.Optional||void 0!==n)return n;D0()}function sM(n,e,t,r){if(t&Ae.Optional&&void 0===r&&(r=null),!(t&(Ae.Self|Ae.Host))){const i=n[fo],s=Ir(void 0);try{return i?i.get(e,r,t&Ae.Optional):qR(e,r,t&Ae.Optional)}finally{Ir(s)}}return iM(r,0,t)}function oM(n,e,t,r=Ae.Default,i){if(null!==n){if(2048&e[ve]&&!(r&Ae.Self)){const o=function Mq(n,e,t,r,i){let s=n,o=e;for(;null!==s&&null!==o&&2048&o[ve]&&!(512&o[ve]);){const a=aM(s,o,t,r|Ae.Self,Ji);if(a!==Ji)return a;let l=s.parent;if(!l){const u=o[dN];if(u){const c=u.get(t,Ji,r);if(c!==Ji)return c}l=cM(o),o=o[xl]}s=l}return i}(n,e,t,r,Ji);if(o!==Ji)return o}const s=aM(n,e,t,r,Ji);if(s!==Ji)return s}return sM(e,t,r,i)}function aM(n,e,t,r,i){const s=function Aq(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(dd)?n[dd]:void 0;return"number"==typeof e?e>=0?e&tM:Nq:e}(t);if("function"==typeof s){if(!WN(e,n,r))return r&Ae.Host?iM(i,0,r):sM(e,t,r,i);try{let o;if(o=s(r),null!=o||r&Ae.Optional)return o;D0()}finally{YN()}}else if("number"==typeof s){let o=null,a=rM(n,e),l=jl,u=r&Ae.Host?e[Ht][Kn]:null;for((-1===a||r&Ae.SkipSelf)&&(l=-1===a?mg(n,e):e[a+8],l!==jl&&uM(r,!1)?(o=e[J],a=Td(l),e=wd(l,e)):a=-1);-1!==a;){const c=e[J];if(lM(s,a,c.data)){const d=Cq(a,e,t,o,r,u);if(d!==Ji)return d}l=e[a+8],l!==jl&&uM(r,e[J].data[a+8]===u)&&lM(s,a,e)?(o=c,a=Td(l),e=wd(l,e)):a=-1}}return i}function Cq(n,e,t,r,i,s){const o=e[J],a=o.data[n+8],c=_g(a,o,t,null==r?ua(a)&&rE:r!=o&&0!=(3&a.type),i&Ae.Host&&s===a);return null!==c?ha(e,o,c,a):Ji}function _g(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,l=n.directiveStart,c=s>>20,h=i?a+c:n.directiveEnd;for(let f=r?a:a+c;f<h;f++){const p=o[f];if(f<l&&t===p||f>=l&&p.type===t)return f}if(i){const f=o[l];if(f&&Di(f)&&f.type===t)return l}return null}function ha(n,e,t,r){let i=n[t];const s=e.data;if(function Eq(n){return n instanceof Id}(i)){const o=i;o.resolving&&function Q5(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new C(-200,`Circular dependency in DI detected for ${n}${t}`)}(function Ke(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():pe(n)}(s[t]));const a=pg(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?Ir(o.injectImpl):null;WN(n,r,Ae.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function yq(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=RN(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}i&&(t.preOrderHooks??=[]).push(0-n,i),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}(t,s[t],e)}finally{null!==u&&Ir(u),pg(a),o.resolving=!1,YN()}}return i}function lM(n,e,t){return!!(t[e+(n>>nM)]&1<<n)}function uM(n,e){return!(n&Ae.Self||n&Ae.Host&&e)}class cr{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return oM(this._tNode,this._lView,e,tg(r),t)}}function Nq(){return new cr(xn(),P())}function Gt(n){return Ss(()=>{const e=n.prototype.constructor,t=e[Cs]||oE(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[Cs]||oE(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function oE(n){return T0(n)?()=>{const e=oE(he(n));return e&&e()}:ca(n)}function cM(n){const e=n[J],t=e.type;return 2===t?e.declTNode:1===t?n[Kn]:null}const Hl="__parameters__";function zl(n,e,t){return Ss(()=>{const r=function aE(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,u,c){const d=l.hasOwnProperty(Hl)?l[Hl]:Object.defineProperty(l,Hl,{value:[]})[Hl];for(;d.length<=c;)d.push(null);return(d[c]=d[c]||[]).push(o),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function ql(n,e){n.forEach(t=>Array.isArray(t)?ql(t,e):e(t))}function hM(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function yg(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Cd(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}function $r(n,e,t){let r=Kl(n,e);return r>=0?n[1|r]=t:(r=~r,function Vq(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function lE(n,e){const t=Kl(n,e);if(t>=0)return n[1|t]}function Kl(n,e){return function fM(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const kn=cd(zl("Optional"),8),Eg=cd(zl("SkipSelf"),4);function Dg(n){return 128==(128&n.flags)}var yo=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(yo||{});const fE=new Map;let l6=0;const gE="__ngContext__";function Qn(n,e){wr(e)?(n[gE]=e[md],function c6(n){fE.set(n[md],n)}(e)):n[gE]=e}let mE;function _E(n,e){return mE(n,e)}function Nd(n){const e=n[vt];return ar(e)?e[vt]:e}function OM(n){return kM(n[pd])}function xM(n){return kM(n[wi])}function kM(n){for(;null!==n&&!ar(n);)n=n[wi];return n}function Jl(n,e,t,r,i){if(null!=r){let s,o=!1;ar(r)?s=r:wr(r)&&(o=!0,r=r[kt]);const a=ht(r);0===n&&null!==t?null==i?BM(e,t,a):pa(e,t,a,i||null,!0):1===n&&null!==t?pa(e,t,a,i||null,!0):2===n?function Pg(n,e,t){const r=Ng(n,e);r&&function R6(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function P6(n,e,t,r,i){const s=t[Ki];s!==ht(t)&&Jl(e,n,r,s,i);for(let a=Mn;a<t.length;a++){const l=t[a];Pd(l[J],l,n,e,r,s)}}(e,n,s,t,i)}}function Ag(n,e,t){return n.createElement(e,t)}function LM(n,e){const t=n[Fl],r=t.indexOf(e);FN(e),t.splice(r,1)}function Rg(n,e){if(n.length<=Mn)return;const t=Mn+e,r=n[t];if(r){const i=r[gd];null!==i&&i!==n&&LM(i,r),e>0&&(n[t-1][wi]=r[wi]);const s=yg(n,Mn+e);!function b6(n,e){Pd(n,e,e[ge],2,null,null),e[kt]=null,e[Kn]=null}(r[J],r);const o=s[qi];null!==o&&o.detachView(s[J]),r[vt]=null,r[wi]=null,r[ve]&=-129}return r}function vE(n,e){if(!(256&e[ve])){const t=e[ge];e[_d]&&bN(e[_d]),e[yd]&&bN(e[yd]),t.destroyNode&&Pd(n,e,t,3,null,null),function w6(n){let e=n[pd];if(!e)return EE(n[J],n);for(;e;){let t=null;if(wr(e))t=e[pd];else{const r=e[Mn];r&&(t=r)}if(!t){for(;e&&!e[wi]&&e!==n;)wr(e)&&EE(e[J],e),e=e[vt];null===e&&(e=n),wr(e)&&EE(e[J],e),t=e&&e[wi]}e=t}}(e)}}function EE(n,e){if(!(256&e[ve])){e[ve]&=-129,e[ve]|=256,function A6(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Id)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];Qi(4,a,l);try{l.call(a)}finally{Qi(5,a,l)}}else{Qi(4,i,s);try{s.call(i)}finally{Qi(5,i,s)}}}}}(n,e),function C6(n,e){const t=n.cleanup,r=e[Pl];if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else t[s].call(r[t[s+1]]);null!==r&&(e[Pl]=null);const i=e[po];if(null!==i){e[po]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(n,e),1===e[J].type&&e[ge].destroy();const t=e[gd];if(null!==t&&ar(e[vt])){t!==e[vt]&&LM(t,e);const r=e[qi];null!==r&&r.detachView(n)}!function d6(n){fE.delete(n[md])}(e)}}function bE(n,e,t){return function VM(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[kt];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=n.data[r.directiveStart+i];if(s===si.None||s===si.Emulated)return null}return Dr(r,t)}}(n,e.parent,t)}function pa(n,e,t,r,i){n.insertBefore(e,t,r,i)}function BM(n,e,t){n.appendChild(e,t)}function UM(n,e,t,r,i){null!==r?pa(n,e,t,r,i):BM(n,e,t)}function Ng(n,e){return n.parentNode(e)}function jM(n,e,t){return HM(n,e,t)}let IE,SE,xg,HM=function $M(n,e,t){return 40&n.type?Dr(n,t):null};function Mg(n,e,t,r){const i=bE(n,r,e),s=e[ge],a=jM(r.parent||e[Kn],r,e);if(null!=i)if(Array.isArray(t))for(let l=0;l<t.length;l++)UM(s,i,t[l],a,!1);else UM(s,i,t,a,!1);void 0!==IE&&IE(s,r,e,t,i)}function Md(n,e){if(null!==e){const t=e.type;if(3&t)return Dr(e,n);if(4&t)return TE(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Md(n,r);{const i=n[e.index];return ar(i)?TE(-1,i):ht(i)}}if(32&t)return _E(e,n)()||ht(n[e.index]);{const r=zM(n,e);return null!==r?Array.isArray(r)?r[0]:Md(Nd(n[Ht]),r):Md(n,e.next)}}return null}function zM(n,e){return null!==e?n[Ht][Kn].projection[e.projection]:null}function TE(n,e){const t=Mn+n+1;if(t<e.length){const r=e[t],i=r[J].firstChild;if(null!==i)return Md(r,i)}return e[Ki]}function wE(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],l=t.type;if(o&&0===e&&(a&&Qn(ht(a),r),t.flags|=2),32!=(32&t.flags))if(8&l)wE(n,e,t.child,r,i,s,!1),Jl(e,n,i,a,s);else if(32&l){const u=_E(t,r);let c;for(;c=u();)Jl(e,n,i,c,s);Jl(e,n,i,a,s)}else 16&l?qM(n,e,r,t,i,s):Jl(e,n,i,a,s);t=o?t.projectionNext:t.next}}function Pd(n,e,t,r,i,s){wE(t,r,n.firstChild,e,i,s,!1)}function qM(n,e,t,r,i,s){const o=t[Ht],l=o[Kn].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++)Jl(e,n,i,l[u],s);else{let u=l;const c=o[vt];Dg(r)&&(u.flags|=128),wE(n,e,u,c,i,s,!0)}}function KM(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function QM(n,e,t){const{mergedAttrs:r,classes:i,styles:s}=t;null!==r&&F0(n,e,r),null!==i&&KM(n,e,i),null!==s&&function x6(n,e,t){n.setAttribute(e,"style",t)}(n,e,s)}function ZM(n){return function CE(){if(void 0===xg&&(xg=null,dt.trustedTypes))try{xg=dt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return xg}()?.createScriptURL(n)||n}class XM{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${HR})`}}function vo(n){return n instanceof XM?n.changingThisBreaksApplicationSecurity:n}function Od(n,e){const t=function G6(n){return n instanceof XM&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${HR})`)}return t===e}const K6=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var eu=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(eu||{});function PE(n){const e=kd();return e?e.sanitize(eu.URL,n)||"":Od(n,"URL")?vo(n):function AE(n){return(n=String(n)).match(K6)?n:"unsafe:"+n}(pe(n))}function oP(n){const e=kd();if(e)return ZM(e.sanitize(eu.RESOURCE_URL,n)||"");if(Od(n,"ResourceURL"))return ZM(vo(n));throw new C(904,!1)}function kd(){const n=P();return n&&n[Ol].sanitizer}const Fd=new X("ENVIRONMENT_INITIALIZER"),lP=new X("INJECTOR",-1),uP=new X("INJECTOR_DEF_TYPES");class OE{get(e,t=ud){if(t===ud){const r=new Error(`NullInjectorError: No provider for ${hn(e)}!`);throw r.name="NullInjectorError",r}return t}}function a8(...n){return{\u0275providers:dP(0,n),\u0275fromNgModule:!0}}function dP(n,...e){const t=[],r=new Set;let i;const s=o=>{t.push(o)};return ql(e,o=>{const a=o;Fg(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&hP(i,s),t}function hP(n,e){for(let t=0;t<n.length;t++){const{ngModule:r,providers:i}=n[t];xE(i,s=>{e(s,r)})}}function Fg(n,e,t,r){if(!(n=he(n)))return!1;let i=null,s=Zp(n);const o=!s&&Ve(n);if(s||o){if(o&&!o.standalone)return!1;i=n}else{const l=n.ngModule;if(s=Zp(l),!s)return!1;i=l}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const u of l)Fg(u,e,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let u;r.add(i);try{ql(s.imports,c=>{Fg(c,e,t,r)&&(u||=[],u.push(c))})}finally{}void 0!==u&&hP(u,e)}if(!a){const u=ca(i)||(()=>new i);e({provide:i,useFactory:u,deps:Ge},i),e({provide:uP,useValue:i,multi:!0},i),e({provide:Fd,useValue:()=>U(i),multi:!0},i)}const l=s.providers;if(null!=l&&!a){const u=n;xE(l,c=>{e(c,u)})}}}return i!==n&&void 0!==n.providers}function xE(n,e){for(let t of n)w0(t)&&(t=t.\u0275providers),Array.isArray(t)?xE(t,e):e(t)}const l8=rt({provide:String,useValue:rt});function kE(n){return null!==n&&"object"==typeof n&&l8 in n}function ga(n){return"function"==typeof n}const FE=new X("Set Injector scope."),Lg={},c8={};let LE;function Vg(){return void 0===LE&&(LE=new OE),LE}class Cr{}class tu extends Cr{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,BE(e,o=>this.processProvider(o)),this.records.set(lP,nu(void 0,this)),i.has("environment")&&this.records.set(Cr,nu(void 0,this));const s=this.records.get(FE);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(uP.multi,Ge,Ae.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=ho(this),r=Ir(void 0);try{return e()}finally{ho(t),Ir(r)}}get(e,t=ud,r=Ae.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(ZR))return e[ZR](this);r=tg(r);const s=ho(this),o=Ir(void 0);try{if(!(r&Ae.SkipSelf)){let l=this.records.get(e);if(void 0===l){const u=function g8(n){return"function"==typeof n||"object"==typeof n&&n instanceof X}(e)&&Jp(e);l=u&&this.injectableDefInScope(u)?nu(VE(e),Lg):null,this.records.set(e,l)}if(null!=l)return this.hydrate(e,l)}return(r&Ae.Self?Vg():this.parent).get(e,t=r&Ae.Optional&&t===ud?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[eg]=a[eg]||[]).unshift(hn(e)),s)throw a;return function cW(n,e,t,r){const i=n[eg];throw e[QR]&&i.unshift(e[QR]),n.message=function dW(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=hn(e);if(Array.isArray(e))i=e.map(hn).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):hn(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(sW,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[eg]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{Ir(o),ho(s)}}resolveInjectorInitializers(){const e=ho(this),t=Ir(void 0);try{const i=this.get(Fd.multi,Ge,Ae.Self);for(const s of i)s()}finally{ho(e),Ir(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(hn(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new C(205,!1)}processProvider(e){let t=ga(e=he(e))?e:he(e&&e.provide);const r=function h8(n){return kE(n)?nu(void 0,n.useValue):nu(gP(n),Lg)}(e);if(ga(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=nu(void 0,Lg,!0),i.factory=()=>O0(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===Lg&&(t.value=c8,t.value=t.factory()),"object"==typeof t.value&&t.value&&function p8(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=he(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function VE(n){const e=Jp(n),t=null!==e?e.factory:ca(n);if(null!==t)return t;if(n instanceof X)throw new C(204,!1);if(n instanceof Function)return function d8(n){const e=n.length;if(e>0)throw Cd(e,"?"),new C(204,!1);const t=function tW(n){return n&&(n[Xp]||n[zR])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new C(204,!1)}function gP(n,e,t){let r;if(ga(n)){const i=he(n);return ca(i)||VE(i)}if(kE(n))r=()=>he(n.useValue);else if(function pP(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...O0(n.deps||[]));else if(function fP(n){return!(!n||!n.useExisting)}(n))r=()=>U(he(n.useExisting));else{const i=he(n&&(n.useClass||n.provide));if(!function f8(n){return!!n.deps}(n))return ca(i)||VE(i);r=()=>new i(...O0(n.deps))}return r}function nu(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function BE(n,e){for(const t of n)Array.isArray(t)?BE(t,e):t&&w0(t)?BE(t.\u0275providers,e):e(t)}const Bg=new X("AppId",{providedIn:"root",factory:()=>m8}),m8="ng",mP=new X("Platform Initializer"),ma=new X("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),_P=new X("AnimationModuleType"),yP=new X("CSP nonce",{providedIn:"root",factory:()=>function Xl(){if(void 0!==SE)return SE;if(typeof document<"u")return document;throw new C(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let vP=(n,e,t)=>null;function qE(n,e,t=!1){return vP(n,e,t)}class S8{}class IP{}class A8{resolveComponentFactory(e){throw function C8(n){const e=Error(`No component factory found for ${hn(n)}.`);return e.ngComponent=n,e}(e)}}let zg=(()=>{class n{static#e=this.NULL=new A8}return n})();function R8(){return su(xn(),P())}function su(n,e){return new Qe(Dr(n,e))}let Qe=(()=>{class n{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=R8}return n})();function N8(n){return n instanceof Qe?n.nativeElement:n}class ou{}let Hr=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function M8(){const n=P(),t=jr(xn().index,n);return(wr(t)?t:n)[ge]}()}return n})(),P8=(()=>{class n{static#e=this.\u0275prov=H({token:n,providedIn:"root",factory:()=>null})}return n})();class au{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const wP=new au("16.2.12"),YE={};function AP(n,e=null,t=null,r){const i=RP(n,e,t,r);return i.resolveInjectorInitializers(),i}function RP(n,e=null,t=null,r,i=new Set){const s=[t||Ge,a8(n)];return r=r||("object"==typeof n?void 0:hn(n)),new tu(s,e||Vg(),r||null,i)}let zt=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=ud;static#t=this.NULL=new OE;static create(t,r){if(Array.isArray(t))return AP({name:""},r,t,"");{const i=t.name??"";return AP({name:i},t.parent,t.providers,i)}}static#n=this.\u0275prov=H({token:n,providedIn:"any",factory:()=>U(lP)});static#r=this.__NG_ELEMENT_ID__=-1}return n})();function JE(n){return n.ngOriginalError}class Ps{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&JE(e);for(;t&&JE(t);)t=JE(t);return t||null}}function ZE(n){return e=>{setTimeout(n,void 0,e)}}const ae=class U8 extends qe{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&"object"==typeof e){const l=e;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=ZE(s),i&&(i=ZE(i)),o&&(o=ZE(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof Ut&&e.add(a),a}};function MP(...n){}class Ee{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ae(!1),this.onMicrotaskEmpty=new ae(!1),this.onStable=new ae(!1),this.onError=new ae(!1),typeof Zone>"u")throw new C(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function j8(){const n="function"==typeof dt.requestAnimationFrame;let e=dt[n?"requestAnimationFrame":"setTimeout"],t=dt[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function G8(n){const e=()=>{!function H8(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(dt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,eb(n),n.isCheckStableRunning=!0,XE(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),eb(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{if(function W8(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(i,s,o,a);try{return PP(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),OP(n)}},onInvoke:(t,r,i,s,o,a,l)=>{try{return PP(n),t.invoke(i,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),OP(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,eb(n),XE(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ee.isInAngularZone())throw new C(909,!1)}static assertNotInAngularZone(){if(Ee.isInAngularZone())throw new C(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,$8,MP,MP);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const $8={};function XE(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function eb(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function PP(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function OP(n){n._nesting--,XE(n)}class z8{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ae,this.onMicrotaskEmpty=new ae,this.onStable=new ae,this.onError=new ae}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const xP=new X("",{providedIn:"root",factory:kP});function kP(){const n=B(Ee);let e=!0;return function UR(...n){const e=ld(n),t=function U5(n,e){return"number"==typeof E0(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?cn(r[0]):Rl(t)(bn(r,e)):ni}(new Fe(i=>{e=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{i.next(e),i.complete()})}),new Fe(i=>{let s;n.runOutsideAngular(()=>{s=n.onStable.subscribe(()=>{Ee.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=n.onUnstable.subscribe(()=>{Ee.assertInAngularZone(),e&&(e=!1,n.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(jR()))}function Os(n){return n instanceof Function?n():n}let tb=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=H({token:n,providedIn:"root",factory:()=>new n})}return n})();function Bd(n){for(;n;){n[ve]|=64;const e=Nd(n);if(B0(n)&&!e)return n;n=e}return null}const UP=new X("",{providedIn:"root",factory:()=>!1});let Kg=null;function GP(n,e){return n[e]??qP()}function zP(n,e){const t=qP();t.producerNode?.length&&(n[e]=Kg,t.lView=n,Kg=WP())}const n9={...gN,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Bd(n.lView)},lView:null};function WP(){return Object.create(n9)}function qP(){return Kg??=WP(),Kg}const _e={};function F(n){KP(Be(),P(),ur()+n,!1)}function KP(n,e,t,r){if(!r)if(3==(3&e[ve])){const s=n.preOrderCheckHooks;null!==s&&hg(e,s,t)}else{const s=n.preOrderHooks;null!==s&&fg(e,s,0,t)}da(t)}function E(n,e=Ae.Default){const t=P();return null===t?U(n,e):oM(xn(),t,he(n),e)}function Qg(n,e,t,r,i,s,o,a,l,u,c){const d=e.blueprint.slice();return d[kt]=i,d[ve]=140|r,(null!==u||n&&2048&n[ve])&&(d[ve]|=2048),kN(d),d[vt]=d[xl]=n,d[$t]=t,d[Ol]=o||n&&n[Ol],d[ge]=a||n&&n[ge],d[fo]=l||n&&n[fo]||null,d[Kn]=s,d[md]=function u6(){return l6++}(),d[As]=c,d[dN]=u,d[Ht]=2==e.type?n[Ht]:d,d}function du(n,e,t,r,i){let s=n.data[e];if(null===s)s=function nb(n,e,t,r,i){const s=jN(),o=q0(),l=n.data[e]=function c9(n,e,t,r,i,s){let o=e?e.injectorIndex:-1,a=0;return Bl()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(n,e,t,r,i),function lq(){return de.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function bd(){const n=de.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Yi(s,!0),s}function Ud(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function YP(n,e,t,r,i){const s=GP(e,_d),o=ur(),a=2&r;try{da(-1),a&&e.length>Re&&KP(n,e,Re,!1),Qi(a?2:0,i);const u=a?s:null,c=j0(u);try{null!==u&&(u.dirty=!1),t(r,i)}finally{$0(u,c)}}finally{a&&null===e[_d]&&zP(e,_d),da(o),Qi(a?3:1,i)}}function rb(n,e,t){if(V0(e)){const r=oi(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=n.data[o];a.contentQueries&&a.contentQueries(1,t[o],o)}}finally{oi(r)}}}function ib(n,e,t){UN()&&(function _9(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;ua(t)&&function w9(n,e,t){const r=Dr(e,n),i=JP(t);let o=16;t.signals?o=4096:t.onPush&&(o=64);const a=Yg(n,Qg(n,i,null,o,r,e,null,n[Ol].rendererFactory.createRenderer(r,t),null,null,null));n[e.index]=a}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||gg(t,e),Qn(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const l=n.data[a],u=ha(e,n,a,t);Qn(u,e),null!==o&&D9(0,a-i,u,l,0,o),Di(l)&&(jr(t.index,e)[$t]=ha(e,n,a,t))}}(n,e,t,Dr(t,e)),64==(64&t.flags)&&nO(n,e,t))}function sb(n,e,t=Dr){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function JP(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=ob(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function ob(n,e,t,r,i,s,o,a,l,u,c){const d=Re+r,h=d+i,f=function i9(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:_e);return t}(d,h),p="function"==typeof u?u():u;return f[J]={type:n,blueprint:f,template:t,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:c}}let ZP=n=>null;function XP(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const s=n[i];null===r?eO(t,e,i,s):r.hasOwnProperty(i)&&eO(t,e,r[i],s)}return t}function eO(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function ab(n,e,t,r){if(UN()){const i=null===r?null:{"":-1},s=function v9(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(sN(e,o.selectors,!1))if(r||(r=[]),Di(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),lb(n,e,a.length)}else r.unshift(o),lb(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(n,t);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&tO(n,e,t,o,i,a),i&&function E9(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new C(-301,!1);r.push(e[i],s)}}}(t,r,i)}t.mergedAttrs=hd(t.mergedAttrs,t.attrs)}function tO(n,e,t,r,i,s){for(let u=0;u<r.length;u++)sE(gg(t,e),n,r[u].type);!function I9(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let u=0;u<r.length;u++){const c=r[u];c.providersResolver&&c.providersResolver(c)}let o=!1,a=!1,l=Ud(n,e,r.length,null);for(let u=0;u<r.length;u++){const c=r[u];t.mergedAttrs=hd(t.mergedAttrs,c.hostAttrs),T9(n,t,e,l,c),b9(l,c,i),null!==c.contentQueries&&(t.flags|=4),(null!==c.hostBindings||null!==c.hostAttrs||0!==c.hostVars)&&(t.flags|=64);const d=c.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}!function d9(n,e,t){const i=e.directiveEnd,s=n.data,o=e.attrs,a=[];let l=null,u=null;for(let c=e.directiveStart;c<i;c++){const d=s[c],h=t?t.get(d):null,p=h?h.outputs:null;l=XP(d.inputs,c,l,h?h.inputs:null),u=XP(d.outputs,c,u,p);const g=null===l||null===o||iN(e)?null:S9(l,c,o);a.push(g)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=u}(n,t,s)}function nO(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,o=function cq(){return de.lFrame.currentDirectiveIndex}();try{da(s);for(let a=r;a<i;a++){const l=n.data[a],u=e[a];Q0(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&y9(l,u)}}finally{da(-1),Q0(o)}}function y9(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function lb(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function b9(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Di(e)&&(t[""]=n)}}function T9(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=ca(i.type)),o=new Id(s,Di(i),E);n.blueprint[r]=o,t[r]=o,function g9(n,e,t,r,i){const s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~e.index;(function m9(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,r,s)}}(n,e,r,Ud(n,t,i.hostVars,_e),i)}function Zi(n,e,t,r,i,s){const o=Dr(n,e);!function ub(n,e,t,r,i,s,o){if(null==s)n.removeAttribute(e,i,t);else{const a=null==o?pe(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}(e[ge],o,s,n.value,t,r,i)}function D9(n,e,t,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)rO(r,t,o[a++],o[a++],o[a++])}function rO(n,e,t,r,i){const s=oi(null);try{const o=n.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==n.setInput?n.setInput(e,i,t,r):e[r]=i}finally{oi(s)}}function S9(n,e,t){let r=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===r&&(r=[]);const o=n[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function iO(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null,null]}function sO(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const s=t[r+1];if(-1!==s){const o=n.data[s];J0(t[r]),o.contentQueries(2,e[s],s)}}}function Yg(n,e){return n[pd]?n[cN][wi]=e:n[pd]=e,n[cN]=e,e}function cb(n,e,t){J0(0);const r=oi(null);try{e(n,t)}finally{oi(r)}}function oO(n){return n[Pl]||(n[Pl]=[])}function aO(n){return n.cleanup||(n.cleanup=[])}function uO(n,e){const t=n[fo],r=t?t.get(Ps,null):null;r&&r.handleError(e)}function db(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++];rO(n.data[o],e[o],r,a,i)}}function C9(n,e){const t=jr(e,n),r=t[J];!function A9(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(r,t);const i=t[kt];null!==i&&null===t[As]&&(t[As]=qE(i,t[fo])),hb(r,t,t[$t])}function hb(n,e,t){Z0(e);try{const r=n.viewQuery;null!==r&&cb(1,r,t);const i=n.template;null!==i&&YP(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&sO(n,e),n.staticViewQueries&&cb(2,n.viewQuery,t);const s=n.components;null!==s&&function R9(n,e){for(let t=0;t<e.length;t++)C9(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ve]&=-5,X0()}}let cO=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(t,r,i){const s=typeof Zone>"u"?null:Zone.current,o=function UW(n,e,t){const r=Object.create(jW);t&&(r.consumerAllowSignalWrites=!0),r.fn=n,r.schedule=e;const i=o=>{r.cleanupFn=o};return r.ref={notify:()=>vN(r),run:()=>{if(r.dirty=!1,r.hasRun&&!EN(r))return;r.hasRun=!0;const o=j0(r);try{r.cleanupFn(),r.cleanupFn=AN,r.fn(i)}finally{$0(r,o)}},cleanup:()=>r.cleanupFn()},r.ref}(t,u=>{this.all.has(u)&&this.queue.set(u,s)},i);let a;this.all.add(o),o.notify();const l=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=r?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[t,r]of this.queue)this.queue.delete(t),r?r.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=H({token:n,providedIn:"root",factory:()=>new n})}return n})();function Jg(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=I0(i,a):2==s&&(r=I0(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function jd(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];null!==s&&r.push(ht(s)),ar(s)&&dO(s,r);const o=t.type;if(8&o)jd(n,e,t.child,r);else if(32&o){const a=_E(t,e);let l;for(;l=a();)r.push(l)}else if(16&o){const a=zM(e,t);if(Array.isArray(a))r.push(...a);else{const l=Nd(e[Ht]);jd(l[J],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function dO(n,e){for(let t=Mn;t<n.length;t++){const r=n[t],i=r[J].firstChild;null!==i&&jd(r[J],r,i,e)}n[Ki]!==n[kt]&&e.push(n[Ki])}function Zg(n,e,t,r=!0){const i=e[Ol],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{hO(n,e,n.template,t)}catch(l){throw r&&uO(e,l),l}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function hO(n,e,t,r){const i=e[ve];if(256!=(256&i)){e[Ol].effectManager?.flush(),Z0(e);try{kN(e),function HN(n){return de.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&YP(n,e,t,2,r);const o=3==(3&i);if(o){const u=n.preOrderCheckHooks;null!==u&&hg(e,u,null)}else{const u=n.preOrderHooks;null!==u&&fg(e,u,0,null),eE(e,0)}if(function P9(n){for(let e=OM(n);null!==e;e=xM(e)){if(!e[hN])continue;const t=e[Fl];for(let r=0;r<t.length;r++){JW(t[r])}}}(e),fO(e,2),null!==n.contentQueries&&sO(n,e),o){const u=n.contentCheckHooks;null!==u&&hg(e,u)}else{const u=n.contentHooks;null!==u&&fg(e,u,1),eE(e,1)}!function r9(n,e){const t=n.hostBindingOpCodes;if(null===t)return;const r=GP(e,yd);try{for(let i=0;i<t.length;i++){const s=t[i];if(s<0)da(~s);else{const o=s,a=t[++i],l=t[++i];uq(a,o),r.dirty=!1;const u=j0(r);try{l(2,e[o])}finally{$0(r,u)}}}}finally{null===e[yd]&&zP(e,yd),da(-1)}}(n,e);const a=n.components;null!==a&&gO(e,a,0);const l=n.viewQuery;if(null!==l&&cb(2,l,r),o){const u=n.viewCheckHooks;null!==u&&hg(e,u)}else{const u=n.viewHooks;null!==u&&fg(e,u,2),eE(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[ve]&=-73,FN(e)}finally{X0()}}}function fO(n,e){for(let t=OM(n);null!==t;t=xM(t))for(let r=Mn;r<t.length;r++)pO(t[r],e)}function O9(n,e,t){pO(jr(e,n),t)}function pO(n,e){if(!function QW(n){return 128==(128&n[ve])}(n))return;const t=n[J],r=n[ve];if(80&r&&0===e||1024&r||2===e)hO(t,n,t.template,n[$t]);else if(n[fd]>0){fO(n,1);const i=t.components;null!==i&&gO(n,i,1)}}function gO(n,e,t){for(let r=0;r<e.length;r++)O9(n,e[r],t)}class $d{get rootNodes(){const e=this._lView,t=e[J];return jd(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[$t]}set context(e){this._lView[$t]=e}get destroyed(){return 256==(256&this._lView[ve])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[vt];if(ar(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(Rg(e,r),yg(t,r))}this._attachedToViewContainer=!1}vE(this._lView[J],this._lView)}onDestroy(e){!function VN(n,e){if(256==(256&n[ve]))throw new C(911,!1);null===n[po]&&(n[po]=[]),n[po].push(e)}(this._lView,e)}markForCheck(){Bd(this._cdRefInjectingView||this._lView)}detach(){this._lView[ve]&=-129}reattach(){this._lView[ve]|=128}detectChanges(){Zg(this._lView[J],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new C(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function T6(n,e){Pd(n,e,e[ge],2,null,null)}(this._lView[J],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new C(902,!1);this._appRef=e}}class x9 extends $d{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Zg(e[J],e,e[$t],!1)}checkNoChanges(){}get context(){return null}}class mO extends zg{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Ve(e);return new Hd(t,this.ngModule)}}function _O(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class F9{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=tg(r);const i=this.injector.get(e,YE,r);return i!==YE||t===YE?i:this.parentInjector.get(e,t,r)}}class Hd extends IP{get inputs(){const e=this.componentDef,t=e.inputTransforms,r=_O(e.inputs);if(null!==t)for(const i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return _O(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function bW(n){return n.map(EW).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let s=(i=i||this.ngModule)instanceof Cr?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new F9(e,s):e,a=o.get(ou,null);if(null===a)throw new C(407,!1);const d={rendererFactory:a,sanitizer:o.get(P8,null),effectManager:o.get(cO,null),afterRenderEventManager:o.get(tb,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=r?function s9(n,e,t,r){const s=r.get(UP,!1)||t===si.ShadowDom,o=n.selectRootElement(e,s);return function o9(n){ZP(n)}(o),o}(h,r,this.componentDef.encapsulation,o):Ag(h,f,function k9(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(f)),y=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let _=null;null!==p&&(_=qE(p,o,!0));const I=ob(0,null,null,1,0,null,null,null,null,null,null),w=Qg(null,I,null,y,null,null,d,h,o,null,_);let M,L;Z0(w);try{const K=this.componentDef;let ie,Te=null;K.findHostDirectiveDefs?(ie=[],Te=new Map,K.findHostDirectiveDefs(K,ie,Te),ie.push(K)):ie=[K];const Oe=function V9(n,e){const t=n[J],r=Re;return n[r]=e,du(t,r,2,"#host",null)}(w,p),Xt=function B9(n,e,t,r,i,s,o){const a=i[J];!function U9(n,e,t,r){for(const i of n)e.mergedAttrs=hd(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Jg(e,e.mergedAttrs,!0),null!==t&&QM(r,t,e))}(r,n,e,o);let l=null;null!==e&&(l=qE(e,i[fo]));const u=s.rendererFactory.createRenderer(e,t);let c=16;t.signals?c=4096:t.onPush&&(c=64);const d=Qg(i,JP(t),null,c,i[n.index],n,s,u,null,null,l);return a.firstCreatePass&&lb(a,n,r.length-1),Yg(i,d),i[n.index]=d}(Oe,p,K,ie,w,d,h);L=xN(I,Re),p&&function $9(n,e,t,r){if(r)F0(n,t,["ng-version",wP.full]);else{const{attrs:i,classes:s}=function IW(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!Ti(i))break;i=s}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&F0(n,t,i),s&&s.length>0&&KM(n,t,s.join(" "))}}(h,K,p,r),void 0!==t&&function H9(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const s=t[i];r.push(null!=s?Array.from(s):null)}}(L,this.ngContentSelectors,t),M=function j9(n,e,t,r,i,s){const o=xn(),a=i[J],l=Dr(o,i);tO(a,i,o,t,null,r);for(let c=0;c<t.length;c++)Qn(ha(i,a,o.directiveStart+c,o),i);nO(a,i,o),l&&Qn(l,i);const u=ha(i,a,o.directiveStart+o.componentOffset,o);if(n[$t]=i[$t]=u,null!==s)for(const c of s)c(u,e);return rb(a,o,n),u}(Xt,K,ie,Te,w,[G9]),hb(I,w,null)}finally{X0()}return new L9(this.componentType,M,su(L,w),w,L)}}class L9 extends S8{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new x9(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const s=this._rootLView;db(s[J],s,i,e,t),this.previousInputValues.set(e,t),Bd(jr(this._tNode.index,s))}}get injector(){return new cr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function G9(){const n=xn();dg(P()[J],n)}function Ye(n){let e=function yO(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(Di(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new C(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=Xg(n.inputs),o.inputTransforms=Xg(n.inputTransforms),o.declaredInputs=Xg(n.declaredInputs),o.outputs=Xg(n.outputs);const a=i.hostBindings;a&&K9(n,a);const l=i.viewQuery,u=i.contentQueries;if(l&&W9(n,l),u&&q9(n,u),Qp(n.inputs,i.inputs),Qp(n.declaredInputs,i.declaredInputs),Qp(n.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),Qp(o.inputTransforms,i.inputTransforms)),Di(i)&&i.data.animation){const c=n.data;c.animation=(c.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===Ye&&(t=!1)}}e=Object.getPrototypeOf(e)}!function z9(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=hd(i.hostAttrs,t=hd(t,i.hostAttrs))}}(r)}function Xg(n){return n===Wi?{}:n===Ge?[]:n}function W9(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function q9(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function K9(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}function IO(n){const e=n.inputConfig,t={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(t[r]=i[2])}n.inputTransforms=t}function em(n){return!!function fb(n){return null!==n&&("function"==typeof n||"object"==typeof n)}(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function Yn(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Je(n,e,t,r){const i=P();return Yn(i,Ul(),e)&&(Be(),Zi(Ct(),i,n,e,t,r)),Je}function j(n,e,t,r,i,s,o,a){const l=P(),u=Be(),c=n+Re,d=u.firstCreatePass?function y7(n,e,t,r,i,s,o,a,l){const u=e.consts,c=du(e,n,4,o||null,mo(u,a));ab(e,t,c,mo(u,l)),dg(e,c);const d=c.tView=ob(2,c,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return null!==e.queries&&(e.queries.template(e,c),d.queries=e.queries.embeddedTView(c)),c}(c,u,l,e,t,r,i,s,o):u.data[c];Yi(d,!1);const h=kO(u,l,d,n);cg()&&Mg(u,l,h,d),Qn(h,l),Yg(l,l[c]=iO(h,l,h,d)),og(d)&&ib(u,l,d),null!=o&&sb(l,d,a)}let kO=function FO(n,e,t,r){return _o(!0),e[ge].createComment("")};function Se(n){return Vl(function aq(){return de.lFrame.contextLView}(),Re+n)}function V(n,e,t){const r=P();return Yn(r,Ul(),e)&&function Gr(n,e,t,r,i,s,o,a){const l=Dr(e,t);let c,u=e.inputs;!a&&null!=u&&(c=u[r])?(db(n,t,c,r,i),ua(e)&&function f9(n,e){const t=jr(e,n);16&t[ve]||(t[ve]|=64)}(t,e.index)):3&e.type&&(r=function h9(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(l,r,i))}(Be(),Ct(),r,n,e,r[ge],t,!1),V}function vb(n,e,t,r,i){const o=i?"class":"style";db(n,t,e.inputs[o],o,r)}function N(n,e,t,r){const i=P(),s=Be(),o=Re+n,a=i[ge],l=s.firstCreatePass?function I7(n,e,t,r,i,s){const o=e.consts,l=du(e,n,2,r,mo(o,i));return ab(e,t,l,mo(o,s)),null!==l.attrs&&Jg(l,l.attrs,!1),null!==l.mergedAttrs&&Jg(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(o,s,i,e,t,r):s.data[o],u=LO(s,i,l,a,e,n);i[o]=u;const c=og(l);return Yi(l,!0),QM(a,u,l),32!=(32&l.flags)&&cg()&&Mg(s,i,u,l),0===function XW(){return de.lFrame.elementDepthCount}()&&Qn(u,i),function eq(){de.lFrame.elementDepthCount++}(),c&&(ib(s,i,l),rb(s,l,i)),null!==r&&sb(i,l),N}function R(){let n=xn();q0()?K0():(n=n.parent,Yi(n,!1));const e=n;(function nq(n){return de.skipHydrationRootTNode===n})(e)&&function oq(){de.skipHydrationRootTNode=null}(),function tq(){de.lFrame.elementDepthCount--}();const t=Be();return t.firstCreatePass&&(dg(t,n),V0(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function bq(n){return 0!=(8&n.flags)}(e)&&vb(t,e,P(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function Iq(n){return 0!=(16&n.flags)}(e)&&vb(t,e,P(),e.stylesWithoutHost,!1),R}function Et(n,e,t,r){return N(n,e,t,r),R(),Et}let LO=(n,e,t,r,i,s)=>(_o(!0),Ag(r,i,function JN(){return de.lFrame.currentNamespace}()));function Fn(){return P()}function Qd(n){return!!n&&"function"==typeof n.then}function UO(n){return!!n&&"function"==typeof n.subscribe}function ye(n,e,t,r){const i=P(),s=Be(),o=xn();return function $O(n,e,t,r,i,s,o){const a=og(r),u=n.firstCreatePass&&aO(n),c=e[$t],d=oO(e);let h=!0;if(3&r.type||o){const g=Dr(r,e),m=o?o(g):g,y=d.length,_=o?w=>o(ht(w[r.index])):r.index;let I=null;if(!o&&a&&(I=function A7(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[Pl],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==I)(I.__ngLastListenerFn__||I).__ngNextListenerFn__=s,I.__ngLastListenerFn__=s,h=!1;else{s=GO(r,e,c,s,!1);const w=t.listen(m,i,s);d.push(s,w),u&&u.push(i,_,y,y+1)}}else s=GO(r,e,c,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const g=p.length;if(g)for(let m=0;m<g;m+=2){const M=e[p[m]][p[m+1]].subscribe(s),L=d.length;d.push(s,M),u&&u.push(i,r.index,L,-(L+1))}}}(s,i,i[ge],o,n,e,r),ye}function HO(n,e,t,r){try{return Qi(6,e,t),!1!==t(r)}catch(i){return uO(n,i),!1}finally{Qi(7,e,t)}}function GO(n,e,t,r,i){return function s(o){if(o===Function)return r;Bd(n.componentOffset>-1?jr(n.index,e):e);let l=HO(e,t,r,o),u=s.__ngNextListenerFn__;for(;u;)l=HO(e,t,u,o)&&l,u=u.__ngNextListenerFn__;return i&&!1===l&&o.preventDefault(),l}}function ne(n=1){return function hq(n){return(de.lFrame.contextLView=function fq(n,e){for(;n>0;)e=e[xl],n--;return e}(n,de.lFrame.contextLView))[$t]}(n)}function R7(n,e){let t=null;const r=function mW(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?sN(n,s,!0):vW(r,s))return i}else t=i}return t}function om(n,e){return n<<17|e<<2}function Eo(n){return n>>17&32767}function Tb(n){return 2|n}function ya(n){return(131068&n)>>2}function wb(n,e){return-131069&n|e<<2}function Db(n){return 1|n}function tx(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?Eo(s):ya(s),l=!1;for(;0!==a&&(!1===l||o);){const c=n[a+1];k7(n[a],e)&&(l=!0,n[a+1]=r?Db(c):Tb(c)),a=r?Eo(c):ya(c)}l&&(n[t+1]=r?Tb(s):Db(s))}function k7(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Kl(n,e)>=0}const pn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function nx(n){return n.substring(pn.key,pn.keyEnd)}function rx(n,e){const t=pn.textEnd;return t===e?-1:(e=pn.keyEnd=function B7(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,pn.key=e,t),bu(n,e,t))}function bu(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function $e(n,e){return function Si(n,e,t,r){const i=P(),s=Be(),o=Ns(2);s.firstUpdatePass&&cx(s,n,o,r),e!==_e&&Yn(i,o,e)&&hx(s,s.data[ur()],i,i[ge],n,i[o+1]=function Y7(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=hn(vo(n)))),n}(e,t),r,o)}(n,e,null,!0),$e}function va(n){!function Ci(n,e,t,r){const i=Be(),s=Ns(2);i.firstUpdatePass&&cx(i,null,s,r);const o=P();if(t!==_e&&Yn(o,s,t)){const a=i.data[ur()];if(px(a,r)&&!ux(i,s)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(t=I0(l,t||"")),vb(i,a,o,t,r)}else!function Q7(n,e,t,r,i,s,o,a){i===_e&&(i=Ge);let l=0,u=0,c=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;null!==c||null!==d;){const h=l<i.length?i[l+1]:void 0,f=u<s.length?s[u+1]:void 0;let g,p=null;c===d?(l+=2,u+=2,h!==f&&(p=d,g=f)):null===d||null!==c&&c<d?(l+=2,p=c):(u+=2,p=d,g=f),null!==p&&hx(n,e,t,r,p,g,o,a),c=l<i.length?i[l]:null,d=u<s.length?s[u]:null}}(i,a,o,o[ge],o[s+1],o[s+1]=function q7(n,e,t){if(null==t||""===t)return Ge;const r=[],i=vo(t);if(Array.isArray(i))for(let s=0;s<i.length;s++)n(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&n(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(n,e,t),r,s)}}(K7,ts,n,!0)}function ts(n,e){for(let t=function L7(n){return function sx(n){pn.key=0,pn.keyEnd=0,pn.value=0,pn.valueEnd=0,pn.textEnd=n.length}(n),rx(n,bu(n,0,pn.textEnd))}(e);t>=0;t=rx(e,t))$r(n,nx(e),!0)}function ux(n,e){return e>=n.expandoStartIndex}function cx(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[ur()],o=ux(n,t);px(s,r)&&null===e&&!o&&(e=!1),e=function H7(n,e,t,r){const i=function Y0(n){const e=de.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=Yd(t=Sb(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=Sb(i,n,e,t,r),null===s){let l=function G7(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==ya(r))return n[Eo(r)]}(n,e,r);void 0!==l&&Array.isArray(l)&&(l=Sb(null,n,e,l[1],r),l=Yd(l,e.attrs,r),function z7(n,e,t,r){n[Eo(t?e.classBindings:e.styleBindings)]=r}(n,e,r,l))}else s=function W7(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Yd(r,n[s].hostAttrs,t);return Yd(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function O7(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Eo(o),l=ya(o);n[r]=t;let c,u=!1;if(Array.isArray(t)?(c=t[1],(null===c||Kl(t,c)>0)&&(u=!0)):c=t,i)if(0!==l){const h=Eo(n[a+1]);n[r+1]=om(h,a),0!==h&&(n[h+1]=wb(n[h+1],r)),n[a+1]=function M7(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=om(a,0),0!==a&&(n[a+1]=wb(n[a+1],r)),a=r;else n[r+1]=om(l,0),0===a?a=r:n[l+1]=wb(n[l+1],r),l=r;u&&(n[r+1]=Tb(n[r+1])),tx(n,c,r,!0),tx(n,c,r,!1),function x7(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&Kl(s,e)>=0&&(t[r+1]=Db(t[r+1]))}(e,c,n,r,s),o=om(a,l),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}function Sb(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=Yd(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function Yd(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),$r(n,o,!!t||e[++s]))}return void 0===n?null:n}function K7(n,e,t){const r=String(e);""!==r&&!r.includes(" ")&&$r(n,r,t)}function hx(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const l=n.data,u=l[a+1],c=function P7(n){return 1==(1&n)}(u)?fx(l,e,t,i,ya(u),o):void 0;am(c)||(am(s)||function N7(n){return 2==(2&n)}(u)&&(s=fx(l,null,t,i,a,o)),function O6(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:yo.DashCase;null==i?n.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=yo.Important),n.setStyle(t,r,i,s))}}(r,o,ug(ur(),t),i,s))}function fx(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const l=n[i],u=Array.isArray(l),c=u?l[1]:l,d=null===c;let h=t[i+1];h===_e&&(h=d?Ge:void 0);let f=d?lE(h,r):c===r?h:void 0;if(u&&!am(f)&&(f=lE(l,r)),am(f)&&(a=f,o))return a;const p=n[i+1];i=o?Eo(p):ya(p)}if(null!==e){let l=s?e.residualClasses:e.residualStyles;null!=l&&(a=lE(l,r))}return a}function am(n){return void 0!==n}function px(n,e){return 0!=(n.flags&(e?8:16))}function Z(n,e=""){const t=P(),r=Be(),i=n+Re,s=r.firstCreatePass?du(r,i,1,e,null):r.data[i],o=gx(r,t,s,e,n);t[i]=o,cg()&&Mg(r,t,o,s),Yi(s,!1)}let gx=(n,e,t,r,i)=>(_o(!0),function Cg(n,e){return n.createText(e)}(e[ge],r));function dr(n){return ks("",n,""),dr}function ks(n,e,t){const r=P(),i=function fu(n,e,t,r){return Yn(n,Ul(),t)?e+pe(t)+r:_e}(r,n,e,t);return i!==_e&&function xs(n,e,t){const r=ug(e,n);!function FM(n,e,t){n.setValue(e,t)}(n[ge],r,t)}(r,ur(),i),ks}const Ea=void 0;var yK=["en",[["a","p"],["AM","PM"],Ea],[["AM","PM"],Ea,Ea],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ea,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ea,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ea,"{1} 'at' {0}",Ea],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function _K(n){const t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}];let Iu={};function hr(n){const e=function vK(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=kx(e);if(t)return t;const r=e.split("-")[0];if(t=kx(r),t)return t;if("en"===r)return yK;throw new C(701,!1)}function kx(n){return n in Iu||(Iu[n]=dt.ng&&dt.ng.common&&dt.ng.common.locales&&dt.ng.common.locales[n]),Iu[n]}var ft=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(ft||{});const Tu="en-US";let Fx=Tu;function Rb(n,e,t,r,i){if(n=he(n),Array.isArray(n))for(let s=0;s<n.length;s++)Rb(n[s],e,t,r,i);else{const s=Be(),o=P(),a=xn();let l=ga(n)?n:he(n.provide);const u=gP(n),c=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(ga(n)||!n.multi){const f=new Id(u,i,E),p=Mb(l,e,i?c:c+h,d);-1===p?(sE(gg(a,o),s,l),Nb(s,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(f),o.push(f)):(t[p]=f,o[p]=f)}else{const f=Mb(l,e,c+h,d),p=Mb(l,e,c,c+h),m=p>=0&&t[p];if(i&&!m||!i&&!(f>=0&&t[f])){sE(gg(a,o),s,l);const y=function mQ(n,e,t,r,i){const s=new Id(n,t,E);return s.multi=[],s.index=e,s.componentProviders=0,ak(s,i,r&&!t),s}(i?gQ:pQ,t.length,i,r,u);!i&&m&&(t[p].providerFactory=y),Nb(s,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(y),o.push(y)}else Nb(s,n,f>-1?f:p,ak(t[i?p:f],u,!i&&r));!i&&r&&m&&t[p].componentProviders++}}}function Nb(n,e,t,r){const i=ga(e),s=function u8(n){return!!n.useClass}(e);if(i||s){const l=(s?he(e.useClass):e).prototype.ngOnDestroy;if(l){const u=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const c=u.indexOf(t);-1===c?u.push(t,[r,l]):u[c+1].push(r,l)}else u.push(t,l)}}}function ak(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Mb(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function pQ(n,e,t,r){return Pb(this.multi,[])}function gQ(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=ha(t,t[J],this.providerFactory.index,r);s=a.slice(0,o),Pb(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],Pb(i,s);return s}function Pb(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function lt(n,e=[]){return t=>{t.providersResolver=(r,i)=>function fQ(n,e,t){const r=Be();if(r.firstCreatePass){const i=Di(n);Rb(t,r.data,r.blueprint,i,!0),Rb(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class ba{}class lk{}class Ob extends ba{constructor(e,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new mO(this);const i=Ur(e);this._bootstrapComponents=Os(i.bootstrap),this._r3Injector=RP(e,t,[{provide:ba,useValue:this},{provide:zg,useValue:this.componentFactoryResolver},...r],hn(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class xb extends lk{constructor(e){super(),this.moduleType=e}create(e){return new Ob(this.moduleType,e,[])}}class uk extends ba{constructor(e){super(),this.componentFactoryResolver=new mO(this),this.instance=null;const t=new tu([...e.providers,{provide:ba,useValue:this},{provide:zg,useValue:this.componentFactoryResolver}],e.parent||Vg(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function kb(n,e,t=null){return new uk({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let vQ=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const r=dP(0,t.type),i=r.length>0?kb([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=H({token:n,providedIn:"environment",factory:()=>new n(U(Cr))})}return n})();function ci(n){n.getStandaloneInjector=e=>e.get(vQ).getOrCreateStandaloneInjector(n)}function mk(n,e,t,r,i,s){const o=e+t;return Yn(n,o,i)?function Xi(n,e,t){return n[e]=t}(n,o+1,s?r.call(s,i):r(i)):function sh(n,e){const t=n[e];return t===_e?void 0:t}(n,o+1)}function oh(n,e){const t=Be();let r;const i=n+Re;t.firstCreatePass?(r=function kQ(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];const s=r.factory||(r.factory=ca(r.type)),a=Ir(E);try{const l=pg(!1),u=s();return pg(l),function b7(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,P(),i,u),u}finally{Ir(a)}}function ah(n,e,t){const r=n+Re,i=P(),s=Vl(i,r);return function lh(n,e){return n[J].data[e].pure}(i,r)?mk(i,function lr(){const n=de.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}(),e,s.transform,t,s):s.transform(t)}function UQ(){return this._results[Symbol.iterator]()}class Vb{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new ae)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Vb.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=UQ)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=function ai(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function Fq(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function $Q(n,e,t,r=!0){const i=e[J];if(function D6(n,e,t,r){const i=Mn+r,s=t.length;r>0&&(t[i-1][wi]=e),r<s-Mn?(e[wi]=t[i],hM(t,Mn+r,e)):(t.push(e),e[wi]=null),e[vt]=t;const o=e[gd];null!==o&&t!==o&&function S6(n,e){const t=n[Fl];e[Ht]!==e[vt][vt][Ht]&&(n[hN]=!0),null===t?n[Fl]=[e]:t.push(e)}(o,e);const a=e[qi];null!==a&&a.insertView(n),e[ve]|=128}(i,e,n,t),r){const s=TE(t,n),o=e[ge],a=Ng(o,n[Ki]);null!==a&&function I6(n,e,t,r,i,s){r[kt]=i,r[Kn]=e,Pd(n,r,t,1,i,s)}(i,n[Kn],o,e,a,s)}}let At=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=zQ}return n})();const HQ=At,GQ=class extends HQ{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){const i=function jQ(n,e,t,r){const i=e.tView,a=Qg(n,i,t,4096&n[ve]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[gd]=n[e.index];const u=n[qi];return null!==u&&(a[qi]=u.createEmbeddedView(i)),hb(i,a,t),a}(this._declarationLView,this._declarationTContainer,e,{injector:t,hydrationInfo:r});return new $d(i)}};function zQ(){return hm(xn(),P())}function hm(n,e){return 4&n.type?new GQ(e,n,su(n,e)):null}let di=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=JQ}return n})();function JQ(){return Ck(xn(),P())}const ZQ=di,Dk=class extends ZQ{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return su(this._hostTNode,this._hostLView)}get injector(){return new cr(this._hostTNode,this._hostLView)}get parentInjector(){const e=mg(this._hostTNode,this._hostLView);if(nE(e)){const t=wd(e,this._hostLView),r=Td(e);return new cr(t[J].data[r+8],t)}return new cr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=Sk(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-Mn}createEmbeddedView(e,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(t||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,t,r,i,s){const o=e&&!function Sd(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const g=t||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const l=o?e:new Hd(Ve(e)),u=r||this.parentInjector;if(!s&&null==l.ngModule){const m=(o?u:this.parentInjector).get(Cr,null);m&&(s=m)}Ve(l.componentType??{});const f=l.create(u,i,null,s);return this.insertImpl(f.hostView,a,false),f}insert(e,t){return this.insertImpl(e,t,!1)}insertImpl(e,t,r){const i=e._lView;if(function YW(n){return ar(n[vt])}(i)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const u=i[vt],c=new Dk(u,u[Kn],u[vt]);c.detach(c.indexOf(e))}}const o=this._adjustIndex(t),a=this._lContainer;return $Q(a,i,o,!r),e.attachToViewContainerRef(),hM(Bb(a),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=Sk(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=Rg(this._lContainer,t);r&&(yg(Bb(this._lContainer),t),vE(r[J],r))}detach(e){const t=this._adjustIndex(e,-1),r=Rg(this._lContainer,t);return r&&null!=yg(Bb(this._lContainer),t)?new $d(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function Sk(n){return n[8]}function Bb(n){return n[8]||(n[8]=[])}function Ck(n,e){let t;const r=e[n.index];return ar(r)?t=r:(t=iO(r,e,null,n),e[n.index]=t,Yg(e,t)),Ak(t,e,n,r),new Dk(t,n,e)}let Ak=function Rk(n,e,t,r){if(n[Ki])return;let i;i=8&t.type?ht(r):function XQ(n,e){const t=n[ge],r=t.createComment(""),i=Dr(e,n);return pa(t,Ng(t,i),r,function N6(n,e){return n.nextSibling(e)}(t,i),!1),r}(e,t),n[Ki]=i};class Ub{constructor(e){this.queryList=e,this.matches=null}clone(){return new Ub(this.queryList)}setDirty(){this.queryList.setDirty()}}class jb{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const o=t.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new jb(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==xk(e,t).matches&&this.queries[t].setDirty()}}class Nk{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class $b{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new $b(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Hb{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Hb(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,t,nY(t,s)),this.matchTNodeWithReadOption(e,t,_g(t,e,s,!1,!1))}else r===At?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,_g(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Qe||i===di||i===At&&4&t.type)this.addMatch(t.index,-2);else{const s=_g(t,e,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function nY(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function iY(n,e,t,r){return-1===t?function rY(n,e){return 11&n.type?su(n,e):4&n.type?hm(n,e):null}(e,n):-2===t?function sY(n,e,t){return t===Qe?su(e,n):t===At?hm(e,n):t===di?Ck(e,n):void 0}(n,e,r):ha(n,n[J],t,e)}function Mk(n,e,t,r){const i=e[qi].queries[r];if(null===i.matches){const s=n.data,o=t.matches,a=[];for(let l=0;l<o.length;l+=2){const u=o[l];a.push(u<0?null:iY(e,s[u],o[l+1],t.metadata.read))}i.matches=a}return i.matches}function Gb(n,e,t,r){const i=n.queries.getByIndex(t),s=i.matches;if(null!==s){const o=Mk(n,e,i,t);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)r.push(o[a/2]);else{const u=s[a+1],c=e[-l];for(let d=Mn;d<c.length;d++){const h=c[d];h[gd]===h[vt]&&Gb(h[J],h,u,r)}if(null!==c[Fl]){const d=c[Fl];for(let h=0;h<d.length;h++){const f=d[h];Gb(f[J],f,u,r)}}}}}return r}function Ze(n){const e=P(),t=Be(),r=zN();J0(r+1);const i=xk(t,r);if(n.dirty&&function KW(n){return 4==(4&n[ve])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const s=i.crossesNgTemplate?Gb(t,e,r,[]):Mk(t,e,i,r);n.reset(s,N8),n.notifyOnChanges()}return!0}return!1}function bo(n,e,t){const r=Be();r.firstCreatePass&&(Ok(r,new Nk(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),Pk(r,P(),e)}function Xe(){return function oY(n,e){return n[qi].queries[e].queryList}(P(),zN())}function Pk(n,e,t){const r=new Vb(4==(4&t));(function u9(n,e,t,r){const i=oO(e);i.push(t),n.firstCreatePass&&aO(n).push(r,i.length-1)})(n,e,r,r.destroy),null===e[qi]&&(e[qi]=new jb),e[qi].queries.push(new Ub(r))}function Ok(n,e,t){null===n.queries&&(n.queries=new $b),n.queries.track(new Hb(e,t))}function xk(n,e){return n.queries.getByIndex(e)}const Yb=new X("Application Initializer");let Jb=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=B(Yb,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const i of this.appInits){const s=i();if(Qd(s))t.push(s);else if(UO(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Jk=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const Ri=new X("LocaleId",{providedIn:"root",factory:()=>B(Ri,Ae.Optional|Ae.SkipSelf)||function AY(){return typeof $localize<"u"&&$localize.locale||Tu}()}),RY=new X("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let Zk=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ri(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class MY{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let Xk=(()=>{class n{compileModuleSync(t){return new xb(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=Os(Ur(t).declarations).reduce((o,a)=>{const l=Ve(a);return l&&o.push(new Hd(l)),o},[]);return new MY(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const rF=new X(""),mm=new X("");let nI,eI=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,nI||(function XY(n){nI=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ee.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||n)(U(Ee),U(tI),U(mm))};static#t=this.\u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),tI=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return nI?.findTestabilityInTree(this,t,r)??null}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),Io=null;const iF=new X("AllowMultipleToken"),rI=new X("PlatformDestroyListeners"),iI=new X("appBootstrapListener");class oF{constructor(e,t){this.name=e,this.token=t}}function lF(n,e,t=[]){const r=`Platform: ${e}`,i=new X(r);return(s=[])=>{let o=sI();if(!o||o.injector.get(iF,!1)){const a=[...t,...s,{provide:i,useValue:!0}];n?n(a):function nJ(n){if(Io&&!Io.get(iF,!1))throw new C(400,!1);(function sF(){!function kW(n){wN=n}(()=>{throw new C(600,!1)})})(),Io=n;const e=n.get(cF);(function aF(n){n.get(mP,null)?.forEach(t=>t())})(n)}(function uF(n=[],e){return zt.create({name:e,providers:[{provide:FE,useValue:"platform"},{provide:rI,useValue:new Set([()=>Io=null])},...n]})}(a,r))}return function iJ(n){const e=sI();if(!e)throw new C(401,!1);return e}()}}function sI(){return Io?.get(cF)??null}let cF=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function sJ(n="zone.js",e){return"noop"===n?new z8:"zone.js"===n?new Ee(e):n}(r?.ngZone,function dF(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function yQ(n,e,t){return new Ob(n,e,t)}(t.moduleType,this.injector,function mF(n){return[{provide:Ee,useFactory:n},{provide:Fd,multi:!0,useFactory:()=>{const e=B(aJ,{optional:!0});return()=>e.initialize()}},{provide:gF,useFactory:oJ},{provide:xP,useFactory:kP}]}(()=>i)),o=s.injector.get(Ps,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:l=>{o.handleError(l)}});s.onDestroy(()=>{_m(this._modules,s),a.unsubscribe()})}),function hF(n,e,t){try{const r=t();return Qd(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(Jb);return a.runInitializers(),a.donePromise.then(()=>(function Lx(n){ii(n,"Expected localeId to be defined"),"string"==typeof n&&(Fx=n.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Ri,Tu)||Tu),this._moduleDoBootstrap(s),s))})})}bootstrapModule(t,r=[]){const i=fF({},r);return function eJ(n,e,t){const r=new xb(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(Fs);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new C(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new C(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(rI,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||n)(U(zt))};static#t=this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function fF(n,e){return Array.isArray(e)?e.reduce(fF,n):{...n,...e}}let Fs=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=B(gF),this.zoneIsStable=B(xP),this.componentTypes=[],this.components=[],this.isStable=B(Zk).hasPendingTasks.pipe(Ii(t=>t?ue(!1):this.zoneIsStable),function $R(n,e=bi){return n=n??q5,St((t,r)=>{let i,s=!0;t.subscribe(ct(r,o=>{const a=e(o);(s||!n(i,a))&&(s=!1,i=a,r.next(o))}))})}(),jR()),this._injector=B(Cr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof IP;if(!this._injector.get(Jb).done)throw!i&&function Ml(n){const e=Ve(n)||Nn(n)||or(n);return null!==e&&e.standalone}(t),new C(405,!1);let o;o=i?t:this._injector.get(zg).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function tJ(n){return n.isBoundToModule}(o)?void 0:this._injector.get(ba),u=o.create(zt.NULL,[],r||o.selector,a),c=u.location.nativeElement,d=u.injector.get(rF,null);return d?.registerApplication(c),u.onDestroy(()=>{this.detachView(u.hostView),_m(this.components,u),d?.unregisterApplication(c)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new C(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;_m(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(iI,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>_m(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new C(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function _m(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const gF=new X("",{providedIn:"root",factory:()=>B(Ps).handleError.bind(void 0)});function oJ(){const n=B(Ee),e=B(Ps);return t=>n.runOutsideAngular(()=>e.handleError(t))}let aJ=(()=>{class n{constructor(){this.zone=B(Ee),this.applicationRef=B(Fs)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();let Ni=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=uJ}return n})();function uJ(n){return function cJ(n,e,t){if(ua(n)&&!t){const r=jr(n.index,e);return new $d(r,r)}return 47&n.type?new $d(e[Ht],e):null}(xn(),P(),16==(16&n))}class EF{constructor(){}supports(e){return em(e)}create(e){return new mJ(e)}}const gJ=(n,e)=>e;class mJ{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||gJ}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<IF(r,i,s)?t:r,a=IF(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const u=a-i,c=l-i;if(u!=c){for(let h=0;h<u;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;c<=p&&p<u&&(s[h]=f+1)}s[o.previousIndex]=c-u}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!em(e))throw new C(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function e7(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new _J(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new bF),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new bF),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class _J{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class yJ{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class bF{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new yJ,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function IF(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function wF(){return new Em([new EF])}let Em=(()=>{class n{static#e=this.\u0275prov=H({token:n,providedIn:"root",factory:wF});constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||wF()),deps:[[n,new Eg,new kn]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new C(901,!1)}}return n})();const TJ=lF(null,"core",[]);let wJ=(()=>{class n{constructor(t){}static#e=this.\u0275fac=function(r){return new(r||n)(U(Fs))};static#t=this.\u0275mod=Le({type:n});static#n=this.\u0275inj=xe({})}return n})();function Su(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function dI(n,e){const t=Ve(n),r=e.elementInjector||Vg();return new Hd(t).create(r,e.projectableNodes,e.hostElement,e.environmentInjector)}let hI=null;function To(){return hI}class VJ{}const Wt=new X("DocumentToken");let fI=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=H({token:n,factory:function(){return B(UJ)},providedIn:"platform"})}return n})();const BJ=new X("Location Initialized");let UJ=(()=>{class n extends fI{constructor(){super(),this._doc=B(Wt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return To().getBaseHref(this._doc)}onPopState(t){const r=To().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=To().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=H({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function pI(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function xF(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ls(n){return n&&"?"!==n[0]?"?"+n:n}let Ta=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=H({token:n,factory:function(){return B(FF)},providedIn:"root"})}return n})();const kF=new X("appBaseHref");let FF=(()=>{class n extends Ta{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??B(Wt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return pI(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ls(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+Ls(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+Ls(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(U(fI),U(kF,8))};static#t=this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),jJ=(()=>{class n extends Ta{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=pI(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+Ls(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+Ls(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(U(fI),U(kF,8))};static#t=this.\u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),gI=(()=>{class n{constructor(t){this._subject=new ae,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function GJ(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(xF(LF(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ls(r))}normalize(t){return n.stripTrailingSlash(function HJ(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,LF(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ls(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ls(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static#e=this.normalizeQueryParams=Ls;static#t=this.joinWithSlash=pI;static#n=this.stripTrailingSlash=xF;static#r=this.\u0275fac=function(r){return new(r||n)(U(Ta))};static#i=this.\u0275prov=H({token:n,factory:function(){return function $J(){return new gI(U(Ta))}()},providedIn:"root"})}return n})();function LF(n){return n.replace(/\/index.html$/,"")}const VF={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var Im=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(Im||{}),qt=function(n){return n[n.Decimal=0]="Decimal",n[n.Group=1]="Group",n[n.List=2]="List",n[n.PercentSign=3]="PercentSign",n[n.PlusSign=4]="PlusSign",n[n.MinusSign=5]="MinusSign",n[n.Exponential=6]="Exponential",n[n.SuperscriptingExponent=7]="SuperscriptingExponent",n[n.PerMille=8]="PerMille",n[n.Infinity=9]="Infinity",n[n.NaN=10]="NaN",n[n.TimeSeparator=11]="TimeSeparator",n[n.CurrencyDecimal=12]="CurrencyDecimal",n[n.CurrencyGroup=13]="CurrencyGroup",n}(qt||{});function hi(n,e){const t=hr(n),r=t[ft.NumberSymbols][e];if(typeof r>"u"){if(e===qt.CurrencyDecimal)return t[ft.NumberSymbols][qt.Decimal];if(e===qt.CurrencyGroup)return t[ft.NumberSymbols][qt.Group]}return r}const pZ=/^(\d+)?\.((\d+)(-(\d+))?)?$/,zF=22,Mm=".",fh="0",gZ=";",mZ=",",bI="#";function yZ(n,e,t,r,i){const o=function TI(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(gZ),i=r[0],s=r[1],o=-1!==i.indexOf(Mm)?i.split(Mm):[i.substring(0,i.lastIndexOf(fh)+1),i.substring(i.lastIndexOf(fh)+1)],a=o[0],l=o[1]||"";t.posPre=a.substring(0,a.indexOf(bI));for(let c=0;c<l.length;c++){const d=l.charAt(c);d===fh?t.minFrac=t.maxFrac=c+1:d===bI?t.maxFrac=c+1:t.posSuf+=d}const u=a.split(mZ);if(t.gSize=u[1]?u[1].length:0,t.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,s){const c=i.length-t.posPre.length-t.posSuf.length,d=s.indexOf(bI);t.negPre=s.substring(0,d).replace(/'/g,""),t.negSuf=s.slice(d+c).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function _I(n,e){return hr(n)[ft.NumberFormats][e]}(e,Im.Currency),hi(e,qt.MinusSign));return o.minFrac=function tZ(n){let e;const t=VF[n];return t&&(e=t[2]),"number"==typeof e?e:2}(r),o.maxFrac=o.minFrac,function II(n,e,t,r,i,s,o=!1){let a="",l=!1;if(isFinite(n)){let u=function IZ(n){let r,i,s,o,a,e=Math.abs(n)+"",t=0;for((i=e.indexOf(Mm))>-1&&(e=e.replace(Mm,"")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;e.charAt(s)===fh;s++);if(s===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===fh;)a--;for(i-=s,r=[],o=0;s<=a;s++,o++)r[o]=Number(e.charAt(s))}return i>zF&&(r=r.splice(0,zF-1),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}(n);o&&(u=function bZ(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(u));let c=e.minInt,d=e.minFrac,h=e.maxFrac;if(s){const _=s.match(pZ);if(null===_)throw new Error(`${s} is not a valid digit info`);const I=_[1],w=_[3],M=_[5];null!=I&&(c=wI(I)),null!=w&&(d=wI(w)),null!=M?h=wI(M):null!=w&&d>h&&(h=d)}!function TZ(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen;const s=Math.min(Math.max(e,i),t);let o=s+n.integerLen,a=r[o];if(o>0){r.splice(Math.max(n.integerLen,o));for(let d=o;d<r.length;d++)r[d]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let d=1;d<o;d++)r[d]=0}if(a>=5)if(o-1<0){for(let d=0;d>o;d--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let l=0!==s;const u=e+n.integerLen,c=r.reduceRight(function(d,h,f,p){return p[f]=(h+=d)<10?h:h-10,l&&(0===p[f]&&f>=u?p.pop():l=!1),h>=10?1:0},0);c&&(r.unshift(c),n.integerLen++)}(u,d,h);let f=u.digits,p=u.integerLen;const g=u.exponent;let m=[];for(l=f.every(_=>!_);p<c;p++)f.unshift(0);for(;p<0;p++)f.unshift(0);p>0?m=f.splice(p,f.length):(m=f,f=[0]);const y=[];for(f.length>=e.lgSize&&y.unshift(f.splice(-e.lgSize,f.length).join(""));f.length>e.gSize;)y.unshift(f.splice(-e.gSize,f.length).join(""));f.length&&y.unshift(f.join("")),a=y.join(hi(t,r)),m.length&&(a+=hi(t,i)+m.join("")),g&&(a+=hi(t,qt.Exponential)+"+"+g)}else a=hi(t,qt.Infinity);return a=n<0&&!l?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(n,o,e,qt.CurrencyGroup,qt.CurrencyDecimal,i).replace("\xa4",t).replace("\xa4","").trim()}function wI(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}class AZ{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ns=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new AZ(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),YF(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{YF(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||n)(E(di),E(At),E(Em))};static#t=this.\u0275dir=$({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function YF(n,e){n.context.$implicit=e.item}let pi=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new RZ,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){JF("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){JF("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||n)(E(di),E(At))};static#t=this.\u0275dir=$({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class RZ{constructor(){this.$implicit=null,this.ngIf=null}}function JF(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${hn(e)}'.`)}function Pi(n,e){return new C(2100,!1)}class xZ{createSubscription(e,t){return CN(()=>e.subscribe({next:t,error:r=>{throw r}}))}dispose(e){CN(()=>e.unsubscribe())}}class kZ{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const FZ=new kZ,LZ=new xZ;let XF=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(Qd(t))return FZ;if(UO(t))return LZ;throw Pi()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}static#e=this.\u0275fac=function(r){return new(r||n)(E(Ni,16))};static#t=this.\u0275pipe=Tr({name:"async",type:n,pure:!1,standalone:!0})}return n})();const BZ=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let eL=(()=>{class n{transform(t){if(null==t)return null;if("string"!=typeof t)throw Pi();return t.replace(BZ,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275pipe=Tr({name:"titlecase",type:n,pure:!0,standalone:!0})}return n})(),RI=(()=>{class n{constructor(t,r="USD"){this._locale=t,this._defaultCurrencyCode=r}transform(t,r=this._defaultCurrencyCode,i="symbol",s,o){if(!function NI(n){return!(null==n||""===n||n!=n)}(t))return null;o=o||this._locale,"boolean"==typeof i&&(i=i?"symbol":"code");let a=r||this._defaultCurrencyCode;"code"!==i&&(a="symbol"===i||"symbol-narrow"===i?function XJ(n,e,t="en"){const r=function QJ(n){return hr(n)[ft.Currencies]}(t)[n]||VF[n]||[],i=r[1];return"narrow"===e&&"string"==typeof i?i:r[0]||n}(a,"symbol"===i?"wide":"narrow",o):i);try{return yZ(function MI(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),o,a,r,s)}catch(l){throw Pi()}}static#e=this.\u0275fac=function(r){return new(r||n)(E(Ri,16),E(RY,16))};static#t=this.\u0275pipe=Tr({name:"currency",type:n,pure:!0,standalone:!0})}return n})();let nL=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Le({type:n});static#n=this.\u0275inj=xe({})}return n})();function iL(n){return"server"===n}let nX=(()=>{class n{static#e=this.\u0275prov=H({token:n,providedIn:"root",factory:()=>new rX(U(Wt),window)})}return n})();class rX{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function iX(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class AX extends VJ{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class xI extends AX{static makeCurrent(){!function LJ(n){hI||(hI=n)}(new xI)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function RX(){return gh=gh||document.querySelector("base"),gh?gh.getAttribute("href"):null}();return null==t?null:function NX(n){xm=xm||document.createElement("a"),xm.setAttribute("href",n);const e=xm.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){gh=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function DZ(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let xm,gh=null,PX=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=H({token:n,factory:n.\u0275fac})}return n})();const kI=new X("EventManagerPlugins");let uL=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new C(5101,!1);return this._eventNameToPlugin.set(t,r),r}static#e=this.\u0275fac=function(r){return new(r||n)(U(kI),U(Ee))};static#t=this.\u0275prov=H({token:n,factory:n.\u0275fac})}return n})();class cL{constructor(e){this._doc=e}}const FI="ng-app-id";let dL=(()=>{class n{constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=iL(s),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${FI}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const s=i.get(t);return s.usage+=r,s.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===t)return i.delete(r),s.removeAttribute(FI),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(FI,this.appId),o}}addStyleToHost(t,r){const i=this.getStyleElement(t,r);t.appendChild(i);const s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||n)(U(Wt),U(Bg),U(yP,8),U(ma))};static#t=this.\u0275prov=H({token:n,factory:n.\u0275fac})}return n})();const LI={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},VI=/%COMP%/g,FX=new X("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function fL(n,e){return e.map(t=>t.replace(VI,n))}let BI=(()=>{class n{constructor(t,r,i,s,o,a,l,u=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=iL(a),this.defaultRenderer=new UI(t,o,l,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===si.ShadowDom&&(r={...r,encapsulation:si.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof gL?i.applyToHost(t):i instanceof jI&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,c=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case si.Emulated:s=new gL(l,u,r,this.appId,c,o,a,d);break;case si.ShadowDom:return new UX(l,u,t,r,o,a,this.nonce,d);default:s=new jI(l,u,r,c,o,a,d)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||n)(U(uL),U(dL),U(Bg),U(FX),U(Wt),U(ma),U(Ee),U(yP))};static#t=this.\u0275prov=H({token:n,factory:n.\u0275fac})}return n})();class UI{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(LI[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(pL(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(pL(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new C(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=LI[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=LI[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(yo.DashCase|yo.Important)?e.style.setProperty(t,r,i&yo.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&yo.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=To().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function pL(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class UX extends UI{constructor(e,t,r,i,s,o,a,l){super(e,s,o,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=fL(i.id,i.styles);for(const c of u){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=c,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class jI extends UI{constructor(e,t,r,i,s,o,a,l){super(e,s,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=l?fL(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class gL extends jI{constructor(e,t,r,i,s,o,a,l){const u=i+"-"+r.id;super(e,t,r,s,o,a,l,u),this.contentAttr=function LX(n){return"_ngcontent-%COMP%".replace(VI,n)}(u),this.hostAttr=function VX(n){return"_nghost-%COMP%".replace(VI,n)}(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let jX=(()=>{class n extends cL{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||n)(U(Wt))};static#t=this.\u0275prov=H({token:n,factory:n.\u0275fac})}return n})();const mL=["alt","control","meta","shift"],$X={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},HX={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let GX=(()=>{class n extends cL{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>To().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),mL.forEach(u=>{const c=r.indexOf(u);c>-1&&(r.splice(c,1),o+=u+".")}),o+=s,0!=r.length||0===s.length)return null;const l={};return l.domEventName=i,l.fullKey=o,l}static matchEventFullKeyCode(t,r){let i=$X[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),mL.forEach(o=>{o!==i&&(0,HX[o])(t)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(r){return new(r||n)(U(Wt))};static#t=this.\u0275prov=H({token:n,factory:n.\u0275fac})}return n})();const yL=[{provide:ma,useValue:"browser"},{provide:mP,useValue:function zX(){xI.makeCurrent()},multi:!0},{provide:Wt,useFactory:function qX(){return function V6(n){SE=n}(document),document},deps:[]}],KX=lF(TJ,"browser",yL),QX=new X(""),vL=[{provide:mm,useClass:class MX{addToWindow(e){dt.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new C(5103,!1);return s},dt.getAllAngularTestabilities=()=>e.getAllTestabilities(),dt.getAllAngularRootElements=()=>e.getAllRootElements(),dt.frameworkStabilizers||(dt.frameworkStabilizers=[]),dt.frameworkStabilizers.push(r=>{const i=dt.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(l){o=o||l,s--,0==s&&r(o)};i.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?To().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:rF,useClass:eI,deps:[Ee,tI,mm]},{provide:eI,useClass:eI,deps:[Ee,tI,mm]}],EL=[{provide:FE,useValue:"root"},{provide:Ps,useFactory:function WX(){return new Ps},deps:[]},{provide:kI,useClass:jX,multi:!0,deps:[Wt,Ee,ma]},{provide:kI,useClass:GX,multi:!0,deps:[Wt]},BI,dL,uL,{provide:ou,useExisting:BI},{provide:class sX{},useClass:PX,deps:[]},[]];let bL=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:Bg,useValue:t.appId}]}}static#e=this.\u0275fac=function(r){return new(r||n)(U(QX,12))};static#t=this.\u0275mod=Le({type:n});static#n=this.\u0275inj=xe({providers:[...EL,...vL],imports:[nL,wJ]})}return n})(),IL=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(r){return new(r||n)(U(Wt))};static#t=this.\u0275prov=H({token:n,factory:function(r){let i=null;return i=r?new r:function JX(){return new IL(U(Wt))}(),i},providedIn:"root"})}return n})();function SL(n,e,t,r,i,s,o){try{var a=n[s](o),l=a.value}catch(u){return void t(u)}a.done?e(l):Promise.resolve(l).then(r,i)}function v(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(l){SL(s,r,i,o,a,"next",l)}function a(l){SL(s,r,i,o,a,"throw",l)}o(void 0)})}}typeof window<"u"&&window;const CL=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},AL={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,l=i+2<n.length,u=l?n[i+2]:0;let h=(15&a)<<2|u>>6,f=63&u;l||(f=64,o||(h=64)),r.push(t[s>>2],t[(3&s)<<4|a>>4],t[h],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(CL(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const l=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(1023&l))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const u=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==s||null==a||null==u||null==d)throw new see;r.push(s<<2|a>>4),64!==u&&(r.push(a<<4&240|u>>2),64!==d&&r.push(u<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class see extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const km=function(n){return function(n){const e=CL(n);return AL.encodeByteArray(e,!0)}(n).replace(/\./g,"")},Fm=function(n){try{return AL.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},Lm=()=>{try{return function lee(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Fm(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},NL=n=>{var e,t;return null===(t=null===(e=Lm())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]},ML=n=>{const e=NL(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]},PL=()=>{var n;return null===(n=Lm())||void 0===n?void 0:n.config},OL=n=>{var e;return null===(e=Lm())||void 0===e?void 0:e[`_${n}`]};class xL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function kL(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[km(JSON.stringify({alg:"none",type:"JWT"})),km(JSON.stringify(o)),""].join(".")}function Tn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class rs extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mh.prototype.create)}}class mh{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function vee(n,e){return n.replace(Eee,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new rs(i,`${this.serviceName}: ${o} (${i}).`,r)}}const Eee=/\{\$([^}]+)}/g;function Bm(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(VL(s)&&VL(o)){if(!Bm(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function VL(n){return null!==n&&"object"==typeof n}function Um(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function _h(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function yh(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}class Tee{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function wee(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=GI),void 0===i.error&&(i.error=GI),void 0===i.complete&&(i.complete=GI);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function GI(){}function Kt(n){return n&&n._delegate?n._delegate:n}class Do{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const wa="[DEFAULT]";class Nee{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new xL;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function Pee(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:wa})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=wa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return v(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=wa){return this.instances.has(e)}getOptions(e=wa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===wa?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=wa){return this.component?this.component.multipleInstances?e:wa:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Oee{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Nee(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const WI=[];var ke=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(ke||{});const BL={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},xee=ke.INFO,kee={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},Fee=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=kee[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class qI{constructor(e){this.name=e,this._logLevel=xee,this._logHandler=Fee,this._userLogHandler=null,WI.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?BL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const Lee=(n,e)=>e.some(t=>n instanceof t);let UL,jL;const $L=new WeakMap,KI=new WeakMap,HL=new WeakMap,QI=new WeakMap,YI=new WeakMap;let JI={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return KI.get(n);if("objectStoreNames"===e)return n.objectStoreNames||HL.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return So(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function Gee(n){return"function"==typeof n?function Hee(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Bee(){return jL||(jL=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(ZI(this),e),So($L.get(this))}:function(...e){return So(n.apply(ZI(this),e))}:function(e,...t){const r=n.call(ZI(this),e,...t);return HL.set(r,e.sort?e.sort():[e]),So(r)}}(n):(n instanceof IDBTransaction&&function jee(n){if(KI.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});KI.set(n,e)}(n),Lee(n,function Vee(){return UL||(UL=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,JI):n)}function So(n){if(n instanceof IDBRequest)return function Uee(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(So(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&$L.set(t,n)}).catch(()=>{}),YI.set(e,n),e}(n);if(QI.has(n))return QI.get(n);const e=Gee(n);return e!==n&&(QI.set(n,e),YI.set(e,n)),e}const ZI=n=>YI.get(n),Wee=["get","getKey","getAll","getAllKeys","count"],qee=["put","add","delete","clear"],XI=new Map;function GL(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(XI.get(e))return XI.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=qee.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Wee.includes(t))return;const s=function(){var o=v(function*(a,...l){const u=this.transaction(a,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(yield Promise.all([c[t](...l),i&&u.done]))[0]});return function(l){return o.apply(this,arguments)}}();return XI.set(e,s),s}!function $ee(n){JI=n(JI)}(n=>({...n,get:(e,t,r)=>GL(e,t)||n.get(e,t,r),has:(e,t)=>!!GL(e,t)||n.has(e,t)}));class Kee{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function Qee(n){const e=n.getComponent();return"VERSION"===e?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const eT="@firebase/app",Da=new qI("@firebase/app"),jm="[DEFAULT]",bte={[eT]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Sa=new Map,$m=new Map;function Ite(n,e){try{n.container.addComponent(e)}catch(t){Da.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ca(n){const e=n.name;if($m.has(e))return Da.debug(`There were multiple attempts to register component ${e}.`),!1;$m.set(e,n);for(const t of Sa.values())Ite(t,n);return!0}function vh(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const Us=new mh("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class wte{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Do("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Us.create("app-deleted",{appName:this._name})}}const Aa="10.5.2";function WL(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:jm,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Us.create("bad-app-name",{appName:String(i)});if(t||(t=PL()),!t)throw Us.create("no-options");const s=Sa.get(i);if(s){if(Bm(t,s.options)&&Bm(r,s.config))return s;throw Us.create("duplicate-app",{appName:i})}const o=new Oee(i);for(const l of $m.values())o.addComponent(l);const a=new wte(t,r,o);return Sa.set(i,a),a}function Hm(n=jm){const e=Sa.get(n);if(!e&&n===jm&&PL())return WL();if(!e)throw Us.create("no-app",{appName:n});return e}function qL(){return Array.from(Sa.values())}function Jn(n,e,t){var r;let i=null!==(r=bte[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Da.warn(a.join(" "))}Ca(new Do(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Dte="firebase-heartbeat-database",Ste=1,Eh="firebase-heartbeat-store";let nT=null;function KL(){return nT||(nT=function zee(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=So(o);return r&&o.addEventListener("upgradeneeded",l=>{r(So(o.result),l.oldVersion,l.newVersion,So(o.transaction),l)}),t&&o.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}(Dte,Ste,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Eh)}}).catch(n=>{throw Us.create("idb-open",{originalErrorMessage:n.message})})),nT}function rT(){return(rT=v(function*(n){try{return yield(yield KL()).transaction(Eh).objectStore(Eh).get(YL(n))}catch(e){if(e instanceof rs)Da.warn(e.message);else{const t=Us.create("idb-get",{originalErrorMessage:e?.message});Da.warn(t.message)}}})).apply(this,arguments)}function QL(n,e){return iT.apply(this,arguments)}function iT(){return(iT=v(function*(n,e){try{const r=(yield KL()).transaction(Eh,"readwrite");yield r.objectStore(Eh).put(e,YL(n)),yield r.done}catch(t){if(t instanceof rs)Da.warn(t.message);else{const r=Us.create("idb-set",{originalErrorMessage:t?.message});Da.warn(r.message)}}})).apply(this,arguments)}function YL(n){return`${n.name}!${n.options.appId}`}class Nte{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Pte(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return v(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=JL();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return v(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=JL(),{heartbeatsToSend:r,unsentEntries:i}=function Mte(n,e=1024){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),ZL(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),ZL(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=km(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function JL(){return(new Date).toISOString().substring(0,10)}class Pte{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(function*(){return!!function mee(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function _ee(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return v(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function Cte(n){return rT.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return v(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return QL(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return v(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return QL(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function ZL(n){return km(JSON.stringify({version:2,heartbeats:n})).length}!function Ote(n){Ca(new Do("platform-logger",e=>new Kee(e),"PRIVATE")),Ca(new Do("heartbeat",e=>new Nte(e),"PRIVATE")),Jn(eT,"0.9.22",n),Jn(eT,"0.9.22","esm2017"),Jn("fire-js","")}(""),Jn("firebase","10.5.2","app");class Fte extends Ut{constructor(e,t){super()}schedule(e,t=0){return this}}const Gm={setInterval(n,e,...t){const{delegate:r}=Gm;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Gm;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class XL extends Fte{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return Gm.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&Gm.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,lo(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const eV={now:()=>(eV.delegate||Date).now(),delegate:void 0};class bh{constructor(e,t=bh.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}bh.now=eV.now;class tV extends bh{constructor(e,t=bh.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const Bte=new class Vte extends tV{}(class Lte extends XL{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),sT=new tV(XL),Ute=sT;function gn(n,e,t){const r=De(n)||e||t?{next:n,error:e,complete:t}:n;return r?St((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(ct(s,l=>{var u;null===(u=r.next)||void 0===u||u.call(r,l),s.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),s.complete()},l=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,l),s.error(l)},()=>{var l,u;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):bi}const Ih=new au("ANGULARFIRE2_VERSION");function oT(n,e,t){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===t);if(1===s.length)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}const zm=(n,e)=>{const t=e?[e]:qL(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};class aT{constructor(){return zm(jte)}}const jte="app-check";function Ru(){}class nV{zone;delegate;constructor(e,t=Bte){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},t,r)}}class $te{zone;task=null;constructor(e){this.zone=e}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ru,{},Ru,Ru)),t.pipe(gn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Wm=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new nV(Zone.current)),this.insideAngular=t.run(()=>new nV(Zone.current,sT)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(U(Ee))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Nu(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function Ra(n){return Nu().ngZone.run(()=>n())}function Gte(n){return function zte(n){return function(t){return(t=t.lift(new $te(n.ngZone))).pipe(Kp(n.outsideAngular),qp(n.insideAngular))}}(Nu())(n)}const Wte=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Ra(()=>n.apply(void 0,r))},Zn=(n,e)=>function(){let t;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(t||=Ra(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ru,{},Ru,Ru))),r[s]=Wte(r[s],t));const i=function Hte(n){return Nu().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,r));if(!e){if(i instanceof Fe){const s=Nu();return i.pipe(Kp(s.outsideAngular),qp(s.insideAngular))}return Ra(()=>i)}return i instanceof Fe?i.pipe(Gte):i instanceof Promise?Ra(()=>new Promise((s,o)=>i.then(a=>Ra(()=>s(a)),a=>Ra(()=>o(a))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:Ra(()=>i)};class Mu{constructor(e){return e}}class qm{constructor(){return qL()}}const lT=new X("angularfire2._apps"),Kte={provide:Mu,useFactory:function qte(n){return n&&1===n.length?n[0]:new Mu(Hm())},deps:[[new kn,lT]]},Qte={provide:qm,deps:[[new kn,lT]]};function Yte(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Mu(r)}}let Jte=(()=>{class n{constructor(t){Jn("angularfire",Ih.full,"core"),Jn("angularfire",Ih.full,"app"),Jn("angular",wP.full,t.toString())}static \u0275fac=function(r){return new(r||n)(U(ma))};static \u0275mod=Le({type:n});static \u0275inj=xe({providers:[Kte,Qte]})}return n})();function Zte(n,...e){return{ngModule:Jte,providers:[{provide:lT,useFactory:Yte(n),multi:!0,deps:[Ee,zt,Wm,...e]}]}}const Xte=Zn(WL,!0);const ene=function rV(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},iV=new mh("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Km=new qI("@firebase/auth");function Qm(n,...e){Km.logLevel<=ke.ERROR&&Km.error(`Auth (${Aa}): ${n}`,...e)}function Nr(n,...e){throw uT(n,...e)}function is(n,...e){return uT(n,...e)}function uT(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return iV.create(n,...e)}function G(n,e,...t){if(!n)throw uT(e,...t)}function ss(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Qm(e),new Error(e)}function Co(n,e){n||ss(e)}function Th(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function oV(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}function nne(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function cT(){return"http:"===oV()||"https:"===oV()}()||function fee(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}()||"connection"in navigator))||navigator.onLine}class wh{constructor(e,t){this.shortDelay=e,this.longDelay=t,Co(t>e,"Short delay should be less than long delay!"),this.isMobile=function hee(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tn())}()||function pee(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return nne()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function dT(n,e){Co(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class aV{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void ss("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void ss("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void ss("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ine={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},sne=new wh(3e4,6e4);function bt(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Nt(n,e,t,r){return hT.apply(this,arguments)}function hT(){return(hT=v(function*(n,e,t,r,i={}){return lV(n,i,v(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=Um(Object.assign({key:n.config.apiKey},o)).slice(1),l=yield n._getAdditionalHeaders();return l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode),aV.fetch()(uV(n,n.config.apiHost,t,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function lV(n,e,t){return fT.apply(this,arguments)}function fT(){return(fT=v(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},ine),e);try{const i=new ane(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Dh(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===l)throw Dh(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===l)throw Dh(n,"email-already-in-use",o);if("USER_DISABLED"===l)throw Dh(n,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw function sV(n,e,t){const r=Object.assign(Object.assign({},ene()),{[e]:t});return new mh("auth","Firebase",r).create(e,{appName:n.name})}(n,c,u);Nr(n,c)}}catch(i){if(i instanceof rs)throw i;Nr(n,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function js(n,e,t,r){return pT.apply(this,arguments)}function pT(){return(pT=v(function*(n,e,t,r,i={}){const s=yield Nt(n,e,t,r,i);return"mfaPendingCredential"in s&&Nr(n,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function uV(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?dT(n.config,i):`${n.config.apiScheme}://${i}`}function one(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ane{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(is(this.auth,"network-request-failed")),sne.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Dh(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=is(n,e,r);return i.customData._tokenResponse=t,i}function dV(n){return void 0!==n&&void 0!==n.enterprise}class hV{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return one(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}function fV(n,e){return mT.apply(this,arguments)}function mT(){return(mT=v(function*(n,e){return Nt(n,"GET","/v2/recaptchaConfig",bt(n,e))})).apply(this,arguments)}function _T(){return(_T=v(function*(n,e){return Nt(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function vT(){return(vT=v(function*(n,e){return Nt(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Sh(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function ET(){return(ET=v(function*(n,e=!1){const t=Kt(n),r=yield t.getIdToken(e),i=Ym(r);G(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Sh(bT(i.auth_time)),issuedAtTime:Sh(bT(i.iat)),expirationTime:Sh(bT(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function bT(n){return 1e3*Number(n)}function Ym(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return Qm("JWT malformed, contained fewer than 3 sections"),null;try{const i=Fm(t);return i?JSON.parse(i):(Qm("Failed to decode base64 JWT payload"),null)}catch(i){return Qm("Caught error parsing JWT payload as JSON",i?.toString()),null}}function $s(n,e){return IT.apply(this,arguments)}function IT(){return(IT=v(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof rs&&function pne({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}class gne{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(v(function*(){yield t.iteration()}),r)}iteration(){var e=this;return v(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class pV{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sh(this.lastLoginAt),this.creationTime=Sh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ch(n){return TT.apply(this,arguments)}function TT(){return TT=v(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield $s(n,function dne(n,e){return vT.apply(this,arguments)}(t,{idToken:r}));G(i?.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function yne(n){return n.map(e=>{var{providerId:t}=e,r=Gp(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function _ne(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(n.providerData,o),c=!!n.isAnonymous&&!(n.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new pV(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(n,d)}),TT.apply(this,arguments)}function wT(){return(wT=v(function*(n){const e=Kt(n);yield Ch(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function DT(){return(DT=v(function*(n,e){const t=yield lV(n,{},v(function*(){const r=Um({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=uV(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",aV.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class Ah{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){G(e.idToken,"internal-error"),G(typeof e.idToken<"u","internal-error"),G(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function fne(n){const e=Ym(n);return G(e,"internal-error"),G(typeof e.exp<"u","internal-error"),G(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return v(function*(){return G(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return v(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function vne(n,e){return DT.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new Ah;return r&&(G("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(G("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(G("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ah,this.toJSON())}_performRefresh(){return ss("not implemented")}}function Ao(n,e){G("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class Na{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=Gp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gne(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new pV(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return v(function*(){const r=yield $s(t,t.stsTokenManager.getToken(t.auth,e));return G(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function hne(n){return ET.apply(this,arguments)}(this,e)}reload(){return function mne(n){return wT.apply(this,arguments)}(this)}_assign(e){this!==e&&(G(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Na(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){G(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return v(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield Ch(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return v(function*(){const t=yield e.getIdToken();return yield $s(e,function une(n,e){return _T.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,l,u,c;const d=null!==(r=t.displayName)&&void 0!==r?r:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,f=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,g=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(l=t._redirectEventId)&&void 0!==l?l:void 0,y=null!==(u=t.createdAt)&&void 0!==u?u:void 0,_=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:I,emailVerified:w,isAnonymous:M,providerData:L,stsTokenManager:K}=t;G(I&&K,e,"internal-error");const ie=Ah.fromJSON(this.name,K);G("string"==typeof I,e,"internal-error"),Ao(d,e.name),Ao(h,e.name),G("boolean"==typeof w,e,"internal-error"),G("boolean"==typeof M,e,"internal-error"),Ao(f,e.name),Ao(p,e.name),Ao(g,e.name),Ao(m,e.name),Ao(y,e.name),Ao(_,e.name);const Te=new Na({uid:I,auth:e,email:h,emailVerified:w,displayName:d,isAnonymous:M,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:ie,createdAt:y,lastLoginAt:_});return L&&Array.isArray(L)&&(Te.providerData=L.map(Oe=>Object.assign({},Oe))),m&&(Te._redirectEventId=m),Te}static _fromIdTokenResponse(e,t,r=!1){return v(function*(){const i=new Ah;i.updateFromServerResponse(t);const s=new Na({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Ch(s),s})()}}const gV=new Map;function Hs(n){Co(n instanceof Function,"Expected a class definition");let e=gV.get(n);return e?(Co(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,gV.set(n,e),e)}const mV=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(function*(){return!0})()}_set(t,r){var i=this;return v(function*(){i.storage[t]=r})()}_get(t){var r=this;return v(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return v(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function Jm(n,e,t){return`firebase:${n}:${e}:${t}`}class Ou{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Jm(this.userKey,i.apiKey,s),this.fullPersistenceKey=Jm("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return v(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?Na._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return v(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return v(function*(){if(!t.length)return new Ou(Hs(mV),e,r);const i=(yield Promise.all(t.map(function(){var u=v(function*(c){if(yield c._isAvailable())return c});return function(c){return u.apply(this,arguments)}}()))).filter(u=>u);let s=i[0]||Hs(mV);const o=Jm(r,e.config.apiKey,e.name);let a=null;for(const u of t)try{const c=yield u._get(o);if(c){const d=Na._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return s._shouldAllowMigration&&l.length?(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var u=v(function*(c){if(c!==s)try{yield c._remove(o)}catch{}});return function(c){return u.apply(this,arguments)}}())),new Ou(s,e,r)):new Ou(s,e,r)})()}}function _V(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(EV(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yV(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(IV(e))return"Blackberry";if(TV(e))return"Webos";if(ST(e))return"Safari";if((e.includes("chrome/")||vV(e))&&!e.includes("edge/"))return"Chrome";if(bV(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function yV(n=Tn()){return/firefox\//i.test(n)}function ST(n=Tn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function vV(n=Tn()){return/crios\//i.test(n)}function EV(n=Tn()){return/iemobile/i.test(n)}function bV(n=Tn()){return/android/i.test(n)}function IV(n=Tn()){return/blackberry/i.test(n)}function TV(n=Tn()){return/webos/i.test(n)}function Zm(n=Tn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function wV(n=Tn()){return Zm(n)||bV(n)||TV(n)||IV(n)||/windows phone/i.test(n)||EV(n)}function DV(n,e=[]){let t;switch(n){case"Browser":t=_V(Tn());break;case"Worker":t=`${_V(Tn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Aa}/${r}`}class Tne{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(l){a(l)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return v(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function CT(){return(CT=v(function*(n,e={}){return Nt(n,"GET","/v2/passwordPolicy",bt(n,e))})).apply(this,arguments)}class Sne{constructor(e){var t,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(s=e.forceUpgradeOnSignin)&&void 0!==s&&s,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=null===(t=l.meetsMinPasswordLength)||void 0===t||t),l.isValid&&(l.isValid=null===(r=l.meetsMaxPasswordLength)||void 0===r||r),l.isValid&&(l.isValid=null===(i=l.containsLowercaseLetter)||void 0===i||i),l.isValid&&(l.isValid=null===(s=l.containsUppercaseLetter)||void 0===s||s),l.isValid&&(l.isValid=null===(o=l.containsNumericCharacter)||void 0===o||o),l.isValid&&(l.isValid=null===(a=l.containsNonAlphanumericCharacter)||void 0===a||a),l}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){let r;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class Cne{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new SV(this),this.idTokenSubscription=new SV(this),this.beforeStateQueue=new Tne(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=iV,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=Hs(t)),this._initializationPromise=this.queue(v(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Ou.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return v(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return v(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,l=s?._redirectEventId,u=yield t.tryRedirectSignIn(e);(!a||a===l)&&u?.user&&(s=u.user,o=!0)}if(!s)return t.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield t.beforeStateQueue.runMiddleware(s)}catch(a){s=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return s?t.reloadAndSetCurrentUserOrClear(s):t.directlySetCurrentUser(null)}return G(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===s._redirectEventId?t.directlySetCurrentUser(s):t.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var t=this;return v(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return v(function*(){try{yield Ch(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function rne(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return v(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return v(function*(){const r=e?Kt(e):null;return r&&G(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return v(function*(){if(!r._deleted)return e&&G(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(v(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return v(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(v(function*(){yield t.assertedPersistence.setPersistence(Hs(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var t=this;return v(function*(){t._getPasswordPolicyInternal()||(yield t._updatePasswordPolicy());const r=t._getPasswordPolicyInternal();return r.schemaVersion!==t.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(t._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return v(function*(){const t=yield function wne(n){return CT.apply(this,arguments)}(e),r=new Sne(t);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new mh("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return v(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return v(function*(){if(!t.redirectPersistenceManager){const r=e&&Hs(e)||t._popupRedirectResolver;G(r,t,"argument-error"),t.redirectPersistenceManager=yield Ou.create(t,[Hs(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return v(function*(){var r,i;return t._isInitialized&&(yield t.queue(v(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return v(function*(){if(e===t.currentUser)return t.queue(v(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(G(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),"function"==typeof t){const l=e.addObserver(t,r,i);return()=>{o=!0,l()}}{const l=e.addObserver(t);return()=>{o=!0,l()}}}directlySetCurrentUser(e){var t=this;return v(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return G(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=DV(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return v(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return v(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function tne(n,...e){Km.logLevel<=ke.WARN&&Km.warn(`Auth (${Aa}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function an(n){return Kt(n)}class SV{constructor(e){this.auth=e,this.observer=null,this.addObserver=function Iee(n,e){const t=new Tee(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return G(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function AT(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=is("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",function Ane(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}function CV(n){return`__${n}${Math.floor(1e6*Math.random())}`}class AV{constructor(e){this.type="recaptcha-enterprise",this.auth=an(e)}verify(e="verify",t=!1){var r=this;return v(function*(){function s(){return s=v(function*(a){if(!t){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var l=v(function*(u,c){fV(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new hV(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,u(h.siteKey)}c(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{c(d)})});return function(u,c){return l.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,l,u){const c=window.grecaptcha;dV(c)?c.enterprise.ready(()=>{c.enterprise.execute(a,{action:e}).then(d=>{l(d)}).catch(()=>{l("NO_RECAPTCHA")})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,l)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(u=>{if(!t&&dV(window.grecaptcha))o(u,a,l);else{if(typeof window>"u")return void l(new Error("RecaptchaVerifier is only supported in browser"));AT("https://www.google.com/recaptcha/enterprise.js?render="+u).then(()=>{o(u,a,l)}).catch(c=>{l(c)})}}).catch(u=>{l(u)})})})()}}function RV(n,e,t){return RT.apply(this,arguments)}function RT(){return(RT=v(function*(n,e,t,r=!1){const i=new AV(n);let s;try{s=yield i.verify(t)}catch{s=yield i.verify(t,!0)}const o=Object.assign({},e);return Object.assign(o,r?{captchaResp:s}:{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})).apply(this,arguments)}function Xm(n,e,t,r){return NT.apply(this,arguments)}function NT(){return NT=v(function*(n,e,t,r){var i;if(null!==(i=n._getRecaptchaConfig())&&void 0!==i&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=yield RV(n,e,t,"getOobCode"===t);return r(n,s)}return r(n,e).catch(function(){var s=v(function*(o){if("auth/missing-recaptcha-token"===o.code){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=yield RV(n,e,t,"getOobCode"===t);return r(n,a)}return Promise.reject(o)});return function(o){return s.apply(this,arguments)}}())}),NT.apply(this,arguments)}function NV(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function MV(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class PV{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ss("not implemented")}_getIdTokenResponse(e){return ss("not implemented")}_linkToIdToken(e,t){return ss("not implemented")}_getReauthenticationResolver(e){return ss("not implemented")}}function xV(n,e){return OT.apply(this,arguments)}function OT(){return(OT=v(function*(n,e){return Nt(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function Bne(n,e){return kT.apply(this,arguments)}function kT(){return(kT=v(function*(n,e){return js(n,"POST","/v1/accounts:signInWithPassword",bt(n,e))})).apply(this,arguments)}function jT(){return(jT=v(function*(n,e){return js(n,"POST","/v1/accounts:signInWithEmailLink",bt(n,e))})).apply(this,arguments)}function $T(){return($T=v(function*(n,e){return js(n,"POST","/v1/accounts:signInWithEmailLink",bt(n,e))})).apply(this,arguments)}class Rh extends PV{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Rh(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Rh(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return v(function*(){switch(t.signInMethod){case"password":return Xm(e,{returnSecureToken:!0,email:t._email,password:t._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Bne);case"emailLink":return function Gne(n,e){return jT.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:Nr(e,"internal-error")}})()}_linkToIdToken(e,t){var r=this;return v(function*(){switch(r.signInMethod){case"password":return xV(e,{idToken:t,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function zne(n,e){return $T.apply(this,arguments)}(e,{idToken:t,email:r._email,oobCode:r._password});default:Nr(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Gs(n,e){return HT.apply(this,arguments)}function HT(){return(HT=v(function*(n,e){return js(n,"POST","/v1/accounts:signInWithIdp",bt(n,e))})).apply(this,arguments)}class Ph{constructor(e){var t,r,i,s,o,a;const l=_h(yh(e)),u=null!==(t=l.apiKey)&&void 0!==t?t:null,c=null!==(r=l.oobCode)&&void 0!==r?r:null,d=function Zne(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=l.mode)&&void 0!==i?i:null);G(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=null!==(s=l.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=l.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=l.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function Xne(n){const e=_h(yh(n)).link,t=e?_h(yh(e)).deep_link_id:null,r=_h(yh(n)).deep_link_id;return(r?_h(yh(r)).link:null)||r||t||e||n}(e);try{return new Ph(t)}catch{return null}}}let kV=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return Rh._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const i=Ph.parseLink(r);return G(i,"argument-error"),Rh._fromEmailAndCode(t,i.code,i.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class Ro{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ere extends Ro{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function FV(n,e){return QT.apply(this,arguments)}function QT(){return(QT=v(function*(n,e){return js(n,"POST","/v1/accounts:signUp",bt(n,e))})).apply(this,arguments)}class gi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return v(function*(){const s=yield Na._fromIdTokenResponse(e,r,i),o=LV(r);return new gi({user:s,providerId:o,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return v(function*(){yield e._updateTokensIfNecessary(r,!0);const i=LV(r);return new gi({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function LV(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class n_ extends rs{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n_.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n_(e,t,r,i)}}function VV(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?n_._fromErrorAndOperation(n,s,e,r):s})}function XT(){return(XT=v(function*(n,e,t=!1){const r=yield $s(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return gi._forOperation(n,"link",r)})).apply(this,arguments)}function tw(){return(tw=v(function*(n,e,t=!1){const{auth:r}=n,i="reauthenticate";try{const s=yield $s(n,VV(r,i,e,n),t);G(s.idToken,r,"internal-error");const o=Ym(s.idToken);G(o,r,"internal-error");const{sub:a}=o;return G(n.uid===a,r,"user-mismatch"),gi._forOperation(n,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&Nr(r,"user-mismatch"),s}})).apply(this,arguments)}function jV(n,e){return nw.apply(this,arguments)}function nw(){return(nw=v(function*(n,e,t=!1){const r="signIn",i=yield VV(n,r,e),s=yield gi._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})).apply(this,arguments)}function rw(n,e){return iw.apply(this,arguments)}function iw(){return(iw=v(function*(n,e){return jV(an(n),e)})).apply(this,arguments)}function hw(n){return fw.apply(this,arguments)}function fw(){return(fw=v(function*(n){const e=an(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})).apply(this,arguments)}function vw(){return(vw=v(function*(n,e,t){const r=an(n),o=yield Xm(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",FV).catch(l=>{throw"auth/password-does-not-meet-requirements"===l.code&&hw(n),l}),a=yield gi._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})).apply(this,arguments)}function HV(n,e,t,r){return Kt(n).onIdTokenChanged(e,t,r)}const s_="__sak";class GV{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(s_,"1"),this.storage.removeItem(s_),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Dre=(()=>{class n extends GV{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ire(){const n=Tn();return ST(n)||Zm(n)}()&&function Ine(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=wV(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(t.newValue!==a)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function bne(){return function gee(){const n=Tn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===t.newValue||t.newValue===t.oldValue?s():setTimeout(s,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,s=this;return v(function*(){yield i().call(s,t,r),s.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return v(function*(){const s=yield r().call(i,t);return i.localCache[t]=JSON.stringify(s),s})()}_remove(t){var r=()=>super._remove,i=this;return v(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),zV=(()=>{class n extends GV{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let Cre=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return v(function*(){const i=t,{eventId:s,eventType:o,data:a}=i.data,l=r.handlersMap[o];if(!l?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const u=Array.from(l).map(function(){var d=v(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),c=yield function Sre(n){return Promise.all(n.map(function(){var e=v(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(u);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:c})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function kw(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class Are{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return v(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((l,u)=>{const c=kw("",20);s.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(f.data.response);break;default:clearTimeout(d),clearTimeout(o),u(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:c,data:t},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function ln(){return window}function Fw(){return typeof ln().WorkerGlobalScope<"u"&&"function"==typeof ln().importScripts}function Lw(){return(Lw=v(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const WV="firebaseLocalStorageDb",o_="firebaseLocalStorage",qV="fbase_key";class xh{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function a_(n,e){return n.transaction([o_],e?"readwrite":"readonly").objectStore(o_)}function Vw(){const n=indexedDB.open(WV,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(o_,{keyPath:qV})}catch(i){t(i)}}),n.addEventListener("success",v(function*(){const r=n.result;r.objectStoreNames.contains(o_)?e(r):(r.close(),yield function xre(){const n=indexedDB.deleteDatabase(WV);return new xh(n).toPromise()}(),e(yield Vw()))}))})}function KV(n,e,t){return Bw.apply(this,arguments)}function Bw(){return(Bw=v(function*(n,e,t){const r=a_(n,!0).put({[qV]:e,value:t});return new xh(r).toPromise()})).apply(this,arguments)}function Uw(){return(Uw=v(function*(n,e){const t=a_(n,!1).get(e),r=yield new xh(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function QV(n,e){const t=a_(n,!0).delete(e);return new xh(t).toPromise()}const Vre=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return v(function*(){return t.db||(t.db=yield Vw()),t.db})()}_withRetries(t){var r=this;return v(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield t(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return v(function*(){return Fw()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return v(function*(){t.receiver=Cre._getInstance(function Pre(){return Fw()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=v(function*(i,s){return{keyProcessed:(yield t._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=v(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return v(function*(){var r,i;if(t.activeServiceWorker=yield function Nre(){return Lw.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new Are(t.activeServiceWorker);const s=yield t.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return v(function*(){if(r.sender&&r.activeServiceWorker&&function Mre(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return v(function*(){try{if(!indexedDB)return!1;const t=yield Vw();return yield KV(t,s_,"1"),yield QV(t,s_),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return v(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return v(function*(){return i._withPendingWrite(v(function*(){return yield i._withRetries(s=>KV(s,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return v(function*(){const i=yield r._withRetries(s=>function kre(n,e){return Uw.apply(this,arguments)}(s,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return v(function*(){return r._withPendingWrite(v(function*(){return yield r._withRetries(i=>QV(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return v(function*(){const r=yield t._withRetries(o=>{const a=a_(o,!1).getAll();return new xh(a).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(t.localCache[o])!==JSON.stringify(a)&&(t.notifyListeners(o,a),i.push(o));for(const o of Object.keys(t.localCache))t.localCache[o]&&!s.has(o)&&(t.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(v(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();CV("rcb"),new wh(3e4,6e4);class Qw extends PV{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Gs(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Gs(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Gs(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function eie(n){return jV(n.auth,new Qw(n),n.bypassAuthState)}function tie(n){const{auth:e,user:t}=n;return G(t,e,"internal-error"),function UV(n,e){return tw.apply(this,arguments)}(t,new Qw(n),n.bypassAuthState)}function nie(n){return Yw.apply(this,arguments)}function Yw(){return(Yw=v(function*(n){const{auth:e,user:t}=n;return G(t,e,"internal-error"),function ZT(n,e){return XT.apply(this,arguments)}(t,new Qw(n),n.bypassAuthState)})).apply(this,arguments)}class rie{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=v(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return v(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:l}=e;if(a)return void t.reject(a);const u={auth:t.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(l)(u))}catch(c){t.reject(c)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return eie;case"linkViaPopup":case"linkViaRedirect":return nie;case"reauthViaPopup":case"reauthViaRedirect":return tie;default:Nr(this.auth,"internal-error")}}resolve(e){Co(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Co(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new wh(2e3,1e4);const iie="pendingRedirect",kh=new Map;class sie extends rie{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return v(function*(){let r=kh.get(t.auth._key());if(!r){try{const s=(yield function oie(n,e){return tD.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}kh.set(t.auth._key(),r)}return t.bypassAuthState||kh.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return v(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return v(function*(){})()}cleanUp(){}}function tD(){return(tD=v(function*(n,e){const t=function ZV(n){return Jm(iie,n.config.apiKey,n.name)}(e),r=function JV(n){return Hs(n._redirectPersistence)}(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i})).apply(this,arguments)}function aie(n,e){kh.set(n._key(),e)}function XV(n,e){return lD.apply(this,arguments)}function lD(){return(lD=v(function*(n,e,t=!1){const r=an(n),i=function Pa(n,e){return e?Hs(e):(G(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}(r,e),o=yield new sie(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class hie{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function fie(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return n2(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!n2(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(is(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(t2(e))}saveEventToCache(e){this.cachedEventUids.add(t2(e)),this.lastProcessedEventTime=Date.now()}}function t2(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function n2({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function cD(){return(cD=v(function*(n,e={}){return Nt(n,"GET","/v1/projects",e)})).apply(this,arguments)}const gie=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mie=/^https?/;function dD(){return dD=v(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield function pie(n){return cD.apply(this,arguments)}(n);for(const t of e)try{if(yie(t))return}catch{}Nr(n,"unauthorized-domain")}),dD.apply(this,arguments)}function yie(n){const e=Th(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return""===o.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&o.hostname===r}if(!mie.test(t))return!1;if(gie.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const vie=new wh(3e4,6e4);function r2(){const n=ln().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let u_=null;const Iie=new wh(5e3,15e3),Tie="__/auth/iframe",wie="emulator/auth/iframe",Die={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Sie=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Cie(n){const e=n.config;G(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?dT(e,wie):`https://${n.config.authDomain}/${Tie}`,r={apiKey:e.apiKey,appName:n.name,v:Aa},i=Sie.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${Um(r).slice(1)}`}function hD(){return hD=v(function*(n){const e=yield function bie(n){return u_=u_||function Eie(n){return new Promise((e,t)=>{var r,i,s;function o(){r2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{r2(),t(is(n,"network-request-failed"))},timeout:vie.get()})}if(null!==(i=null===(r=ln().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=ln().gapi)||void 0===s||!s.load){const a=CV("iframefcb");return ln()[a]=()=>{gapi.load?o():t(is(n,"network-request-failed"))},AT(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>t(l))}o()}}).catch(e=>{throw u_=null,e})}(n),u_}(n),t=ln().gapi;return G(t,n,"internal-error"),e.open({where:document.body,url:Cie(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Die,dontclear:!0},r=>new Promise(function(){var i=v(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=is(n,"network-request-failed"),l=ln().setTimeout(()=>{o(a)},Iie.get());function u(){ln().clearTimeout(l),s(r)}r.ping(u).then(u,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),hD.apply(this,arguments)}const Rie={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class i2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Fie="__/auth/handler",Lie="emulator/auth/handler",Vie=encodeURIComponent("fac");function s2(n,e,t,r,i,s){return fD.apply(this,arguments)}function fD(){return(fD=v(function*(n,e,t,r,i,s){G(n.config.authDomain,n,"auth-domain-config-required"),G(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Aa,eventId:i};if(e instanceof Ro){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",function bee(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries(s||{}))o[c]=d}if(e instanceof ere){const c=e.getScopes().filter(d=>""!==d);c.length>0&&(o.scopes=c.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const c of Object.keys(a))void 0===a[c]&&delete a[c];const l=yield n._getAppCheckToken(),u=l?`#${Vie}=${encodeURIComponent(l)}`:"";return`${function Bie({config:n}){return n.emulator?dT(n,Lie):`https://${n.authDomain}/${Fie}`}(n)}?${Um(a).slice(1)}${u}`})).apply(this,arguments)}const pD="webStorageSupport",jie=class Uie{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zV,this._completeRedirectFn=XV,this._overrideRedirectResult=aie}_openPopup(e,t,r,i){var s=this;return v(function*(){var o;Co(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=yield s2(e,t,r,Th(),i);return function xie(n,e,t,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Rie),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Tn().toLowerCase();t&&(a=vV(u)?"_blank":t),yV(u)&&(e=e||"http://localhost",l.scrollbars="yes");const c=Object.entries(l).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function Ene(n=Tn()){var e;return Zm(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(u)&&"_self"!==a)return function kie(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",a),new i2(null);const d=window.open(e||"",a,c);G(d,n,"popup-blocked");try{d.focus()}catch{}return new i2(d)}(e,a,kw())})()}_openRedirect(e,t,r,i){var s=this;return v(function*(){return yield s._originValidation(e),function Rre(n){ln().location.href=n}(yield s2(e,t,r,Th(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(Co(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return v(function*(){const r=yield function Aie(n){return hD.apply(this,arguments)}(e),i=new hie(e);return r.register("authEvent",s=>(G(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(pD,{type:pD},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[pD];void 0!==o&&t(!!o),Nr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function _ie(n){return dD.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return wV()||ST()||Zm()}};var l2="@firebase/auth";class $ie{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return v(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){G(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Wie=OL("authIdTokenMaxAge")||300;let c2=null;const qie=n=>function(){var e=v(function*(t){const r=t&&(yield t.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>Wie)return;const s=r?.token;c2!==s&&(c2=s,yield fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function d_(n=Hm()){const e=vh(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function One(n,e){const t=vh(n,"auth");if(t.isInitialized()){const i=t.getImmediate();if(Bm(t.getOptions(),e??{}))return i;Nr(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:jie,persistence:[Vre,Dre,zV]}),r=OL("authTokenSyncURL");if(r){const s=qie(r);(function mre(n,e,t){Kt(n).beforeAuthStateChanged(e,t)})(t,s,()=>s(t.currentUser)),HV(t,o=>s(o))}const i=NL("auth");return i&&function kne(n,e,t){const r=an(n);G(r._canInitEmulator,r,"emulator-config-failed"),G(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!t?.disableWarnings,s=NV(e),{host:o,port:a}=function Fne(n){const e=NV(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:MV(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:MV(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function Lne(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${i}`),t}function d2(n){return new Fe(function(e){return{unsubscribe:HV(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e))}})}!function Gie(n){Ca(new Do("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;G(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:DV(n)},u=new Cne(r,i,s,l);return function xne(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Hs);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ca(new Do("auth-internal",e=>{const t=an(e.getProvider("auth").getImmediate());return new $ie(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Jn(l2,"1.3.2",function Hie(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),Jn(l2,"1.3.2","esm2017")}("Browser");class h_{constructor(e){return e}}class mD{constructor(){return zm("auth")}}const _D=new X("angularfire2.auth-instances");function Qie(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new h_(r)}}const Yie={provide:mD,deps:[[new kn,_D]]},Jie={provide:h_,useFactory:function Kie(n,e){const t=oT("auth",n,e);return t&&new h_(t)},deps:[[new kn,_D],Mu]};let Zie=(()=>{class n{constructor(){Jn("angularfire",Ih.full,"auth")}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Le({type:n});static \u0275inj=xe({providers:[Jie,Yie]})}return n})();function Xie(n,...e){return{ngModule:Zie,providers:[{provide:_D,useFactory:Qie(n),multi:!0,deps:[Ee,zt,Wm,qm,[new kn,aT],...e]}]}}const ese=Zn(d2,!0),tse=Zn(d_,!0);var Y,nse=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Oi={},yD=yD||{},me=nse||self;function f_(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Fh(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var vD="closure_uid_"+(1e9*Math.random()>>>0),ise=0;function sse(n,e,t){return n.call.apply(n.bind,arguments)}function ose(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Xn(n,e,t){return(Xn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?sse:ose).apply(null,arguments)}function p_(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function wn(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function No(){this.s=this.s,this.o=this.o}No.prototype.s=!1,No.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function rse(n){Object.prototype.hasOwnProperty.call(n,vD)&&n[vD]||(n[vD]=++ise)}(this)},No.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const f2=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function ED(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function p2(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(f_(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let o=0;o<s;o++)n[i+o]=r[o]}else n.push(r)}}function er(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}er.prototype.h=function(){this.defaultPrevented=!0};var lse=function(){if(!me.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{me.addEventListener("test",()=>{},e),me.removeEventListener("test",()=>{},e)}catch{}return n}();function Lh(n){return/^[\s\xa0]*$/.test(n)}function g_(){var n=me.navigator;return n&&(n=n.userAgent)?n:""}function os(n){return-1!=g_().indexOf(n)}function bD(n){return bD[" "](n),n}bD[" "]=function(){};var TD,n,cse=os("Opera"),xu=os("Trident")||os("MSIE"),g2=os("Edge"),ID=g2||xu,m2=os("Gecko")&&!(-1!=g_().toLowerCase().indexOf("webkit")&&!os("Edge"))&&!(os("Trident")||os("MSIE"))&&!os("Edge"),dse=-1!=g_().toLowerCase().indexOf("webkit")&&!os("Edge");function _2(){var n=me.document;return n?n.documentMode:void 0}e:{var wD="",DD=(n=g_(),m2?/rv:([^\);]+)(\)|;)/.exec(n):g2?/Edge\/([\d\.]+)/.exec(n):xu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):dse?/WebKit\/(\S+)/.exec(n):cse?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(DD&&(wD=DD?DD[1]:""),xu){var SD=_2();if(null!=SD&&SD>parseFloat(wD)){TD=String(SD);break e}}TD=wD}var hse=me.document&&xu&&(_2()||parseInt(TD,10))||void 0;function Vh(n,e){if(er.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(m2){e:{try{bD(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:fse[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Vh.$.h.call(this)}}wn(Vh,er);var fse={2:"touch",3:"pen",4:"mouse"};Vh.prototype.h=function(){Vh.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Bh="closure_listenable_"+(1e6*Math.random()|0),pse=0;function gse(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++pse,this.fa=this.ia=!1}function m_(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function AD(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function v2(n){const e={};for(const t in n)e[t]=n[t];return e}const E2="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b2(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<E2.length;s++)t=E2[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function __(n){this.src=n,this.g={},this.h=0}function RD(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=f2(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(m_(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function ND(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==r)return i}return-1}__.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=ND(n,e,r,i);return-1<o?(e=n[o],t||(e.ia=!1)):((e=new gse(e,this.src,s,!!r,i)).ia=t,n.push(e)),e};var MD="closure_lm_"+(1e6*Math.random()|0),PD={};function I2(n,e,t,r,i){if(r&&r.once)return w2(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)I2(n,e[s],t,r,i);return null}return t=FD(t),n&&n[Bh]?n.O(e,t,Fh(r)?!!r.capture:!!r,i):T2(n,e,t,!1,r,i)}function T2(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=Fh(i)?!!i.capture:!!i,a=xD(n);if(a||(n[MD]=a=new __(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function _se(){const e=yse;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)lse||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(S2(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function w2(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)w2(n,e[s],t,r,i);return null}return t=FD(t),n&&n[Bh]?n.P(e,t,Fh(r)?!!r.capture:!!r,i):T2(n,e,t,!0,r,i)}function D2(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)D2(n,e[s],t,r,i);else r=Fh(r)?!!r.capture:!!r,t=FD(t),n&&n[Bh]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=ND(s=n.g[e],t,r,i))&&(m_(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=xD(n))&&(e=n.g[e.toString()],n=-1,e&&(n=ND(e,t,r,i)),(t=-1<n?e[n]:null)&&OD(t))}function OD(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Bh])RD(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(S2(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=xD(e))?(RD(t,n),0==t.h&&(t.src=null,e[MD]=null)):m_(n)}}}function S2(n){return n in PD?PD[n]:PD[n]="on"+n}function yse(n,e){if(n.fa)n=!0;else{e=new Vh(e,this);var t=n.listener,r=n.la||n.src;n.ia&&OD(n),n=t.call(r,e)}return n}function xD(n){return(n=n[MD])instanceof __?n:null}var kD="__closure_events_fn_"+(1e9*Math.random()>>>0);function FD(n){return"function"==typeof n?n:(n[kD]||(n[kD]=function(e){return n.handleEvent(e)}),n[kD])}function Dn(){No.call(this),this.i=new __(this),this.S=this,this.J=null}function Ln(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new er(e,n);else if(e instanceof er)e.target=e.target||n;else{var i=e;b2(e=new er(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=y_(o,r,!0,e)&&i}if(i=y_(o=e.g=n,r,!0,e)&&i,i=y_(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=y_(o=e.g=t[s],r,!1,e)&&i}function y_(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==t){var a=o.listener,l=o.la||o.src;o.ia&&RD(n.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}wn(Dn,No),Dn.prototype[Bh]=!0,Dn.prototype.removeEventListener=function(n,e,t,r){D2(this,n,e,t,r)},Dn.prototype.N=function(){if(Dn.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)m_(t[r]);delete n.g[e],n.h--}}this.J=null},Dn.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Dn.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var LD=me.JSON.stringify;function Ese(){var n=VD;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var C2=new class vse{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Ise,n=>n.reset());class Ise{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Tse(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function wse(n){me.setTimeout(()=>{throw n},0)}let Uh,jh=!1,VD=new class bse{constructor(){this.h=this.g=null}add(e,t){const r=C2.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},A2=()=>{const n=me.Promise.resolve(void 0);Uh=()=>{n.then(Dse)}};var Dse=()=>{for(var n;n=Ese();){try{n.h.call(n.g)}catch(t){wse(t)}var e=C2;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}jh=!1};function v_(n,e){Dn.call(this),this.h=n||1,this.g=e||me,this.j=Xn(this.qb,this),this.l=Date.now()}function BD(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function UD(n,e,t){if("function"==typeof n)t&&(n=Xn(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Xn(n.handleEvent,n)}return 2147483647<Number(e)?-1:me.setTimeout(n,e||0)}function R2(n){n.g=UD(()=>{n.g=null,n.i&&(n.i=!1,R2(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}wn(v_,Dn),(Y=v_.prototype).ga=!1,Y.T=null,Y.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ln(this,"tick"),this.ga&&(BD(this),this.start()))}},Y.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Y.N=function(){v_.$.N.call(this),BD(this),delete this.g};class Sse extends No{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:R2(this)}N(){super.N(),this.g&&(me.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $h(n){No.call(this),this.h=n,this.g={}}wn($h,No);var N2=[];function M2(n,e,t,r){Array.isArray(t)||(t&&(N2[0]=t.toString()),t=N2);for(var i=0;i<t.length;i++){var s=I2(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function P2(n){AD(n.g,function(e,t){this.g.hasOwnProperty(t)&&OD(e)},n),n.g={}}function E_(){this.g=!0}function ku(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Nse(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return LD(t)}catch{return e}}(n,t)+(r?" "+r:"")})}$h.prototype.N=function(){$h.$.N.call(this),P2(this)},$h.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},E_.prototype.Ea=function(){this.g=!1},E_.prototype.info=function(){};var Oa={},O2=null;function b_(){return O2=O2||new Dn}function x2(n){er.call(this,Oa.Ta,n)}function Hh(n){const e=b_();Ln(e,new x2(e))}function k2(n,e){er.call(this,Oa.STAT_EVENT,n),this.stat=e}function pr(n){const e=b_();Ln(e,new k2(e,n))}function F2(n,e){er.call(this,Oa.Ua,n),this.size=e}function Gh(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return me.setTimeout(function(){n()},e)}Oa.Ta="serverreachability",wn(x2,er),Oa.STAT_EVENT="statevent",wn(k2,er),Oa.Ua="timingevent",wn(F2,er);var I_={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},L2={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function jD(){}function B2(){}jD.prototype.h=null;var GD,zh={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function $D(){er.call(this,"d")}function HD(){er.call(this,"c")}function T_(){}function Wh(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new $h(this),this.P=Mse,this.V=new v_(n=ID?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new U2}function U2(){this.i=null,this.g="",this.h=!1}wn($D,er),wn(HD,er),wn(T_,jD),T_.prototype.g=function(){return new XMLHttpRequest},T_.prototype.i=function(){return{}},GD=new T_;var Mse=45e3,zD={},w_={};function WD(n,e,t){n.L=1,n.v=A_(zs(e)),n.s=t,n.S=!0,j2(n,null)}function j2(n,e){n.G=Date.now(),qh(n),n.A=zs(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),J2(t.i,"t",r),n.C=0,t=n.l.J,n.h=new U2,n.g=bB(n.l,t?e:null,!n.s),0<n.O&&(n.M=new Sse(Xn(n.Pa,n,n.g),n.O)),M2(n.U,n.g,"readystatechange",n.nb),e=n.I?v2(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Hh(),function Cse(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&"type"==d[1]?o+(c+"=")+u+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.W,n.s)}function $2(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function H2(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=Pse(n,t),i==w_){4==e&&(n.o=4,pr(14),r=!1),ku(n.j,n.m,null,"[Incomplete Response]");break}if(i==zD){n.o=4,pr(15),ku(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}ku(n.j,n.m,i,null),qD(n,i)}$2(n)&&i!=w_&&i!=zD&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,pr(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),e1(e),e.M=!0,pr(11))):(ku(n.j,n.m,t,"[Invalid Chunked Response]"),xa(n),Kh(n))}function Pse(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?w_:(t=Number(e.substring(t,r)),isNaN(t)?zD:(r+=1)+t>e.length?w_:(e=e.slice(r,r+t),n.C=r+t,e))}function qh(n){n.Y=Date.now()+n.P,G2(n,n.P)}function G2(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Gh(Xn(n.lb,n),e)}function D_(n){n.B&&(me.clearTimeout(n.B),n.B=null)}function Kh(n){0==n.l.H||n.J||_B(n.l,n)}function xa(n){D_(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,BD(n.V),P2(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function qD(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||KD(t.i,n)))if(!n.K&&KD(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;x_(t),P_(t)}XD(t),pr(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=Gh(Xn(t.ib,t),6e3));if(1>=eB(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Fa(t,11)}else if((n.K||t.g==n)&&x_(t),!Lh(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(t.V=u[0],u=u[1],2==t.H)if("c"==u[0]){t.K=u[1],t.pa=u[2];const c=u[3];null!=c&&(t.ra=c,t.l.info("VER="+t.ra));const d=u[4];null!=d&&(t.Ga=d,t.l.info("SVER="+t.Ga));const h=u[5];null!=h&&"number"==typeof h&&0<h&&(t.L=r=1.5*h,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const f=n.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(QD(s,s.h),s.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,_t(r.I,r.F,g))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var o=n;if((r=t).wa=EB(r,r.J?r.pa:null,r.Y),o.K){tB(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(D_(a),qh(a)),r.g=o}else gB(r);0<t.j.length&&O_(t)}else"stop"!=u[0]&&"close"!=u[0]||Fa(t,7);else 3==t.H&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?Fa(t,7):ZD(t):"noop"!=u[0]&&t.h&&t.h.Aa(u),t.A=0)}Hh()}catch{}}function z2(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(f_(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function xse(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(f_(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function Ose(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(f_(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(Y=Wh.prototype).setTimeout=function(n){this.P=n},Y.nb=function(n){n=n.target;const e=this.M;e&&3==as(n)?e.l():this.Pa(n)},Y.Pa=function(n){try{if(n==this.g)e:{const c=as(this.g);var e=this.g.Ia();if(this.g.da(),!(3>c)&&(3!=c||ID||this.g&&(this.h.h||this.g.ja()||uB(this.g)))){this.J||4!=c||7==e||Hh(),D_(this);var t=this.g.da();this.ca=t;t:if($2(this)){var r=uB(this.g);n="";var i=r.length,s=4==as(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){xa(this),Kh(this);var o="";break t}this.h.i=new me.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==t,function Ase(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,c,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Lh(a)){var u=a;break t}}u=null}if(!(t=u)){this.i=!1,this.o=3,pr(12),xa(this),Kh(this);break e}ku(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qD(this,t)}this.S?(H2(this,c,o),ID&&this.i&&3==c&&(M2(this.U,this.V,"tick",this.mb),this.V.start())):(ku(this.j,this.m,o,null),qD(this,o)),4==c&&xa(this),this.i&&!this.J&&(4==c?_B(this.l,this):(this.i=!1,qh(this)))}else(function Zse(n){const e={};n=(n.g&&2<=as(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(Lh(n[r]))continue;var t=Tse(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[i]||[];e[i]=s,s.push(t)}!function mse(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<o.indexOf("Unknown SID")?(this.o=3,pr(12)):(this.o=0,pr(13)),xa(this),Kh(this)}}}catch{}},Y.mb=function(){if(this.g){var n=as(this.g),e=this.g.ja();this.C<e.length&&(D_(this),H2(this,n,e),this.i&&4!=n&&qh(this))}},Y.cancel=function(){this.J=!0,xa(this)},Y.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Rse(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Hh(),pr(17)),xa(this),this.o=2,Kh(this)):G2(this,this.Y-n)};var W2=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ka(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof ka){this.h=n.h,S_(this,n.j),this.s=n.s,this.g=n.g,C_(this,n.m),this.l=n.l;var e=n.i,t=new Jh;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),q2(this,t),this.o=n.o}else n&&(e=String(n).match(W2))?(this.h=!1,S_(this,e[1]||"",!0),this.s=Qh(e[2]||""),this.g=Qh(e[3]||"",!0),C_(this,e[4]),this.l=Qh(e[5]||"",!0),q2(this,e[6]||"",!0),this.o=Qh(e[7]||"")):(this.h=!1,this.i=new Jh(null,this.h))}function zs(n){return new ka(n)}function S_(n,e,t){n.j=t?Qh(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function C_(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function q2(n,e,t){e instanceof Jh?(n.i=e,function jse(n,e){e&&!n.j&&(Mo(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(Q2(this,r),J2(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Yh(e,Bse)),n.i=new Jh(e,n.h))}function _t(n,e,t){n.i.set(e,t)}function A_(n){return _t(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Qh(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Yh(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Fse),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Fse(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}ka.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Yh(e,K2,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Yh(e,K2,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Yh(t,"/"==t.charAt(0)?Vse:Lse,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Yh(t,Use)),n.join("")};var K2=/[#\/\?@]/g,Lse=/[#\?:]/g,Vse=/[#\?]/g,Bse=/[#\?@]/g,Use=/#/g;function Jh(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Mo(n){n.g||(n.g=new Map,n.h=0,n.i&&function kse(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Q2(n,e){Mo(n),e=Fu(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function Y2(n,e){return Mo(n),e=Fu(n,e),n.g.has(e)}function J2(n,e,t){Q2(n,e),0<t.length&&(n.i=null,n.g.set(Fu(n,e),ED(t)),n.h+=t.length)}function Fu(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Z2(n){this.l=n||Hse,n=me.PerformanceNavigationTiming?0<(n=me.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(me.g&&me.g.Ka&&me.g.Ka()&&me.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Y=Jh.prototype).add=function(n,e){Mo(this),this.i=null,n=Fu(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Y.forEach=function(n,e){Mo(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},Y.ta=function(){Mo(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},Y.Z=function(n){Mo(this);let e=[];if("string"==typeof n)Y2(this,n)&&(e=e.concat(this.g.get(Fu(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Y.set=function(n,e){return Mo(this),this.i=null,Y2(this,n=Fu(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Y.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},Y.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),n.push(i)}}return this.i=n.join("&")};var Hse=10;function X2(n){return!!n.h||!!n.g&&n.g.size>=n.j}function eB(n){return n.h?1:n.g?n.g.size:0}function KD(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function QD(n,e){n.g?n.g.add(e):n.h=e}function tB(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function nB(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return ED(n.i)}Z2.prototype.cancel=function(){if(this.i=nB(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var Gse=class{stringify(n){return me.JSON.stringify(n,void 0)}parse(n){return me.JSON.parse(n,void 0)}};function zse(){this.g=new Gse}function Wse(n,e,t){const r=t||"";try{z2(n,function(i,s){let o=i;Fh(i)&&(o=LD(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function R_(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Zh(n){this.l=n.ec||null,this.j=n.ob||!1}function N_(n,e){Dn.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=YD,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}wn(Zh,jD),Zh.prototype.g=function(){return new N_(this.l,this.j)},Zh.prototype.i=function(n){return function(){return n}}({}),wn(N_,Dn);var YD=0;function rB(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Xh(n){n.readyState=4,n.l=null,n.j=null,n.A=null,ef(n)}function ef(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Y=N_.prototype).open=function(n,e){if(this.readyState!=YD)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,ef(this)},Y.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||me).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Y.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Xh(this)),this.readyState=YD},Y.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,ef(this)),this.g&&(this.readyState=3,ef(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof me.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;rB(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Y.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Xh(this):ef(this),3==this.readyState&&rB(this)}},Y.Za=function(n){this.g&&(this.response=this.responseText=n,Xh(this))},Y.Ya=function(n){this.g&&(this.response=n,Xh(this))},Y.ka=function(){this.g&&Xh(this)},Y.setRequestHeader=function(n,e){this.v.append(n,e)},Y.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Y.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(N_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Kse=me.JSON.parse;function Lt(n){Dn.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=iB,this.L=this.M=!1}wn(Lt,Dn);var iB="",Qse=/^https?$/i,Yse=["POST","PUT"];function sB(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,oB(n),M_(n)}function oB(n){n.F||(n.F=!0,Ln(n,"complete"),Ln(n,"error"))}function aB(n){if(n.h&&typeof yD<"u"&&(!n.C[1]||4!=as(n)||2!=n.da()))if(n.v&&4==as(n))UD(n.La,0,n);else if(Ln(n,"readystatechange"),4==as(n)){n.h=!1;try{const o=n.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===o){var i=String(n.I).match(W2)[1]||null;!i&&me.self&&me.self.location&&(i=me.self.location.protocol.slice(0,-1)),r=!Qse.test(i?i.toLowerCase():"")}t=r}if(t)Ln(n,"complete"),Ln(n,"success");else{n.m=6;try{var s=2<as(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",oB(n)}}finally{M_(n)}}}function M_(n,e){if(n.g){lB(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Ln(n,"ready");try{t.onreadystatechange=r}catch{}}}function lB(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(me.clearTimeout(n.A),n.A=null)}function as(n){return n.g?n.g.readyState:0}function uB(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case iB:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function cB(n){let e="";return AD(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function JD(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=cB(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):_t(n,e,t))}function tf(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function dB(n){this.Ga=0,this.j=[],this.l=new E_,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=tf("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=tf("baseRetryDelayMs",5e3,n),this.hb=tf("retryDelaySeedMs",1e4,n),this.eb=tf("forwardChannelMaxRetries",2,n),this.xa=tf("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new Z2(n&&n.concurrentRequestLimit),this.Ja=new zse,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function ZD(n){if(hB(n),3==n.H){var e=n.W++,t=zs(n.I);if(_t(t,"SID",n.K),_t(t,"RID",e),_t(t,"TYPE","terminate"),nf(n,t),(e=new Wh(n,n.l,e)).L=2,e.v=A_(zs(t)),t=!1,me.navigator&&me.navigator.sendBeacon)try{t=me.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&me.Image&&((new Image).src=e.v,t=!0),t||(e.g=bB(e.l,null),e.g.ha(e.v)),e.G=Date.now(),qh(e)}vB(n)}function P_(n){n.g&&(e1(n),n.g.cancel(),n.g=null)}function hB(n){P_(n),n.u&&(me.clearTimeout(n.u),n.u=null),x_(n),n.i.cancel(),n.m&&("number"==typeof n.m&&me.clearTimeout(n.m),n.m=null)}function O_(n){if(!X2(n.i)&&!n.m){n.m=!0;var e=n.Na;Uh||A2(),jh||(Uh(),jh=!0),VD.add(e,n),n.C=0}}function fB(n,e){var t;t=e?e.m:n.W++;const r=zs(n.I);_t(r,"SID",n.K),_t(r,"RID",t),_t(r,"AID",n.V),nf(n,r),n.o&&n.s&&JD(r,n.o,n.s),t=new Wh(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=pB(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),QD(n.i,t),WD(t,r,e)}function nf(n,e){n.na&&AD(n.na,function(t,r){_t(e,r,t)}),n.h&&z2({},function(t,r){_t(e,r,t)})}function pB(n,e,t){t=Math.min(n.j.length,t);var r=n.h?Xn(n.h.Va,n.h,n):null;e:{var i=n.j;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<t;l++){let u=i[l].g;const c=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{Wse(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function gB(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Uh||A2(),jh||(Uh(),jh=!0),VD.add(e,n),n.A=0}}function XD(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Gh(Xn(n.Ma,n),yB(n,n.A)),n.A++,0))}function e1(n){null!=n.B&&(me.clearTimeout(n.B),n.B=null)}function mB(n){n.g=new Wh(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=zs(n.wa);_t(e,"RID","rpc"),_t(e,"SID",n.K),_t(e,"AID",n.V),_t(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&_t(e,"TO",n.qa),_t(e,"TYPE","xmlhttp"),nf(n,e),n.o&&n.s&&JD(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=A_(zs(e)),t.s=null,t.S=!0,j2(t,n)}function x_(n){null!=n.v&&(me.clearTimeout(n.v),n.v=null)}function _B(n,e){var t=null;if(n.g==e){x_(n),e1(n),n.g=null;var r=2}else{if(!KD(n.i,e))return;t=e.F,tB(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;Ln(r=b_(),new F2(r,t)),O_(n)}else gB(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function Xse(n,e){return!(eB(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Gh(Xn(n.Na,n,e),yB(n,n.C)),n.C++,0)))}(n,e)||2==r&&XD(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Fa(n,5);break;case 4:Fa(n,10);break;case 3:Fa(n,6);break;default:Fa(n,2)}}function yB(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Fa(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=Xn(n.pb,n);t||(t=new ka("//www.google.com/images/cleardot.gif"),me.location&&"http"==me.location.protocol||S_(t,"https"),A_(t)),function qse(n,e){const t=new E_;if(me.Image){const r=new Image;r.onload=p_(R_,t,r,"TestLoadImage: loaded",!0,e),r.onerror=p_(R_,t,r,"TestLoadImage: error",!1,e),r.onabort=p_(R_,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=p_(R_,t,r,"TestLoadImage: timeout",!1,e),me.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else pr(2);n.H=0,n.h&&n.h.za(e),vB(n),hB(n)}function vB(n){if(n.H=0,n.ma=[],n.h){const e=nB(n.i);(0!=e.length||0!=n.j.length)&&(p2(n.ma,e),p2(n.ma,n.j),n.i.i.length=0,ED(n.j),n.j.length=0),n.h.ya()}}function EB(n,e,t){var r=t instanceof ka?zs(t):new ka(t);if(""!=r.g)e&&(r.g=e+"."+r.g),C_(r,r.m);else{var i=me.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new ka(null);r&&S_(s,r),e&&(s.g=e),i&&C_(s,i),t&&(s.l=t),r=s}return e=n.Da,(t=n.F)&&e&&_t(r,t,e),_t(r,"VER",n.ra),nf(n,r),r}function bB(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Lt(t&&n.Ha&&!n.va?new Zh({ob:!0}):n.va)).Oa(n.J),e}function IB(){}function k_(){if(xu&&!(10<=Number(hse)))throw Error("Environmental error: no available transport.")}function Wr(n,e){Dn.call(this),this.g=new dB(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Lh(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Lh(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Lu(this)}function TB(n){$D.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function wB(){HD.call(this),this.status=1}function Lu(n){this.g=n}function xi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function t1(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],o=(e=n.g[0])+(s^(t=n.g[1])&((i=n.g[2])^s))+r[0]+3614090360&4294967295;o=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=t+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(t^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(t|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=t+((o=e+(i^(t|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~t))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+s&4294967295}function it(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var s=0|n[i];r&&s==e||(t[i]=s,r=!1)}this.g=t}(Y=Lt.prototype).Oa=function(n){this.M=n},Y.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():GD.g(),this.C=function V2(n){return n.h||(n.h=n.i())}(this.u?this.u:GD),this.g.onreadystatechange=Xn(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void sB(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=me.FormData&&n instanceof me.FormData,!(0<=f2(Yse,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of t)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{lB(this),0<this.B&&((this.L=function Jse(n){return xu&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Xn(this.ua,this)):this.A=UD(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){sB(this,s)}},Y.ua=function(){typeof yD<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ln(this,"timeout"),this.abort(8))},Y.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Ln(this,"complete"),Ln(this,"abort"),M_(this))},Y.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),M_(this,!0)),Lt.$.N.call(this)},Y.La=function(){this.s||(this.G||this.v||this.l?aB(this):this.kb())},Y.kb=function(){aB(this)},Y.isActive=function(){return!!this.g},Y.da=function(){try{return 2<as(this)?this.g.status:-1}catch{return-1}},Y.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Y.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Kse(e)}},Y.Ia=function(){return this.m},Y.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Y=dB.prototype).ra=8,Y.H=1,Y.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new Wh(this,this.l,n);let s=this.s;if(this.U&&(s?(s=v2(s),b2(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=pB(this,i,e),_t(t=zs(this.I),"RID",n),_t(t,"CVER",22),this.F&&_t(t,"X-HTTP-Session-Id",this.F),nf(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(cB(s)))+"&"+e:this.o&&JD(t,this.o,s)),QD(this.i,i),this.bb&&_t(t,"TYPE","init"),this.P?(_t(t,"$req",e),_t(t,"SID","null"),i.aa=!0,WD(i,t,null)):WD(i,t,e),this.H=2}}else 3==this.H&&(n?fB(this,n):0==this.j.length||X2(this.i)||fB(this))},Y.Ma=function(){if(this.u=null,mB(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Gh(Xn(this.jb,this),n)}},Y.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,pr(10),P_(this),mB(this))},Y.ib=function(){null!=this.v&&(this.v=null,P_(this),XD(this),pr(19))},Y.pb=function(n){n?(this.l.info("Successfully pinged google.com"),pr(2)):(this.l.info("Failed to ping google.com"),pr(1))},Y.isActive=function(){return!!this.h&&this.h.isActive(this)},(Y=IB.prototype).Ba=function(){},Y.Aa=function(){},Y.za=function(){},Y.ya=function(){},Y.isActive=function(){return!0},Y.Va=function(){},k_.prototype.g=function(n,e){return new Wr(n,e)},wn(Wr,Dn),Wr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;pr(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=EB(n,null,n.Y),O_(n)},Wr.prototype.close=function(){ZD(this.g)},Wr.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=LD(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&O_(e)},Wr.prototype.N=function(){this.g.h=null,delete this.j,ZD(this.g),delete this.g,Wr.$.N.call(this)},wn(TB,$D),wn(wB,HD),wn(Lu,IB),Lu.prototype.Ba=function(){Ln(this.g,"a")},Lu.prototype.Aa=function(n){Ln(this.g,new TB(n))},Lu.prototype.za=function(n){Ln(this.g,new wB)},Lu.prototype.ya=function(){Ln(this.g,"b")},wn(xi,function eoe(){this.blockSize=-1}),xi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},xi.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=t;)t1(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(r[i++]=n.charCodeAt(s++),i==this.blockSize){t1(this,r),i=0;break}}else for(;s<e;)if(r[i++]=n[s++],i==this.blockSize){t1(this,r),i=0;break}}this.h=i,this.i+=e},xi.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var toe={};function n1(n){return-128<=n&&128>n?function use(n,e){var t=toe;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new it([0|e],0>e?-1:0)}):new it([0|n],0>n?-1:0)}function ls(n){if(isNaN(n)||!isFinite(n))return Vu;if(0>n)return Vn(ls(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=r1;return new it(e,0)}var r1=4294967296,Vu=n1(0),i1=n1(1),SB=n1(16777216);function Ws(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function mi(n){return-1==n.h}function Vn(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new it(t,~n.h).add(i1)}function F_(n,e){return n.add(Vn(e))}function L_(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function rf(n,e){this.g=n,this.h=e}function V_(n,e){if(Ws(e))throw Error("division by zero");if(Ws(n))return new rf(Vu,Vu);if(mi(n))return e=V_(Vn(n),e),new rf(Vn(e.g),Vn(e.h));if(mi(e))return e=V_(n,Vn(e)),new rf(Vn(e.g),e.h);if(30<n.g.length){if(mi(n)||mi(e))throw Error("slowDivide_ only works with positive integers.");for(var t=i1,r=e;0>=r.X(n);)t=CB(t),r=CB(r);var i=Bu(t,1),s=Bu(r,1);for(r=Bu(r,2),t=Bu(t,2);!Ws(r);){var o=s.add(r);0>=o.X(n)&&(i=i.add(t),s=o),r=Bu(r,1),t=Bu(t,1)}return e=F_(n,i.R(e)),new rf(i,e)}for(i=Vu;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),o=(s=ls(t)).R(e);mi(o)||0<o.X(n);)o=(s=ls(t-=r)).R(e);Ws(s)&&(s=i1),i=i.add(s),n=F_(n,o)}return new rf(i,n)}function CB(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new it(t,n.h)}function Bu(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],s=0;s<r;s++)i[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new it(i,n.h)}(Y=it.prototype).ea=function(){if(mi(this))return-Vn(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:r1+r)*e,e*=r1}return n},Y.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Ws(this))return"0";if(mi(this))return"-"+Vn(this).toString(n);for(var e=ls(Math.pow(n,6)),t=this,r="";;){var i=V_(t,e).g,s=((0<(t=F_(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Ws(t=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},Y.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Y.X=function(n){return mi(n=F_(this,n))?-1:Ws(n)?0:1},Y.abs=function(){return mi(this)?Vn(this):this},Y.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&n.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=o>>>16,t[i]=(o&=65535)<<16|(s&=65535)}return new it(t,-2147483648&t[t.length-1]?-1:0)},Y.R=function(n){if(Ws(this)||Ws(n))return Vu;if(mi(this))return mi(n)?Vn(this).R(Vn(n)):Vn(Vn(this).R(n));if(mi(n))return Vn(this.R(Vn(n)));if(0>this.X(SB)&&0>n.X(SB))return ls(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=n.D(i)>>>16,l=65535&n.D(i);t[2*r+2*i]+=o*l,L_(t,2*r+2*i),t[2*r+2*i+1]+=s*l,L_(t,2*r+2*i+1),t[2*r+2*i+1]+=o*a,L_(t,2*r+2*i+1),t[2*r+2*i+2]+=s*a,L_(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new it(t,0)},Y.gb=function(n){return V_(this,n).h},Y.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new it(t,this.h&n.h)},Y.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new it(t,this.h|n.h)},Y.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new it(t,this.h^n.h)},k_.prototype.createWebChannel=k_.prototype.g,Wr.prototype.send=Wr.prototype.u,Wr.prototype.open=Wr.prototype.m,Wr.prototype.close=Wr.prototype.close,I_.NO_ERROR=0,I_.TIMEOUT=8,I_.HTTP_ERROR=6,L2.COMPLETE="complete",B2.EventType=zh,zh.OPEN="a",zh.CLOSE="b",zh.ERROR="c",zh.MESSAGE="d",Dn.prototype.listen=Dn.prototype.O,Lt.prototype.listenOnce=Lt.prototype.P,Lt.prototype.getLastError=Lt.prototype.Sa,Lt.prototype.getLastErrorCode=Lt.prototype.Ia,Lt.prototype.getStatus=Lt.prototype.da,Lt.prototype.getResponseJson=Lt.prototype.Wa,Lt.prototype.getResponseText=Lt.prototype.ja,Lt.prototype.send=Lt.prototype.ha,Lt.prototype.setWithCredentials=Lt.prototype.Oa,xi.prototype.digest=xi.prototype.l,xi.prototype.reset=xi.prototype.reset,xi.prototype.update=xi.prototype.j,it.prototype.add=it.prototype.add,it.prototype.multiply=it.prototype.R,it.prototype.modulo=it.prototype.gb,it.prototype.compare=it.prototype.X,it.prototype.toNumber=it.prototype.ea,it.prototype.toString=it.prototype.toString,it.prototype.getBits=it.prototype.D,it.fromNumber=ls,it.fromString=function DB(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Vn(DB(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=ls(Math.pow(e,8)),r=Vu,i=0;i<n.length;i+=8){var s=Math.min(8,n.length-i),o=parseInt(n.substring(i,i+s),e);8>s?(s=ls(Math.pow(e,s)),r=r.R(s).add(ls(o))):r=(r=r.R(t)).add(ls(o))}return r};var noe=Oi.createWebChannelTransport=function(){return new k_},roe=Oi.getStatEventTarget=function(){return b_()},s1=Oi.ErrorCode=I_,ioe=Oi.EventType=L2,soe=Oi.Event=Oa,AB=Oi.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ooe=Oi.FetchXmlHttpFactory=Zh,B_=Oi.WebChannel=B2,aoe=Oi.XhrIo=Lt,loe=Oi.Md5=xi,Uu=Oi.Integer=it;const RB="@firebase/firestore";class Sn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Sn.UNAUTHENTICATED=new Sn(null),Sn.GOOGLE_CREDENTIALS=new Sn("google-credentials-uid"),Sn.FIRST_PARTY=new Sn("first-party-uid"),Sn.MOCK_USER=new Sn("mock-user");let ju="10.5.2";const Po=new qI("@firebase/firestore");function $u(){return Po.logLevel}function x(n,...e){if(Po.logLevel<=ke.DEBUG){const t=e.map(o1);Po.debug(`Firestore (${ju}): ${n}`,...t)}}function Qt(n,...e){if(Po.logLevel<=ke.ERROR){const t=e.map(o1);Po.error(`Firestore (${ju}): ${n}`,...t)}}function qr(n,...e){if(Po.logLevel<=ke.WARN){const t=e.map(o1);Po.warn(`Firestore (${ju}): ${n}`,...t)}}function o1(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ee(n="Unexpected state"){const e=`FIRESTORE (${ju}) INTERNAL ASSERTION FAILED: `+n;throw Qt(e),new Error(e)}function se(n,e){n||ee()}function z(n,e){return n}const S={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class k extends rs{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class mn{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class NB{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uoe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Sn.UNAUTHENTICATED))}shutdown(){}}class coe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class doe{constructor(e){this.t=e,this.currentUser=Sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=u=>this.i!==i?(i=this.i,t(u)):Promise.resolve();let o=new mn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new mn,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const u=o;e.enqueueRetryable(v(function*(){yield u.promise,yield s(r.currentUser)}))},l=u=>{x("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(x("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new mn)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(x("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(se("string"==typeof r.accessToken),new NB(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return se(null===e||"string"==typeof e),new Sn(e)}}class hoe{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Sn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class foe{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new hoe(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Sn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class MB{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class poe{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const r=s=>{null!=s.error&&x("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,x("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{x("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):x("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(se("string"==typeof t.token),this.R=t.token,new MB(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function goe(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class PB{static newId(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=goe(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function fe(n,e){return n<e?-1:n>e?1:0}function Hu(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class Mt{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new k(S.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new k(S.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new k(S.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new k(S.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Mt.fromMillis(Date.now())}static fromDate(e){return Mt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Mt(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?fe(this.nanoseconds,e.nanoseconds):fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class oe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new oe(e)}static min(){return new oe(new Mt(0,0))}static max(){return new oe(new Mt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class sf{constructor(e,t,r){void 0===t?t=0:t>e.length&&ee(),void 0===r?r=e.length-t:r>e.length-t&&ee(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===sf.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof sf?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ue extends sf{construct(e,t,r){return new Ue(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new k(S.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Ue(t)}static emptyPath(){return new Ue([])}}const moe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class It extends sf{construct(e,t,r){return new It(e,t,r)}static isValidIdentifier(e){return moe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),It.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new It(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new k(S.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new k(S.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new k(S.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new k(S.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new It(t)}static emptyPath(){return new It([])}}class q{constructor(e){this.path=e}static fromPath(e){return new q(Ue.fromString(e))}static fromName(e){return new q(Ue.fromString(e).popFirst(5))}static empty(){return new q(Ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ue.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ue.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new q(new Ue(e.slice()))}}function kB(n){return new Kr(n.readTime,n.key,-1)}class Kr{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Kr(oe.min(),q.empty(),-1)}static max(){return new Kr(oe.max(),q.empty(),-1)}}function l1(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=q.comparator(n.documentKey,e.documentKey),0!==t?t:fe(n.largestBatchId,e.largestBatchId))}const FB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class voe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Oo(n){return u1.apply(this,arguments)}function u1(){return u1=v(function*(n){if(n.code!==S.FAILED_PRECONDITION||n.message!==FB)throw n;x("LocalStore","Unexpectedly lost primary lease")}),u1.apply(this,arguments)}class T{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new T((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof T?t:T.resolve(t)}catch(t){return T.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):T.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):T.reject(t)}static resolve(e){return new T((t,r)=>{t(e)})}static reject(e){return new T((t,r)=>{r(e)})}static waitFor(e){return new T((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},l=>r(l))}),o=!0,s===i&&t()})}static or(e){let t=T.resolve(!1);for(const r of e)t=t.next(i=>i?T.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new T((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;t(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,t){return new T((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}function xo(n){return"IndexedDbTransactionError"===n.name}let Qr=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}return n._e=-1,n})();function lf(n){return null==n}function uf(n){return 0===n&&1/n==-1/0}function zB(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ko(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function WB(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class gt{constructor(e,t){this.comparator=e,this.root=t||Bn.EMPTY}insert(e,t){return new gt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Bn.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $_(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $_(this.root,e,this.comparator,!1)}getReverseIterator(){return new $_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $_(this.root,e,this.comparator,!0)}}class $_{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bn{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??Bn.RED,this.left=i??Bn.EMPTY,this.right=s??Bn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Bn(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Bn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Bn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ee();const e=this.left.check();if(e!==this.right.check())throw ee();return e+(this.isRed()?0:1)}}Bn.EMPTY=null,Bn.RED=!0,Bn.BLACK=!1,Bn.EMPTY=new class{constructor(){this.size=0}get key(){throw ee()}get value(){throw ee()}get color(){throw ee()}get left(){throw ee()}get right(){throw ee()}copy(e,t,r,i,s){return this}insert(e,t,r){return new Bn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class at{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new qB(this.data.getIterator())}getIteratorFrom(e){return new qB(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof at)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new at(this.comparator);return t.data=e,t}}class qB{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Mr{constructor(e){this.fields=e,e.sort(It.comparator)}static empty(){return new Mr([])}unionWith(e){let t=new at(It.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Mr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Hu(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class KB extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class _n{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new KB("Invalid base64 string: "+s):s}}(e);return new _n(t)}static fromUint8Array(e){const t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new _n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_n.EMPTY_BYTE_STRING=new _n("");const $oe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fo(n){if(se(!!n),"string"==typeof n){let e=0;const t=$oe.exec(n);if(se(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Vt(n.seconds),nanos:Vt(n.nanos)}}function Vt(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function qs(n){return"string"==typeof n?_n.fromBase64String(n):_n.fromUint8Array(n)}function H_(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function G_(n){const e=n.mapValue.fields.__previous_value__;return H_(e)?G_(e):e}function cf(n){const e=Fo(n.mapValue.fields.__local_write_time__.timestampValue);return new Mt(e.seconds,e.nanos)}class Hoe{constructor(e,t,r,i,s,o,a,l,u){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Ua{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ua("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ua&&e.projectId===this.projectId&&e.database===this.database}}const Lo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Vo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?H_(n)?4:ZB(n)?9007199254740991:10:ee()}function cs(n,e){if(n===e)return!0;const t=Vo(n);if(t!==Vo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return cf(n).isEqual(cf(e));case 3:return function(i,s){if("string"==typeof i.timestampValue&&"string"==typeof s.timestampValue&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Fo(i.timestampValue),a=Fo(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return s=e,qs(n.bytesValue).isEqual(qs(s.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return Vt(i.geoPointValue.latitude)===Vt(s.geoPointValue.latitude)&&Vt(i.geoPointValue.longitude)===Vt(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Vt(i.integerValue)===Vt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Vt(i.doubleValue),a=Vt(s.doubleValue);return o===a?uf(o)===uf(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return Hu(n.arrayValue.values||[],e.arrayValue.values||[],cs);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(zB(o)!==zB(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(void 0===a[l]||!cs(o[l],a[l])))return!1;return!0}(n,e);default:return ee()}var s}function df(n,e){return void 0!==(n.values||[]).find(t=>cs(t,e))}function Bo(n,e){if(n===e)return 0;const t=Vo(n),r=Vo(e);if(t!==r)return fe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return fe(n.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Vt(s.integerValue||s.doubleValue),l=Vt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return QB(n.timestampValue,e.timestampValue);case 4:return QB(cf(n),cf(e));case 5:return fe(n.stringValue,e.stringValue);case 6:return function(s,o){const a=qs(s),l=qs(o);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=fe(a[u],l[u]);if(0!==c)return c}return fe(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){const a=fe(Vt(s.latitude),Vt(o.latitude));return 0!==a?a:fe(Vt(s.longitude),Vt(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=Bo(a[u],l[u]);if(c)return c}return fe(a.length,l.length)}(n.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Lo.mapValue&&o===Lo.mapValue)return 0;if(s===Lo.mapValue)return 1;if(o===Lo.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const h=fe(l[d],c[d]);if(0!==h)return h;const f=Bo(a[l[d]],u[c[d]]);if(0!==f)return f}return fe(l.length,c.length)}(n.mapValue,e.mapValue);default:throw ee()}}function QB(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return fe(n,e);const t=Fo(n),r=Fo(e),i=fe(t.seconds,r.seconds);return 0!==i?i:fe(t.nanos,r.nanos)}function qu(n){return h1(n)}function h1(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Fo(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?qs(n.bytesValue).toBase64():"referenceValue"in n?q.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=h1(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${h1(t.fields[o])}`;return i+"}"}(n.mapValue):ee()}function f1(n){return!!n&&"integerValue"in n}function hf(n){return!!n&&"arrayValue"in n}function YB(n){return!!n&&"nullValue"in n}function JB(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function q_(n){return!!n&&"mapValue"in n}function ff(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ko(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=ff(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ff(n.arrayValue.values[t]);return e}return Object.assign({},n)}function ZB(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Un{constructor(e){this.value=e}static empty(){return new Un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!q_(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ff(t)}setAll(e){let t=It.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=ff(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());q_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return cs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];q_(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){ko(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Un(ff(this.value))}}function tU(n){const e=[];return ko(n.fields,(t,r)=>{const i=new It([t]);if(q_(r)){const s=tU(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Mr(e)}class yt{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new yt(e,0,oe.min(),oe.min(),oe.min(),Un.empty(),0)}static newFoundDocument(e,t,r,i){return new yt(e,1,t,oe.min(),r,i,0)}static newNoDocument(e,t){return new yt(e,2,t,oe.min(),oe.min(),Un.empty(),0)}static newUnknownDocument(e,t){return new yt(e,3,t,oe.min(),oe.min(),Un.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(oe.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof yt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Uo{constructor(e,t){this.position=e,this.inclusive=t}}function nU(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?q.comparator(q.fromName(o.referenceValue),t.key):Bo(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function rU(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!cs(n.position[t],e.position[t]))return!1;return!0}class pf{constructor(e,t="asc"){this.field=e,this.dir=t}}function Woe(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class iU{}class Me extends iU{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new qoe(e,t,r):"array-contains"===t?new Yoe(e,r):"in"===t?new cU(e,r):"not-in"===t?new Joe(e,r):"array-contains-any"===t?new Zoe(e,r):new Me(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new Koe(e,r):new Qoe(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Bo(t,this.value)):null!==t&&Vo(this.value)===Vo(t)&&this.matchesComparison(Bo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class st extends iU{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new st(e,t)}matches(e){return Ku(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Ku(n){return"and"===n.op}function g1(n){return function sU(n){for(const e of n.filters)if(e instanceof st)return!1;return!0}(n)&&Ku(n)}function m1(n){if(n instanceof Me)return n.field.canonicalString()+n.op.toString()+qu(n.value);if(g1(n))return n.filters.map(e=>m1(e)).join(",");{const e=n.filters.map(t=>m1(t)).join(",");return`${n.op}(${e})`}}function oU(n,e){return n instanceof Me?(r=n,(i=e)instanceof Me&&r.op===i.op&&r.field.isEqual(i.field)&&cs(r.value,i.value)):n instanceof st?function(r,i){return i instanceof st&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((s,o,a)=>s&&oU(o,i.filters[a]),!0)}(n,e):void ee();var r,i}function lU(n){return n instanceof Me?`${(t=n).field.canonicalString()} ${t.op} ${qu(t.value)}`:n instanceof st?function(t){return t.op.toString()+" {"+t.getFilters().map(lU).join(" ,")+"}"}(n):"Filter";var t}class qoe extends Me{constructor(e,t,r){super(e,t,r),this.key=q.fromName(r.referenceValue)}matches(e){const t=q.comparator(e.key,this.key);return this.matchesComparison(t)}}class Koe extends Me{constructor(e,t){super(e,"in",t),this.keys=uU(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Qoe extends Me{constructor(e,t){super(e,"not-in",t),this.keys=uU(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function uU(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>q.fromName(r.referenceValue))}class Yoe extends Me{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return hf(t)&&df(t.arrayValue,this.value)}}class cU extends Me{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&df(this.value.arrayValue,t)}}class Joe extends Me{constructor(e,t){super(e,"not-in",t)}matches(e){if(df(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!df(this.value.arrayValue,t)}}class Zoe extends Me{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!hf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>df(this.value.arrayValue,r))}}class Xoe{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function _1(n,e=null,t=[],r=[],i=null,s=null,o=null){return new Xoe(n,e,t,r,i,s,o)}function $a(n){const e=z(n);if(null===e.ce){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>m1(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),lf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>qu(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>qu(r)).join(",")),e.ce=t}return e.ce}function gf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Woe(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!oU(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!rU(n.startAt,e.startAt)&&rU(n.endAt,e.endAt)}function K_(n){return q.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Ks{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null}}function Qu(n){return new Ks(n)}function pU(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Yu(n){const e=z(n);if(null===e.le){e.le=[];const t=new Set;for(const s of e.explicitOrderBy)e.le.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new at(It.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.le.push(new pf(s,r))}),t.has(It.keyField().canonicalString())||e.le.push(new pf(It.keyField(),r))}return e.le}function gr(n){const e=z(n);return e.he||(e.he=function gU(n,e){if("F"===n.limitType)return _1(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>new pf(i.field,"desc"===i.dir?"asc":"desc"));const t=n.endAt?new Uo(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Uo(n.startAt.position,n.startAt.inclusive):null;return _1(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}(e,Yu(n))),e.he}function Y_(n,e,t){return new Ks(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function mf(n,e){return gf(gr(n),gr(e))&&n.limitType===e.limitType}function mU(n){return`${$a(gr(n))}|lt:${n.limitType}`}function Ju(n){return`Query(target=${function(t){let r=t.path.canonicalString();return null!==t.collectionGroup&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>lU(i)).join(", ")}]`),lf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>{return`${(o=i).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>qu(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>qu(i)).join(",")),`Target(${r})`}(gr(n))}; limitType=${n.limitType})`}function _f(n,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):q.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(const s of Yu(r))if(!s.field.isKeyField()&&null===i.data.field(s.field))return!1;return!0}(n,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&(i=e,!((r=n).startAt&&!function(o,a,l){const u=nU(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Yu(r),i)||r.endAt&&!function(o,a,l){const u=nU(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Yu(r),i)));var r,i}function yU(n){return(e,t)=>{let r=!1;for(const i of Yu(n)){const s=eae(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function eae(n,e,t){const r=n.field.isKeyField()?q.comparator(e.key,t.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return null!==l&&null!==u?Bo(l,u):ee()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ee()}}class Qs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ko(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return WB(this.inner)}size(){return this.innerSize}}const tae=new gt(q.comparator);function Pr(){return tae}const vU=new gt(q.comparator);function yf(...n){let e=vU;for(const t of n)e=e.insert(t.key,t);return e}function EU(n){let e=vU;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ds(){return vf()}function bU(){return vf()}function vf(){return new Qs(n=>n.toString(),(n,e)=>n.isEqual(e))}const nae=new gt(q.comparator),rae=new at(q.comparator);function be(...n){let e=rae;for(const t of n)e=e.add(t);return e}const iae=new at(fe);function IU(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uf(e)?"-0":e}}function TU(n){return{integerValue:""+n}}function wU(n,e){return function VB(n){return"number"==typeof n&&Number.isInteger(n)&&!uf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?TU(e):IU(n,e)}class J_{constructor(){this._=void 0}}function sae(n,e,t){return n instanceof Zu?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&H_(s)&&(s=G_(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,e):n instanceof Ha?SU(n,e):n instanceof Ga?CU(n,e):function(i,s){const o=DU(i,s),a=AU(o)+AU(i.Ie);return f1(o)&&f1(i.Ie)?TU(a):IU(i.serializer,a)}(n,e)}function oae(n,e,t){return n instanceof Ha?SU(n,e):n instanceof Ga?CU(n,e):t}function DU(n,e){return n instanceof Xu?f1(r=e)||(s=r)&&"doubleValue"in s?e:{integerValue:0}:null;var r,s}class Zu extends J_{}class Ha extends J_{constructor(e){super(),this.elements=e}}function SU(n,e){const t=RU(e);for(const r of n.elements)t.some(i=>cs(i,r))||t.push(r);return{arrayValue:{values:t}}}class Ga extends J_{constructor(e){super(),this.elements=e}}function CU(n,e){let t=RU(e);for(const r of n.elements)t=t.filter(i=>!cs(i,r));return{arrayValue:{values:t}}}class Xu extends J_{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function AU(n){return Vt(n.integerValue||n.doubleValue)}function RU(n){return hf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class lae{constructor(e,t){this.version=e,this.transformResults=t}}class Tt{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Tt}static exists(e){return new Tt(void 0,e)}static updateTime(e){return new Tt(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Z_(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class X_{}function NU(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new tc(n.key,Tt.none()):new ec(n.key,n.data,Tt.none());{const t=n.data,r=Un.empty();let i=new at(It.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new Ys(n.key,r,new Mr(i.toArray()),Tt.none())}}function uae(n,e,t){n instanceof ec?function(i,s,o){const a=i.value.clone(),l=OU(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Ys?function(i,s,o){if(!Z_(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=OU(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(PU(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function bf(n,e,t,r){return n instanceof ec?function(s,o,a,l){if(!Z_(s.precondition,o))return a;const u=s.value.clone(),c=xU(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ys?function(s,o,a,l){if(!Z_(s.precondition,o))return a;const u=xU(s.fieldTransforms,l,o),c=o.data;return c.setAll(PU(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null===a?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(n,e,t,r):(a=t,Z_(n.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a);var o,a}function cae(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=DU(r.transform,i||null);null!=s&&(null===t&&(t=Un.empty()),t.set(r.field,s))}return t||null}function MU(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=n.fieldTransforms)&&void 0===i||r&&i&&Hu(r,i,(s,o)=>function aae(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(r=n.transform)instanceof Ha&&i instanceof Ha||r instanceof Ga&&i instanceof Ga?Hu(r.elements,i.elements,cs):r instanceof Xu&&i instanceof Xu?cs(r.Ie,i.Ie):r instanceof Zu&&i instanceof Zu);var r,i}(s,o))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var r,i}class ec extends X_{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ys extends X_{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function PU(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function OU(n,e,t){const r=new Map;se(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,oae(o,a,t[i]))}return r}function xU(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,sae(s,o,e))}return r}class tc extends X_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class b1 extends X_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class I1{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&uae(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=bf(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=bf(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=bU();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const l=NU(o,a);null!==l&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(oe.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),be())}isEqual(e){return this.batchId===e.batchId&&Hu(this.mutations,e.mutations,(t,r)=>MU(t,r))&&Hu(this.baseMutations,e.baseMutations,(t,r)=>MU(t,r))}}class T1{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){se(e.mutations.length===r.length);let i=nae;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new T1(e,t,r,i)}}class w1{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class hae{constructor(e,t){this.count=e,this.unchangedNames=t}}var un,je;function FU(n){if(void 0===n)return Qt("GRPC error has no .code"),S.UNKNOWN;switch(n){case un.OK:return S.OK;case un.CANCELLED:return S.CANCELLED;case un.UNKNOWN:return S.UNKNOWN;case un.DEADLINE_EXCEEDED:return S.DEADLINE_EXCEEDED;case un.RESOURCE_EXHAUSTED:return S.RESOURCE_EXHAUSTED;case un.INTERNAL:return S.INTERNAL;case un.UNAVAILABLE:return S.UNAVAILABLE;case un.UNAUTHENTICATED:return S.UNAUTHENTICATED;case un.INVALID_ARGUMENT:return S.INVALID_ARGUMENT;case un.NOT_FOUND:return S.NOT_FOUND;case un.ALREADY_EXISTS:return S.ALREADY_EXISTS;case un.PERMISSION_DENIED:return S.PERMISSION_DENIED;case un.FAILED_PRECONDITION:return S.FAILED_PRECONDITION;case un.ABORTED:return S.ABORTED;case un.OUT_OF_RANGE:return S.OUT_OF_RANGE;case un.UNIMPLEMENTED:return S.UNIMPLEMENTED;case un.DATA_LOSS:return S.DATA_LOSS;default:return ee()}}(je=un||(un={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";const fae=new Uu([4294967295,4294967295],0);function VU(n){const e=function LU(){return new TextEncoder}().encode(n),t=new loe;return t.update(e),new Uint8Array(t.digest())}function BU(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Uu([t,r],0),new Uu([i,s],0)]}class D1{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new If(`Invalid padding: ${t}`);if(r<0)throw new If(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new If(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new If(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ee=Uu.fromNumber(this.Te)}de(e,t,r){let i=e.add(t.multiply(Uu.fromNumber(r)));return 1===i.compare(fae)&&(i=new Uu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=VU(e),[r,i]=BU(t);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new D1(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.Te)return;const t=VU(e),[r,i]=BU(t);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class If extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Tf{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,wf.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Tf(oe.min(),i,new gt(fe),Pr(),be())}}class wf{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new wf(r,t,be(),be(),be())}}class ty{constructor(e,t,r,i){this.Ve=e,this.removedTargetIds=t,this.key=r,this.me=i}}class UU{constructor(e,t){this.targetId=e,this.fe=t}}class jU{constructor(e,t,r=_n.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class $U{constructor(){this.ge=0,this.pe=GU(),this.ye=_n.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=be(),t=be(),r=be();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ee()}}),new wf(this.ye,this.we,e,t,r)}Fe(){this.Se=!1,this.pe=GU()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class pae{constructor(e){this.Le=e,this.ke=new Map,this.qe=Pr(),this.Qe=HU(),this.Ke=new gt(fe)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,t=>{const r=this.ze(t);switch(e.state){case 0:this.je(t)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(t);break;case 3:this.je(t)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),r.Ce(e.resumeToken));break;default:ee()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach((r,i)=>{this.je(i)&&t(i)})}Je(e){const t=e.targetId,r=e.fe.count,i=this.Ye(t);if(i){const s=i.target;if(K_(s))if(0===r){const o=new q(s.path);this.We(t,o,yt.newNoDocument(o,oe.min()))}else se(1===r);else{const o=this.Ze(t);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;0!==l&&(this.He(t),this.Ke=this.Ke.insert(t,2===l?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let o,a;try{o=qs(r).toUint8Array()}catch(l){if(l instanceof KB)return qr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new D1(o,i,s)}catch(l){return qr(l instanceof If?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return 0===a.Te?null:a}et(e,t,r){return t.fe.count===r-this.rt(e,t.targetId)?0:2}rt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(t,s,null),i++)}),i}it(e){const t=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&K_(a.target)){const l=new q(a.target.path);null!==this.qe.get(l)||this.st(o,l)||this.We(o,l,yt.newNoDocument(l,e))}s.De&&(t.set(o,s.ve()),s.Fe())}});let r=be();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Ye(l);return!u||"TargetPurposeLimboResolution"===u.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new Tf(e,t,this.Ke,this.qe,r);return this.qe=Pr(),this.Qe=HU(),this.Ke=new gt(fe),i}Ue(e,t){if(!this.je(e))return;const r=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,r),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,t)?i.Me(t,1):i.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),r&&(this.qe=this.qe.insert(t,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new $U,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new at(fe),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||x("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new $U),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function HU(){return new gt(q.comparator)}function GU(){return new gt(q.comparator)}const gae={asc:"ASCENDING",desc:"DESCENDING"},mae={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_ae={and:"AND",or:"OR"};class yae{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function S1(n,e){return n.useProto3Json||lf(e)?e:{value:e}}function nc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zU(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function vae(n,e){return nc(n,e.toTimestamp())}function Yt(n){return se(!!n),oe.fromTimestamp(function(t){const r=Fo(t);return new Mt(r.seconds,r.nanos)}(n))}function C1(n,e){return(r=n,new Ue(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function WU(n){const e=Ue.fromString(n);return se(tj(e)),e}function Df(n,e){return C1(n.databaseId,e.path)}function hs(n,e){const t=WU(e);if(t.get(1)!==n.databaseId.projectId)throw new k(S.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new k(S.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new q(KU(t))}function A1(n,e){return C1(n.databaseId,e)}function Sf(n){return new Ue(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function KU(n){return se(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function QU(n,e,t){return{name:Df(n,e),fields:t.value.mapValue.fields}}function JU(n,e){return{documents:[A1(n,e.path)]}}function N1(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=A1(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=A1(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(0!==l.length)return ej(st.create(l,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const s=function(l){if(0!==l.length)return l.map(u=>{return{field:jo((d=u).field),direction:wae(d.dir)};var d})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=S1(n,e.limit);return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(l=e.startAt).inclusive,values:l.position}),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),t;var l}function ZU(n){let e=function qU(n){const e=WU(n);return 4===e.length?Ue.emptyPath():KU(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){se(1===r);const c=t.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];t.where&&(s=function(d){const h=XU(d);return h instanceof st&&g1(h)?h.getFilters():[h]}(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(h=>{return new pf(rc((p=h).field),function(m){switch(m){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction));var p}));let a=null;t.limit&&(a=function(d){let h;return h="object"==typeof d?d.value:d,lf(h)?null:h}(t.limit));let l=null;var d;t.startAt&&(l=new Uo((d=t.startAt).values||[],!!d.before));let u=null;return t.endAt&&(u=function(d){return new Uo(d.values||[],!d.before)}(t.endAt)),function fU(n,e,t,r,i,s,o,a){return new Ks(n,e,t,r,i,s,o,a)}(e,i,o,s,a,"F",l,u)}function XU(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=rc(t.unaryFilter.field);return Me.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=rc(t.unaryFilter.field);return Me.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=rc(t.unaryFilter.field);return Me.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=rc(t.unaryFilter.field);return Me.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ee()}}(n):void 0!==n.fieldFilter?Me.create(rc((t=n).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ee()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return st.create(t.compositeFilter.filters.map(r=>XU(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ee()}}(t.compositeFilter.op))}(n):ee();var t}function wae(n){return gae[n]}function Dae(n){return mae[n]}function Sae(n){return _ae[n]}function jo(n){return{fieldPath:n.canonicalString()}}function rc(n){return It.fromServerFormat(n.fieldPath)}function ej(n){return n instanceof Me?function(t){if("=="===t.op){if(JB(t.value))return{unaryFilter:{field:jo(t.field),op:"IS_NAN"}};if(YB(t.value))return{unaryFilter:{field:jo(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(JB(t.value))return{unaryFilter:{field:jo(t.field),op:"IS_NOT_NAN"}};if(YB(t.value))return{unaryFilter:{field:jo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jo(t.field),op:Dae(t.op),value:t.value}}}(n):n instanceof st?function(t){const r=t.getFilters().map(i=>ej(i));return 1===r.length?r[0]:{compositeFilter:{op:Sae(t.op),filters:r}}}(n):ee()}function Cae(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function tj(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Js{constructor(e,t,r,i,s=oe.min(),o=oe.min(),a=_n.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Js(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class nj{constructor(e){this.ut=e}}function M1(n){const e=ZU({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Y_(e,e.limit,"L"):e}class Ka{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(Vt(e.integerValue));else if("doubleValue"in e){const r=Vt(e.doubleValue);isNaN(r)?this.Tt(t,13):(this.Tt(t,15),uf(r)?t.Et(0):t.Et(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Tt(t,20),"string"==typeof r?t.dt(r):(t.dt(`${r.seconds||""}`),t.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(qs(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Tt(t,45),t.Et(r.latitude||0),t.Et(r.longitude||0)}else"mapValue"in e?ZB(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):ee()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const r=e.fields||{};this.Tt(t,55);for(const i of Object.keys(r))this.At(i,t),this.Pt(r[i],t)}yt(e,t){const r=e.values||[];this.Tt(t,50);for(const i of r)this.Pt(i,t)}ft(e,t){this.Tt(t,37),q.fromName(e).path.forEach(r=>{this.Tt(t,60),this.wt(r,t)})}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}Ka.St=new Ka;class kae{constructor(){this.on=new L1}addToCollectionParentIndex(e,t){return this.on.add(t),T.resolve()}getCollectionParents(e,t){return T.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return T.resolve()}deleteFieldIndex(e,t){return T.resolve()}deleteAllFieldIndexes(e){return T.resolve()}createTargetIndexes(e,t){return T.resolve()}getDocumentsMatchingTarget(e,t){return T.resolve(null)}getIndexType(e,t){return T.resolve(0)}getFieldIndexes(e,t){return T.resolve([])}getNextCollectionGroupToUpdate(e){return T.resolve(null)}getMinOffset(e,t){return T.resolve(Kr.min())}getMinOffsetFromCollectionGroup(e,t){return T.resolve(Kr.min())}updateCollectionGroup(e,t,r){return T.resolve()}updateIndexEntries(e,t){return T.resolve()}}class L1{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new at(Ue.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new at(Ue.comparator)).toArray()}}new Uint8Array(0);class nr{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new nr(e,nr.DEFAULT_COLLECTION_PERCENTILE,nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}nr.DEFAULT_COLLECTION_PERCENTILE=10,nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nr.DEFAULT=new nr(41943040,nr.DEFAULT_COLLECTION_PERCENTILE,nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nr.DISABLED=new nr(-1,0,0);class Ya{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Ya(0)}static Nn(){return new Ya(-1)}}class jae{constructor(){this.changes=new Qs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,yt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?T.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Gae{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Rj{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&bf(r.mutation,i,Mr.empty(),Mt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,be()).next(()=>r))}getLocalViewOfDocuments(e,t,r=be()){const i=ds();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=yf();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=ds();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,be()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=Pr();const o=vf(),a=vf();return t.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(void 0===c||c.mutation instanceof Ys)?s=s.insert(u.key,u):void 0!==c?(o.set(u.key,c.mutation.getFieldMask()),bf(c.mutation,u,c.mutation.getFieldMask(),Mt.now())):o.set(u.key,Mr.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),t.forEach((u,c)=>{var d;return a.set(u,new Gae(c,null!==(d=o.get(u))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,t){const r=vf();let i=new gt((o,a)=>o-a),s=be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=t.get(l);if(null===u)return;let c=r.get(l)||Mr.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||be()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=bU();c.forEach(h=>{if(!s.has(h)){const f=NU(t.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return T.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return q.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function y1(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i);var o}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):T.resolve(ds());let a=-1,l=s;return o.next(u=>T.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?T.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,be())).next(c=>({batchId:a,changes:EU(c)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new q(t)).next(r=>{let i=yf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let o=yf();return this.indexManager.getCollectionParents(e,s).next(a=>T.forEach(a,l=>{const u=(d=t,h=l.child(s),new Ks(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt));var d,h;return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();null===o.get(c)&&(o=o.insert(c,yt.newInvalidDocument(c)))});let a=yf();return o.forEach((l,u)=>{const c=s.get(l);void 0!==c&&bf(c.mutation,u,Mr.empty(),Mt.now()),_f(t,u)&&(a=a.insert(l,u))}),a})}}class zae{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return T.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,{id:(i=t).id,version:i.version,createTime:Yt(i.createTime)}),T.resolve();var i}getNamedQuery(e,t){return T.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,{name:(i=t).name,query:M1(i.bundledQuery),readTime:Yt(i.readTime)}),T.resolve();var i}}class Wae{constructor(){this.overlays=new gt(q.comparator),this.lr=new Map}getOverlay(e,t){return T.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ds();return T.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.lt(e,t,s)}),T.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.lr.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),T.resolve()}getOverlaysForCollection(e,t,r){const i=ds(),s=t.length+1,o=new q(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return T.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new gt((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>r){let c=s.get(u.largestBatchId);null===c&&(c=ds(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=ds(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return T.resolve(a)}lt(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new w1(t,r));let s=this.lr.get(t);void 0===s&&(s=be(),this.lr.set(t,s)),this.lr.set(t,s.add(r.key))}}class V1{constructor(){this.hr=new at(An.Pr),this.Ir=new at(An.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const r=new An(e,t);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.dr(new An(e,t))}Ar(e,t){e.forEach(r=>this.removeReference(r,t))}Rr(e){const t=new q(new Ue([])),r=new An(t,e),i=new An(t,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new q(new Ue([])),r=new An(t,e),i=new An(t,e+1);let s=be();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new An(e,0),r=this.hr.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class An{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return q.comparator(e.key,t.key)||fe(e.gr,t.gr)}static Tr(e,t){return fe(e.gr,t.gr)||q.comparator(e.key,t.key)}}class qae{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new at(An.Pr)}checkEmpty(e){return T.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.pr;this.pr++;const o=new I1(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new An(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return T.resolve(o)}lookupMutationBatch(e,t){return T.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Sr(t+1),s=i<0?0:i;return T.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return T.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return T.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new An(t,0),i=new An(t,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),T.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new at(fe);return t.forEach(i=>{const s=new An(i,0),o=new An(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),T.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;q.isDocumentKey(s)||(s=s.child(""));const o=new An(new q(s),0);let a=new at(fe);return this.yr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.gr)),!0)},o),T.resolve(this.br(a))}br(e){const t=[];return e.forEach(r=>{const i=this.wr(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){se(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let r=this.yr;return T.forEach(t.mutations,i=>{const s=new An(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,t){const r=new An(t,0),i=this.yr.firstAfterOrEqual(r);return T.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return T.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Kae{constructor(e){this.Cr=e,this.docs=new gt(q.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return T.resolve(r?r.document.mutableCopy():yt.newInvalidDocument(t))}getEntries(e,t){let r=Pr();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():yt.newInvalidDocument(i))}),T.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Pr();const o=t.path,a=new q(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||l1(kB(c),r)<=0||(i.has(c.key)||_f(t,c))&&(s=s.insert(c.key,c.mutableCopy()))}return T.resolve(s)}getAllFromCollectionGroup(e,t,r,i){ee()}vr(e,t){return T.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Qae(this)}getSize(e){return T.resolve(this.size)}}class Qae extends jae{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),T.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class Yae{constructor(e){this.persistence=e,this.Fr=new Qs(t=>$a(t),gf),this.lastRemoteSnapshotVersion=oe.min(),this.highestTargetId=0,this.Mr=0,this.Or=new V1,this.targetCount=0,this.Nr=Ya.On()}forEachTarget(e,t){return this.Fr.forEach((r,i)=>t(i)),T.resolve()}getLastRemoteSnapshotVersion(e){return T.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return T.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),T.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Mr&&(this.Mr=t),T.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new Ya(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,T.resolve()}updateTargetData(e,t){return this.kn(t),T.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,T.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),T.waitFor(s).next(()=>i)}getTargetCount(e){return T.resolve(this.targetCount)}getTargetData(e,t){const r=this.Fr.get(t)||null;return T.resolve(r)}addMatchingKeys(e,t,r){return this.Or.Er(t,r),T.resolve()}removeMatchingKeys(e,t,r){this.Or.Ar(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),T.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),T.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Or.mr(t);return T.resolve(r)}containsKey(e,t){return T.resolve(this.Or.containsKey(t))}}class B1{constructor(e,t){this.Br={},this.overlays={},this.Lr=new Qr(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new Yae(this),this.indexManager=new kae,this.remoteDocumentCache=new Kae(r=>this.referenceDelegate.Qr(r)),this.serializer=new nj(t),this.Kr=new zae(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Wae,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Br[e.toKey()];return r||(r=new qae(t,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,r){x("MemoryPersistence","Starting transaction:",e);const i=new Jae(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,t){return T.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,t)))}}class Jae extends voe{constructor(e){super(),this.currentSequenceNumber=e}}class uy{constructor(e){this.persistence=e,this.Gr=new V1,this.zr=null}static jr(e){return new uy(e)}get Hr(){if(this.zr)return this.zr;throw ee()}addReference(e,t,r){return this.Gr.addReference(r,t),this.Hr.delete(r.toString()),T.resolve()}removeReference(e,t,r){return this.Gr.removeReference(r,t),this.Hr.add(r.toString()),T.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),T.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return T.forEach(this.Hr,r=>{const i=q.fromPath(r);return this.Jr(e,i).next(s=>{s||t.removeEntry(i,oe.min())})}).next(()=>(this.zr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Jr(e,t).next(r=>{r?this.Hr.delete(t.toString()):this.Hr.add(t.toString())})}Qr(e){return 0}Jr(e,t){return T.or([()=>T.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class H1{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ki=r,this.qi=i}static Qi(e,t){let r=be(),i=be();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new H1(e,t.fromCache,r,i)}}class Xae{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Mj{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.zi(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Xae;return this.Hi(e,t,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,t,o,a.size)})}).next(()=>s.result)}Ji(e,t,r,i){return r.documentReadCount<this.Ui?($u()<=ke.DEBUG&&x("QueryEngine","SDK will not create cache indexes for query:",Ju(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),T.resolve()):($u()<=ke.DEBUG&&x("QueryEngine","Query:",Ju(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?($u()<=ke.DEBUG&&x("QueryEngine","The SDK decides to create cache indexes for query:",Ju(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gr(t))):T.resolve())}zi(e,t){if(pU(t))return T.resolve(null);let r=gr(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=Y_(t,null,"F"),r=gr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=be(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Yi(t,a);return this.Zi(t,u,o,l.readTime)?this.zi(e,Y_(t,null,"F")):this.Xi(e,u,t,l)}))})))}ji(e,t,r,i){return pU(t)||i.isEqual(oe.min())?T.resolve(null):this.Gi.getDocuments(e,r).next(s=>{const o=this.Yi(t,s);return this.Zi(t,o,r,i)?T.resolve(null):($u()<=ke.DEBUG&&x("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ju(t)),this.Xi(e,o,t,function xB(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=oe.fromTimestamp(1e9===r?new Mt(t+1,0):new Mt(t,r));return new Kr(i,q.empty(),e)}(i,-1)).next(a=>a))})}Yi(e,t){let r=new at(yU(e));return t.forEach((i,s)=>{_f(e,s)&&(r=r.add(s))}),r}Zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,t,r){return $u()<=ke.DEBUG&&x("QueryEngine","Using full collection scan to execute query:",Ju(t)),this.Gi.getDocumentsMatchingQuery(e,t,Kr.min(),r)}Xi(e,t,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class ele{constructor(e,t,r,i){this.persistence=e,this.es=t,this.serializer=i,this.ts=new gt(fe),this.ns=new Qs(s=>$a(s),gf),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Rj(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ts))}}function Oj(n,e){return G1.apply(this,arguments)}function G1(){return G1=v(function*(n,e){const t=z(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.os(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=be();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return t.localDocuments.getDocuments(r,l).next(u=>({_s:u,removedBatchIds:o,addedBatchIds:a}))})})}),G1.apply(this,arguments)}function xj(n){const e=z(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.qr.getLastRemoteSnapshotVersion(t))}function rle(n,e){const t=z(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function uc(n,e,t){return z1.apply(this,arguments)}function z1(){return z1=v(function*(n,e,t){const r=z(n),i=r.ts.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!xo(o))throw o;x("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}),z1.apply(this,arguments)}function hy(n,e,t){const r=z(n);let i=oe.min(),s=be();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const d=z(l),h=d.ns.get(c);return void 0!==h?T.resolve(d.ts.get(h)):d.qr.getTargetData(u,c)}(r,o,gr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,t?i:oe.min(),t?s:be())).next(a=>(function Vj(n,e,t){let r=n.rs.get(e)||oe.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.rs.set(e,r)}(r,function _U(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,ls:s})))}class Y1{constructor(){this.activeTargetIds=function E1(){return iae}()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jj{constructor(){this.eo=new Y1,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,r){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new Y1,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ole{ro(e){}shutdown(){}}class $j{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){x("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){x("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let gy=null;function Z1(){return null===gy?gy=268435456+Math.round(2147483648*Math.random()):gy++,"0x"+gy.toString(16)}const ale={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class lle{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const rr="WebChannelConnection";class ule extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+t.host,this.fo=`projects/${i}/databases/${s}`,this.po="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(t,r,i,s,o){const a=Z1(),l=this.So(t,r);x("RestConnection",`Sending RPC '${t}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(u,s,o),this.Do(t,l,u,i).then(c=>(x("RestConnection",`Received RPC '${t}' ${a}: `,c),c),c=>{throw qr("RestConnection",`RPC '${t}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Co(t,r,i,s,o,a){return this.wo(t,r,i,s,o)}bo(t,r,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+ju,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>t[o]=s),i&&i.headers.forEach((s,o)=>t[o]=s)}So(t,r){return`${this.mo}/v1/${r}:${ale[t]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,t,r,i){const s=Z1();return new Promise((o,a)=>{const l=new aoe;l.setWithCredentials(!0),l.listenOnce(ioe.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case s1.NO_ERROR:const c=l.getResponseJson();x(rr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case s1.TIMEOUT:x(rr,`RPC '${e}' ${s} timed out`),a(new k(S.DEADLINE_EXCEEDED,"Request time out"));break;case s1.HTTP_ERROR:const d=l.getStatus();if(x(rr,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(m){const y=m.toLowerCase().replace(/_/g,"-");return Object.values(S).indexOf(y)>=0?y:S.UNKNOWN}(f.status);a(new k(p,f.message))}else a(new k(S.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new k(S.UNAVAILABLE,"Connection failed."));break;default:ee()}}finally{x(rr,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);x(rr,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",u,r,15)})}vo(e,t,r){const i=Z1(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=noe(),a=roe(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new ooe({})),this.bo(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;const c=s.join("");x(rr,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=o.createWebChannel(c,l);let h=!1,f=!1;const p=new lle({co:m=>{f?x(rr,`Not sending because RPC '${e}' stream ${i} is closed:`,m):(h||(x(rr,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),x(rr,`RPC '${e}' stream ${i} sending:`,m),d.send(m))},lo:()=>d.close()}),g=(m,y,_)=>{m.listen(y,I=>{try{_(I)}catch(w){setTimeout(()=>{throw w},0)}})};return g(d,B_.EventType.OPEN,()=>{f||x(rr,`RPC '${e}' stream ${i} transport opened.`)}),g(d,B_.EventType.CLOSE,()=>{f||(f=!0,x(rr,`RPC '${e}' stream ${i} transport closed`),p.Ro())}),g(d,B_.EventType.ERROR,m=>{f||(f=!0,qr(rr,`RPC '${e}' stream ${i} transport errored:`,m),p.Ro(new k(S.UNAVAILABLE,"The operation could not be completed")))}),g(d,B_.EventType.MESSAGE,m=>{var y;if(!f){const _=m.data[0];se(!!_);const w=_.error||(null===(y=_[0])||void 0===y?void 0:y.error);if(w){x(rr,`RPC '${e}' stream ${i} received error:`,w);const M=w.status;let L=function(Te){const Oe=un[Te];if(void 0!==Oe)return FU(Oe)}(M),K=w.message;void 0===L&&(L=S.INTERNAL,K="Unknown error status: "+M+" with message "+w.message),f=!0,p.Ro(new k(L,K)),d.close()}else x(rr,`RPC '${e}' stream ${i} received:`,_),p.Vo(_)}}),g(a,soe.STAT_EVENT,m=>{m.stat===AB.PROXY?x(rr,`RPC '${e}' stream ${i} detected buffering proxy`):m.stat===AB.NOPROXY&&x(rr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.Ao()},0),p}}function my(){return typeof document<"u"?document:null}function kf(n){return new yae(n,!0)}class X1{constructor(e,t,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=t,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const t=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,t-r);i>0&&x("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class Gj{constructor(e,t,r,i,s,o,a,l){this.si=e,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new X1(e,t)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return v(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return v(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,t){var r=this;return v(function*(){r.t_(),r.n_(),r.zo.cancel(),r.Uo++,4!==e?r.zo.reset():t&&t.code===S.RESOURCE_EXHAUSTED?(Qt(t.toString()),Qt("Using maximum backoff delay to prevent overloading the backend."),r.zo.Lo()):t&&t.code===S.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.r_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Io(t)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),t=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===t&&this.s_(r,i)},r=>{e(()=>{const i=new k(S.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,t){const r=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){var e=this;this.state=5,this.zo.ko(v(function*(){e.state=0,e.start()}))}o_(e){return x("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return t=>{this.si.enqueueAndForget(()=>this.Uo===e?t():(x("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class cle extends Gj{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}__(e,t){return this.connection.vo("Listen",e,t)}onMessage(e){this.zo.reset();const t=function bae(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:ee(),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(se(void 0===c||"string"==typeof c),_n.fromBase64String(c||"")):(se(void 0===c||c instanceof Uint8Array),_n.fromUint8Array(c||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?S.UNKNOWN:FU(u.code);return new k(c,u.message||"")}(o);t=new jU(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=hs(n,r.document.name),s=Yt(r.document.updateTime),o=r.document.createTime?Yt(r.document.createTime):oe.min(),a=new Un({mapValue:{fields:r.document.fields}}),l=yt.newFoundDocument(i,s,o,a);t=new ty(r.targetIds||[],r.removedTargetIds||[],l.key,l)}else if("documentDelete"in e){const r=e.documentDelete,i=hs(n,r.document),s=r.readTime?Yt(r.readTime):oe.min(),o=yt.newNoDocument(i,s);t=new ty([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=hs(n,r.document);t=new ty([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return ee();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new hae(i,s);t=new UU(r.targetId,o)}}var u;return t}(this.serializer,e),r=function(s){if(!("targetChange"in s))return oe.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?oe.min():o.readTime?Yt(o.readTime):oe.min()}(e);return this.listener.a_(t,r)}u_(e){const t={};t.database=Sf(this.serializer),t.addTarget=function(s,o){let a;const l=o.target;if(a=K_(l)?{documents:JU(s,l)}:{query:N1(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=zU(s,o.resumeToken);const u=S1(s,o.expectedCount);null!==u&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(oe.min())>0){a.readTime=nc(s,o.snapshotVersion.toTimestamp());const u=S1(s,o.expectedCount);null!==u&&(a.expectedCount=u)}return a}(this.serializer,e);const r=function Tae(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ee()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.e_(t)}c_(e){const t={};t.database=Sf(this.serializer),t.removeTarget=e,this.e_(t)}}class dle extends Gj{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,t){return this.connection.vo("Write",e,t)}onMessage(e){if(se(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const t=function Iae(n,e){return n&&n.length>0?(se(void 0!==e),n.map(t=>function(i,s){let o=Yt(i.updateTime?i.updateTime:s);return o.isEqual(oe.min())&&(o=Yt(s)),new lae(o,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Yt(e.commitTime);return this.listener.I_(r,t)}return se(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Sf(this.serializer),this.e_(e)}P_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function Cf(n,e){let t;if(e instanceof ec)t={update:QU(n,e.key,e.value)};else if(e instanceof tc)t={delete:Df(n,e.key)};else if(e instanceof Ys)t={update:QU(n,e.key,e.data),updateMask:Cae(e.fieldMask)};else{if(!(e instanceof b1))return ee();t={verify:Df(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Zu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ha)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ga)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Xu)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw ee()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:vae(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:ee()),t;var s}(this.serializer,r))};this.e_(t)}}class hle extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new k(S.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,t,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===S.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new k(S.UNKNOWN,i.toString())})}Co(e,t,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,t,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===S.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new k(S.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class ple{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Qt(t),this.f_=!1):x("OnlineStateTracker",t)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class gle{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(a=>{r.enqueueAndForget(v(function*(){var l;zo(o)&&(x("RemoteStore","Restarting streams for network reachability change."),yield(l=v(function*(c){const d=z(c);d.C_.add(4),yield cc(d),d.M_.set("Unknown"),d.C_.delete(4),yield Ff(d)}),function u(c){return l.apply(this,arguments)})(o))}))}),this.M_=new ple(r,i)}}function Ff(n){return tS.apply(this,arguments)}function tS(){return tS=v(function*(n){if(zo(n))for(const e of n.v_)yield e(!0)}),tS.apply(this,arguments)}function cc(n){return nS.apply(this,arguments)}function nS(){return nS=v(function*(n){for(const e of n.v_)yield e(!1)}),nS.apply(this,arguments)}function _y(n,e){const t=z(n);t.D_.has(e.targetId)||(t.D_.set(e.targetId,e),sS(t)?iS(t):hc(t).Ho()&&rS(t,e))}function Lf(n,e){const t=z(n),r=hc(t);t.D_.delete(e),r.Ho()&&zj(t,e),0===t.D_.size&&(r.Ho()?r.Zo():zo(t)&&t.M_.set("Unknown"))}function rS(n,e){if(n.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(oe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}hc(n).u_(e)}function zj(n,e){n.x_.Oe(e),hc(n).c_(e)}function iS(n){n.x_=new pae({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>n.D_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),hc(n).start(),n.M_.g_()}function sS(n){return zo(n)&&!hc(n).jo()&&n.D_.size>0}function zo(n){return 0===z(n).C_.size}function Wj(n){n.x_=void 0}function mle(n){return oS.apply(this,arguments)}function oS(){return oS=v(function*(n){n.D_.forEach((e,t)=>{rS(n,e)})}),oS.apply(this,arguments)}function _le(n,e){return aS.apply(this,arguments)}function aS(){return aS=v(function*(n,e){Wj(n),sS(n)?(n.M_.w_(e),iS(n)):n.M_.set("Unknown")}),aS.apply(this,arguments)}function yle(n,e,t){return lS.apply(this,arguments)}function lS(){return lS=v(function*(n,e,t){if(n.M_.set("Online"),e instanceof jU&&2===e.state&&e.cause)try{yield(r=v(function*(s,o){const a=o.cause;for(const l of o.targetIds)s.D_.has(l)&&(yield s.remoteSyncer.rejectListen(l,a),s.D_.delete(l),s.x_.removeTarget(l))}),function i(s,o){return r.apply(this,arguments)})(n,e)}catch(r){x("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield yy(n,r)}else if(e instanceof ty?n.x_.$e(e):e instanceof UU?n.x_.Je(e):n.x_.Ge(e),!t.isEqual(oe.min()))try{const r=yield xj(n.localStore);t.compareTo(r)>=0&&(yield function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.D_.get(u);c&&s.D_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.D_.get(l);if(!c)return;s.D_.set(l,c.withResumeToken(_n.EMPTY_BYTE_STRING,c.snapshotVersion)),zj(s,l);const d=new Js(c.target,l,u,c.sequenceNumber);rS(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){x("RemoteStore","Failed to raise snapshot:",r),yield yy(n,r)}var r}),lS.apply(this,arguments)}function yy(n,e,t){return uS.apply(this,arguments)}function uS(){return uS=v(function*(n,e,t){if(!xo(e))throw e;n.C_.add(1),yield cc(n),n.M_.set("Offline"),t||(t=()=>xj(n.localStore)),n.asyncQueue.enqueueRetryable(v(function*(){x("RemoteStore","Retrying IndexedDB access"),yield t(),n.C_.delete(1),yield Ff(n)}))}),uS.apply(this,arguments)}function qj(n,e){return e().catch(t=>yy(n,t,e))}function dc(n){return cS.apply(this,arguments)}function cS(){return cS=v(function*(n){const e=z(n),t=Wo(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;vle(e);)try{const i=yield rle(e.localStore,r);if(null===i){0===e.b_.length&&t.Zo();break}r=i.batchId,Ele(e,i)}catch(i){yield yy(e,i)}Kj(e)&&Qj(e)}),cS.apply(this,arguments)}function vle(n){return zo(n)&&n.b_.length<10}function Ele(n,e){n.b_.push(e);const t=Wo(n);t.Ho()&&t.h_&&t.P_(e.mutations)}function Kj(n){return zo(n)&&!Wo(n).jo()&&n.b_.length>0}function Qj(n){Wo(n).start()}function ble(n){return dS.apply(this,arguments)}function dS(){return dS=v(function*(n){Wo(n).E_()}),dS.apply(this,arguments)}function Ile(n){return hS.apply(this,arguments)}function hS(){return hS=v(function*(n){const e=Wo(n);for(const t of n.b_)e.P_(t.mutations)}),hS.apply(this,arguments)}function Tle(n,e,t){return fS.apply(this,arguments)}function fS(){return fS=v(function*(n,e,t){const r=n.b_.shift(),i=T1.from(r,e,t);yield qj(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield dc(n)}),fS.apply(this,arguments)}function wle(n,e){return pS.apply(this,arguments)}function pS(){return pS=v(function*(n,e){var t;e&&Wo(n).h_&&(yield(t=v(function*(i,s){if(function kU(n){switch(n){default:return ee();case S.CANCELLED:case S.UNKNOWN:case S.DEADLINE_EXCEEDED:case S.RESOURCE_EXHAUSTED:case S.INTERNAL:case S.UNAVAILABLE:case S.UNAUTHENTICATED:return!1;case S.INVALID_ARGUMENT:case S.NOT_FOUND:case S.ALREADY_EXISTS:case S.PERMISSION_DENIED:case S.FAILED_PRECONDITION:case S.ABORTED:case S.OUT_OF_RANGE:case S.UNIMPLEMENTED:case S.DATA_LOSS:return!0}}(a=s.code)&&a!==S.ABORTED){const o=i.b_.shift();Wo(i).Yo(),yield qj(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),yield dc(i)}var a}),function r(i,s){return t.apply(this,arguments)})(n,e)),Kj(n)&&Qj(n)}),pS.apply(this,arguments)}function Yj(n,e){return gS.apply(this,arguments)}function gS(){return gS=v(function*(n,e){const t=z(n);t.asyncQueue.verifyOperationInProgress(),x("RemoteStore","RemoteStore received new credentials");const r=zo(t);t.C_.add(3),yield cc(t),r&&t.M_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.C_.delete(3),yield Ff(t)}),gS.apply(this,arguments)}function _S(){return _S=v(function*(n,e){const t=z(n);e?(t.C_.delete(2),yield Ff(t)):e||(t.C_.add(2),yield cc(t),t.M_.set("Unknown"))}),_S.apply(this,arguments)}function hc(n){return n.O_||(n.O_=function(t,r,i){const s=z(t);return s.A_(),new cle(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{ho:mle.bind(null,n),Io:_le.bind(null,n),a_:yle.bind(null,n)}),n.v_.push(function(){var e=v(function*(t){t?(n.O_.Yo(),sS(n)?iS(n):n.M_.set("Unknown")):(yield n.O_.stop(),Wj(n))});return function(t){return e.apply(this,arguments)}}())),n.O_}function Wo(n){return n.N_||(n.N_=function(t,r,i){const s=z(t);return s.A_(),new dle(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{ho:ble.bind(null,n),Io:wle.bind(null,n),T_:Ile.bind(null,n),I_:Tle.bind(null,n)}),n.v_.push(function(){var e=v(function*(t){t?(n.N_.Yo(),yield dc(n)):(yield n.N_.stop(),n.b_.length>0&&(x("RemoteStore",`Stopping write stream with ${n.b_.length} pending writes`),n.b_=[]))});return function(t){return e.apply(this,arguments)}}())),n.N_}class yS{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new mn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new yS(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new k(S.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fc(n,e){if(Qt("AsyncQueue",`${e}: ${n}`),xo(n))return new k(S.UNAVAILABLE,`${e}: ${n}`);throw n}class pc{constructor(e){this.comparator=e?(t,r)=>e(t,r)||q.comparator(t.key,r.key):(t,r)=>q.comparator(t.key,r.key),this.keyedMap=yf(),this.sortedSet=new gt(this.comparator)}static emptySet(e){return new pc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof pc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new pc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class Jj{constructor(){this.B_=new gt(q.comparator)}track(e){const t=e.doc.key,r=this.B_.get(t);r?0!==e.type&&3===r.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==r.type?this.B_=this.B_.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.B_=this.B_.remove(t):1===e.type&&2===r.type?this.B_=this.B_.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):ee():this.B_=this.B_.insert(t,e)}L_(){const e=[];return this.B_.inorderTraversal((t,r)=>{e.push(r)}),e}}class gc{constructor(e,t,r,i,s,o,a,l,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new gc(e,t,pc.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class Dle{constructor(){this.k_=void 0,this.listeners=[]}}class Sle{constructor(){this.queries=new Qs(e=>mU(e),mf),this.onlineState="Unknown",this.q_=new Set}}function vS(n,e){return ES.apply(this,arguments)}function ES(){return ES=v(function*(n,e){const t=z(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new Dle),i)try{s.k_=yield t.onListen(r)}catch(o){const a=fc(o,`Initialization of query '${Ju(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.listeners.push(e),e.Q_(t.onlineState),s.k_&&e.K_(s.k_)&&TS(t)}),ES.apply(this,arguments)}function bS(n,e){return IS.apply(this,arguments)}function IS(){return IS=v(function*(n,e){const t=z(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),IS.apply(this,arguments)}function Cle(n,e){const t=z(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&TS(t)}function Ale(n,e,t){const r=z(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function TS(n){n.q_.forEach(e=>{e.next()})}class wS{constructor(e,t,r){this.query=e,this.U_=t,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new gc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.W_?this.z_(e)&&(this.U_.next(e),t=!0):this.j_(e,this.onlineState)&&(this.H_(e),t=!0),this.G_=e,t}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}j_(e,t){return!e.fromCache||(!this.options.J_||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=gc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class e${constructor(e){this.key=e}}class t${constructor(e){this.key=e}}class n${constructor(e,t){this.query=e,this.ia=t,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=be(),this.mutatedKeys=be(),this._a=yU(e),this.aa=new pc(this._a)}get ua(){return this.ia}ca(e,t){const r=t?t.la:new Jj,i=t?t.aa:this.aa;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,u="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),f=_f(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let m=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),m=!0):this.ha(h,f)||(r.track({type:2,doc:f}),m=!0,(l&&this._a(f,l)>0||u&&this._a(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),m=!0):h&&!f&&(r.track({type:1,doc:h}),m=!0,(l||u)&&(a=!0)),m&&(f?(o=o.add(f),s=g?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const c="F"===this.query.limitType?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const s=e.la.L_();s.sort((u,c)=>function(h,f){const p=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ee()}};return p(h)-p(f)}(u.type,c.type)||this._a(u.doc,c.doc)),this.Pa(r);const o=t?this.Ia():[],a=0===this.oa.size&&this.current?1:0,l=a!==this.sa;return this.sa=a,0!==s.length||l?{snapshot:new gc(this.query,e.aa,i,s,e.mutatedKeys,0===a,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:o}:{Ta:o}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new Jj,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(t=>this.ia=this.ia.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.ia=this.ia.delete(t)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=be(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const t=[];return e.forEach(r=>{this.oa.has(r)||t.push(new t$(r))}),this.oa.forEach(r=>{e.has(r)||t.push(new e$(r))}),t}da(e){this.ia=e.ls,this.oa=be();const t=this.ca(e.documents);return this.applyChanges(t,!0)}Aa(){return gc.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class Mle{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Ple{constructor(e){this.key=e,this.Ra=!1}}class Ole{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new Qs(a=>mU(a),mf),this.fa=new Map,this.ga=new Set,this.pa=new gt(q.comparator),this.ya=new Map,this.wa=new V1,this.Sa={},this.ba=new Map,this.Da=Ya.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function xle(n,e){return DS.apply(this,arguments)}function DS(){return DS=v(function*(n,e){const t=function KS(n){const e=z(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=r$.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Hle.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Lle.bind(null,e),e.Va.a_=Cle.bind(null,e.eventManager),e.Va.Fa=Ale.bind(null,e.eventManager),e}(n);let r,i;const s=t.ma.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const o=yield function lc(n,e){const t=z(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.qr.getTargetData(r,e).next(s=>s?(i=s,T.resolve(i)):t.qr.allocateTargetId(r).next(o=>(i=new Js(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.ts.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.ts=t.ts.insert(r.targetId,r),t.ns.set(e,r.targetId)),r})}(t.localStore,gr(e)),a=t.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function SS(n,e,t,r,i){return CS.apply(this,arguments)}(t,e,r,"current"===a,o.resumeToken),t.isPrimaryClient&&_y(t.remoteStore,o)}return i}),DS.apply(this,arguments)}function CS(){return CS=v(function*(n,e,t,r,i){n.va=(d,h,f)=>{return(p=v(function*(m,y,_,I){let w=y.view.ca(_);w.Zi&&(w=yield hy(m.localStore,y.query,!1).then(({documents:K})=>y.view.ca(K,w)));const M=I&&I.targetChanges.get(y.targetId),L=y.view.applyChanges(w,m.isPrimaryClient,M);return LS(m,y.targetId,L.Ta),L.snapshot}),function g(m,y,_,I){return p.apply(this,arguments)})(n,d,h,f);var p};const s=yield hy(n.localStore,e,!0),o=new n$(e,s.ls),a=o.ca(s.documents),l=wf.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),u=o.applyChanges(a,n.isPrimaryClient,l);LS(n,t,u.Ta);const c=new Mle(e,t,o);return n.ma.set(e,c),n.fa.has(t)?n.fa.get(t).push(e):n.fa.set(t,[e]),u.snapshot}),CS.apply(this,arguments)}function kle(n,e){return AS.apply(this,arguments)}function AS(){return AS=v(function*(n,e){const t=z(n),r=t.ma.get(e),i=t.fa.get(r.targetId);if(i.length>1)return t.fa.set(r.targetId,i.filter(s=>!mf(s,e))),void t.ma.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield uc(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Lf(t.remoteStore,r.targetId),mc(t,r.targetId)}).catch(Oo))):(mc(t,r.targetId),yield uc(t.localStore,r.targetId,!0))}),AS.apply(this,arguments)}function RS(){return RS=v(function*(n,e,t){const r=function QS(n){const e=z(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Vle.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ble.bind(null,e),e}(n);try{const i=yield function(o,a){const l=z(o),u=Mt.now(),c=a.reduce((f,p)=>f.add(p.key),be());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=Pr(),g=be();return l.ss.getEntries(f,c).next(m=>{p=m,p.forEach((y,_)=>{_.isValidDocument()||(g=g.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,p)).next(m=>{d=m;const y=[];for(const _ of a){const I=cae(_,d.get(_.key).overlayedDocument);null!=I&&y.push(new Ys(_.key,I,tU(I.value.mapValue),Tt.exists(!0)))}return l.mutationQueue.addMutationBatch(f,u,y,a)}).next(m=>{h=m;const y=m.applyToLocalDocumentSet(d,g);return l.documentOverlayCache.saveOverlays(f,m.batchId,y)})}).then(()=>({batchId:h.batchId,changes:EU(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Sa[o.currentUser.toKey()];u||(u=new gt(fe)),u=u.insert(a,l),o.Sa[o.currentUser.toKey()]=u}(r,i.batchId,t),yield Zs(r,i.changes),yield dc(r.remoteStore)}catch(i){const s=fc(i,"Failed to persist write");t.reject(s)}}),RS.apply(this,arguments)}function r$(n,e){return NS.apply(this,arguments)}function NS(){return NS=v(function*(n,e){const t=z(n);try{const r=yield function nle(n,e){const t=z(n),r=e.snapshotVersion;let i=t.ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.ss.newChangeBuffer({trackRemovals:!0});i=t.ts;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(t.qr.removeMatchingKeys(s,c.removedDocuments,d).next(()=>t.qr.addMatchingKeys(s,c.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var g,m,y;null!==e.targetMismatches.get(d)?f=f.withResumeToken(_n.EMPTY_BYTE_STRING,oe.min()).withLastLimboFreeSnapshotVersion(oe.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,r)),i=i.insert(d,f),m=f,y=c,(0===(g=h).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8||y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0)&&a.push(t.qr.updateTargetData(s,f))});let l=Pr(),u=be();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(function kj(n,e,t){let r=be(),i=be();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=Pr();return t.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(oe.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||0===l.version.compareTo(u.version)&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):x("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{us:o,cs:i}})}(s,o,e.documentUpdates).next(c=>{l=c.us,u=c.cs})),!r.isEqual(oe.min())){const c=t.qr.getLastRemoteSnapshotVersion(s).next(d=>t.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return T.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(t.ts=i,s))}(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.ya.get(s);o&&(se(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?se(o.Ra):i.removedDocuments.size>0&&(se(o.Ra),o.Ra=!1))}),yield Zs(t,r,e)}catch(r){yield Oo(r)}}),NS.apply(this,arguments)}function i$(n,e,t){const r=z(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ma.forEach((s,o)=>{const a=o.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=z(o);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const h of d.listeners)h.Q_(a)&&(u=!0)}),u&&TS(l)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Lle(n,e,t){return MS.apply(this,arguments)}function MS(){return MS=v(function*(n,e,t){const r=z(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.ya.get(e),s=i&&i.key;if(s){let o=new gt(q.comparator);o=o.insert(s,yt.newNoDocument(s,oe.min()));const a=be().add(s),l=new Tf(oe.min(),new Map,new gt(fe),o,a);yield r$(r,l),r.pa=r.pa.remove(s),r.ya.delete(e),VS(r)}else yield uc(r.localStore,e,!1).then(()=>mc(r,e,t)).catch(Oo)}),MS.apply(this,arguments)}function Vle(n,e){return PS.apply(this,arguments)}function PS(){return PS=v(function*(n,e){const t=z(n),r=e.batch.batchId;try{const i=yield function tle(n,e){const t=z(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,h=d.keys();let f=T.resolve();return h.forEach(p=>{f=f.next(()=>c.getEntry(l,p)).next(g=>{const m=u.docVersions.get(p);se(null!==m),g.version.compareTo(m)<0&&(d.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),c.addEntry(g)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=be();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);FS(t,r,null),kS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Zs(t,i)}catch(i){yield Oo(i)}}),PS.apply(this,arguments)}function Ble(n,e,t){return OS.apply(this,arguments)}function OS(){return OS=v(function*(n,e,t){const r=z(n);try{const i=yield function(o,a){const l=z(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(se(null!==d),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);FS(r,e,t),kS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Zs(r,i)}catch(i){yield Oo(i)}}),OS.apply(this,arguments)}function kS(n,e){(n.ba.get(e)||[]).forEach(t=>{t.resolve()}),n.ba.delete(e)}function FS(n,e,t){const r=z(n);let i=r.Sa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function mc(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.fa.get(e))n.ma.delete(r),t&&n.Va.Fa(r,t);n.fa.delete(e),n.isPrimaryClient&&n.wa.Rr(e).forEach(r=>{n.wa.containsKey(r)||s$(n,r)})}function s$(n,e){n.ga.delete(e.path.canonicalString());const t=n.pa.get(e);null!==t&&(Lf(n.remoteStore,t),n.pa=n.pa.remove(e),n.ya.delete(t),VS(n))}function LS(n,e,t){for(const r of t)r instanceof e$?(n.wa.addReference(r.key,e),jle(n,r)):r instanceof t$?(x("SyncEngine","Document no longer in limbo: "+r.key),n.wa.removeReference(r.key,e),n.wa.containsKey(r.key)||s$(n,r.key)):ee()}function jle(n,e){const t=e.key,r=t.path.canonicalString();n.pa.get(t)||n.ga.has(r)||(x("SyncEngine","New document in limbo: "+t),n.ga.add(r),VS(n))}function VS(n){for(;n.ga.size>0&&n.pa.size<n.maxConcurrentLimboResolutions;){const e=n.ga.values().next().value;n.ga.delete(e);const t=new q(Ue.fromString(e)),r=n.Da.next();n.ya.set(r,new Ple(t)),n.pa=n.pa.insert(t,r),_y(n.remoteStore,new Js(gr(Qu(t.path)),r,"TargetPurposeLimboResolution",Qr._e))}}function Zs(n,e,t){return BS.apply(this,arguments)}function BS(){return BS=v(function*(n,e,t){const r=z(n),i=[],s=[],o=[];var a;r.ma.isEmpty()||(r.ma.forEach((a,l)=>{o.push(r.va(l,e,t).then(u=>{if((u||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u?.fromCache?"not-current":"current"),u){i.push(u);const c=H1.Qi(l.targetId,u);s.push(c)}}))}),yield Promise.all(o),r.Va.a_(i),yield(a=v(function*(u,c){const d=z(u);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>T.forEach(c,f=>T.forEach(f.ki,p=>d.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>T.forEach(f.qi,p=>d.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!xo(h))throw h;x("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const f=h.targetId;if(!h.fromCache){const p=d.ts.get(f),m=p.withLastLimboFreeSnapshotVersion(p.snapshotVersion);d.ts=d.ts.insert(f,m)}}}),function l(u,c){return a.apply(this,arguments)})(r.localStore,s))}),BS.apply(this,arguments)}function $le(n,e){return US.apply(this,arguments)}function US(){return US=v(function*(n,e){const t=z(n);if(!t.currentUser.isEqual(e)){x("SyncEngine","User change. New user:",e.toKey());const r=yield Oj(t.localStore,e);t.currentUser=e,(s=t).ba.forEach(a=>{a.forEach(l=>{l.reject(new k(S.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ba.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Zs(t,r._s)}var s}),US.apply(this,arguments)}function Hle(n,e){const t=z(n),r=t.ya.get(e);if(r&&r.Ra)return be().add(r.key);{let i=be();const s=t.fa.get(e);if(!s)return i;for(const o of s){const a=t.ma.get(o);i=i.unionWith(a.view.ua)}return i}}class vy{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return v(function*(){t.serializer=kf(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function Pj(n,e,t,r){return new ele(n,e,t,r)}(this.persistence,new Mj,e.initialUser,this.serializer)}createPersistence(e){return new B1(uy.jr,this.serializer)}createSharedClientState(e){return new jj}terminate(){var e=this;return v(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class _c{initialize(e,t){var r=this;return v(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>i$(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=$le.bind(null,r.syncEngine),yield function mS(n,e){return _S.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Sle}createDatastore(e){const t=kf(e.databaseInfo.databaseId),r=new ule(e.databaseInfo);return new hle(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return r=this.localStore,i=this.datastore,s=e.asyncQueue,o=t=>i$(this.syncEngine,t,0),a=$j.D()?new $j:new ole,new gle(r,i,s,o,a);var r,i,s,o,a}createSyncEngine(e,t){return function(i,s,o,a,l,u,c){const d=new Ole(i,s,o,a,l,u);return c&&(d.Ca=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=v(function*(r){const i=z(r);x("RemoteStore","RemoteStore shutting down."),i.C_.add(5),yield cc(i),i.F_.shutdown(),i.M_.set("Unknown")}),function t(r){return e.apply(this,arguments)})(this.remoteStore);var e}}class Ey{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Qt("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class nue{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Sn.UNAUTHENTICATED,this.clientId=PB.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=v(function*(a){x("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(x("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return v(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new k(S.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new mn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(v(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=fc(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function by(n,e){return YS.apply(this,arguments)}function YS(){return YS=v(function*(n,e){n.asyncQueue.verifyOperationInProgress(),x("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=v(function*(s){r.isEqual(s)||(yield Oj(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),YS.apply(this,arguments)}function JS(n,e){return ZS.apply(this,arguments)}function ZS(){return ZS=v(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function XS(n){return eC.apply(this,arguments)}(n);x("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>Yj(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>Yj(e.remoteStore,s)),n._onlineComponents=e}),ZS.apply(this,arguments)}function eC(){return eC=v(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){x("FirestoreClient","Using user provided OfflineComponentProvider");try{yield by(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function d$(n){return"FirebaseError"===n.name?n.code===S.FAILED_PRECONDITION||n.code===S.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;qr("Error using user provided cache. Falling back to memory cache: "+t),yield by(n,new vy)}}else x("FirestoreClient","Using default OfflineComponentProvider"),yield by(n,new vy);return n._offlineComponents}),eC.apply(this,arguments)}function Iy(n){return tC.apply(this,arguments)}function tC(){return tC=v(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(x("FirestoreClient","Using user provided OnlineComponentProvider"),yield JS(n,n._uninitializedComponentsProvider._online)):(x("FirestoreClient","Using default OnlineComponentProvider"),yield JS(n,new _c))),n._onlineComponents}),tC.apply(this,arguments)}function vc(n){return rC.apply(this,arguments)}function rC(){return rC=v(function*(n){const e=yield Iy(n),t=e.eventManager;return t.onListen=xle.bind(null,e.syncEngine),t.onUnlisten=kle.bind(null,e.syncEngine),t}),rC.apply(this,arguments)}function _$(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const y$=new Map;function iC(n,e,t){if(!t)throw new k(S.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function v$(n){if(!q.isDocumentKey(n))throw new k(S.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function E$(n){if(q.isDocumentKey(n))throw new k(S.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Ty(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(r=n).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof n?"a function":ee()}function Pe(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new k(S.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ty(n);throw new k(S.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class I${constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new k(S.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new k(S.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function fue(n,e,t,r){if(!0===e&&!0===r)throw new k(S.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=_$(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new k(S.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new k(S.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new k(S.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vf{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new I$({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new k(S.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new k(S.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new I$(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new uoe;switch(r.type){case"firstParty":return new foe(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new k(S.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=y$.get(t);r&&(x("ComponentProvider","Removing Datastore"),y$.delete(t),r.terminate())}(this),Promise.resolve()}}class jn{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new jn(this.firestore,e,this._query)}}class Jt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Jt(this.firestore,e,this._key)}}class fs extends jn{constructor(e,t,r){super(e,t,Qu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jt(this.firestore,null,new q(e))}withConverter(e){return new fs(this.firestore,e,this._path)}}function gue(n,e,...t){if(n=Kt(n),iC("collection","path",e),n instanceof Vf){const r=Ue.fromString(e,...t);return E$(r),new fs(n,null,r)}{if(!(n instanceof Jt||n instanceof fs))throw new k(S.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ue.fromString(e,...t));return E$(r),new fs(n.firestore,null,r)}}function T$(n,e,...t){if(n=Kt(n),1===arguments.length&&(e=PB.newId()),iC("doc","path",e),n instanceof Vf){const r=Ue.fromString(e,...t);return v$(r),new Jt(n,null,new q(r))}{if(!(n instanceof Jt||n instanceof fs))throw new k(S.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ue.fromString(e,...t));return v$(r),new Jt(n.firestore,n instanceof fs?n.converter:null,new q(r))}}class mue{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new X1(this,"async_queue_retry"),this.iu=()=>{const t=my();t&&x("AsyncQueue","Visibility state changed to "+t.visibilityState),this.zo.Qo()};const e=my();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const t=my();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const t=new mn;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return v(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(t){if(!xo(t))throw t;x("AsyncQueue","Operation failed with retryable error: "+t)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const t=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{throw this.eu=r,this.tu=!1,Qt("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(r)),r}).then(r=>(this.tu=!1,r))));return this.Ja=t,t}enqueueAfterDelay(e,t,r){this.su(),this.ru.indexOf(e)>-1&&(t=0);const i=yS.createAndSchedule(this,e,t,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&ee()}verifyOperationInProgress(){}uu(){var e=this;return v(function*(){let t;do{t=e.Ja,yield t}while(t!==e.Ja)})()}cu(e){for(const t of this.Xa)if(t.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Xa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}function sC(n){return function(t,r){if("object"!=typeof t||null===t)return!1;const i=t;for(const s of["next","error","complete"])if(s in i&&"function"==typeof i[s])return!0;return!1}(n)}class mt extends Vf{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new mue,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||D$(this),this._firestoreClient.terminate()}}function yue(n,e){const r="string"==typeof n?n:e||"(default)",i=vh("object"==typeof n?n:Hm(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=ML("firestore");s&&function pue(n,e,t,r={}){var i;const s=(n=Pe(n,Vf))._getSettings(),o=`${e}:${t}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&qr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if("string"==typeof r.mockUserToken)a=r.mockUserToken,l=Sn.MOCK_USER;else{a=kL(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new k(S.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Sn(u)}n._authCredentials=new coe(new NB(a,l))}}(i,...s)}return i}function Zt(n){return n._firestoreClient||D$(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function D$(n){var e,t,r;const i=n._freezeSettings(),s=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Hoe(n._databaseId,l,n._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,_$(c.experimentalLongPollingOptions),c.useFetchStreams));var l,c;n._firestoreClient=new nue(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(t=i.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class Za{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Za(_n.fromBase64String(e))}catch(t){throw new k(S.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Za(_n.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ec{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new k(S.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new It(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class oC{constructor(e){this._methodName=e}}class aC{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new k(S.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new k(S.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return fe(this._lat,e._lat)||fe(this._long,e._long)}}const Eue=/^__.*__$/;class bue{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Ys(e,this.data,this.fieldMask,t,this.fieldTransforms):new ec(e,this.data,t,this.fieldTransforms)}}class A${constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ys(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function R$(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ee()}}class wy{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new wy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return Sy(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(R$(this.Iu)&&Eue.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class Iue{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||kf(e)}pu(e,t,r,i=!1){return new wy({Iu:e,methodName:t,gu:r,path:It.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bc(n){const e=n._freezeSettings(),t=kf(n._databaseId);return new Iue(n._databaseId,!!e.ignoreUndefinedProperties,t)}function lC(n,e,t,r,i,s={}){const o=n.pu(s.merge||s.mergeFields?2:0,e,t,i);cC("Data must be an object, but it was:",o,r);const a=x$(r,o);let l,u;if(s.merge)l=new Mr(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=jf(e,d,t);if(!o.contains(h))throw new k(S.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);F$(c,h)||c.push(h)}l=new Mr(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new bue(new Un(a),l,u)}class Uf extends oC{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Uf}}function Xa(n,e){if(k$(n=Kt(n)))return cC("Unsupported field value:",e,n),x$(n,e);if(n instanceof oC)return function(r,i){if(!R$(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Xa(a,i.Vu(o));null==l&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if(null===(r=Kt(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return wU(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const s=Mt.fromDate(r);return{timestampValue:nc(i.serializer,s)}}if(r instanceof Mt){const s=new Mt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:nc(i.serializer,s)}}if(r instanceof aC)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Za)return{bytesValue:zU(i.serializer,r._byteString)};if(r instanceof Jt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:C1(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${Ty(r)}`)}(n,e)}function x$(n,e){const t={};return WB(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ko(n,(r,i)=>{const s=Xa(i,e.Eu(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function k$(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Mt||n instanceof aC||n instanceof Za||n instanceof Jt||n instanceof oC)}function cC(n,e,t){if(!k$(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=Ty(t);throw e.mu("an object"===r?n+" a custom object":n+" "+r)}var i}function jf(n,e,t){if((e=Kt(e))instanceof Ec)return e._internalPath;if("string"==typeof e)return Dy(n,e);throw Sy("Field path arguments must be of type string or ",n,!1,void 0,t)}const Sue=new RegExp("[~\\*/\\[\\]]");function Dy(n,e,t){if(e.search(Sue)>=0)throw Sy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ec(...e.split("."))._internalPath}catch{throw Sy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Sy(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new k(S.INVALID_ARGUMENT,a+n+l)}function F$(n,e){return n.some(t=>t.isEqual(e))}class dC{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Jt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Cue(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Cy("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Cue extends dC{data(){return super.data()}}function Cy(n,e){return"string"==typeof e?Dy(n,e):e instanceof Ec?e._internalPath:e._delegate._internalPath}class Rue{convertValue(e,t="none"){switch(Vo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(qs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ee()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ko(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new aC(Vt(e.latitude),Vt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=G_(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(cf(e));default:return null}}convertTimestamp(e){const t=Fo(e);return new Mt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Ue.fromString(e);se(tj(r));const i=new Ua(r.get(1),r.get(3)),s=new q(r.popFirst(5));return i.isEqual(t)||Qt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function fC(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class el{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Tc extends dC{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new My(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Cy("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class My extends Tc{data(e={}){return super.data(e)}}class wc{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new el(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new My(this._firestore,this._userDataWriter,r.key,r,new el(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new k(S.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new My(i._firestore,i._userDataWriter,a.doc.key,a.doc,new el(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||3!==a.type).map(a=>{const l=new My(i._firestore,i._userDataWriter,a.doc.key,a.doc,new el(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return 0!==a.type&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),1!==a.type&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:Mue(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Mue(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ee()}}function Pue(n){n=Pe(n,Jt);const e=Pe(n.firestore,mt);return function g$(n,e,t={}){const r=new mn;return n.asyncQueue.enqueueAndForget(v(function*(){return function(s,o,a,l,u){const c=new Ey({next:h=>{o.enqueueAndForget(()=>bS(s,d));const f=h.docs.has(a);!f&&h.fromCache?u.reject(new k(S.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&l&&"server"===l.source?u.reject(new k(S.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new wS(Qu(a.path),c,{includeMetadataChanges:!0,J_:!0});return vS(s,d)}(yield vc(n),n.asyncQueue,e,t,r)})),r.promise}(Zt(e),n._key).then(t=>pC(e,n,t))}class qo extends Rue{constructor(e){super(),this.firestore=e}convertBytes(e){return new Za(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Jt(this.firestore,null,t)}}function Oue(n,e,t){n=Pe(n,Jt);const r=Pe(n.firestore,mt),i=fC(n.converter,e,t);return Hf(r,[lC(bc(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Tt.none())])}function xue(n,e,t,...r){n=Pe(n,Jt);const i=Pe(n.firestore,mt),s=bc(i);let o;return o="string"==typeof(e=Kt(e))||e instanceof Ec?function P$(n,e,t,r,i,s){const o=n.pu(1,e,t),a=[jf(e,r,t)],l=[i];if(s.length%2!=0)throw new k(S.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(jf(e,s[h])),l.push(s[h+1]);const u=[],c=Un.empty();for(let h=a.length-1;h>=0;--h)if(!F$(u,a[h])){const f=a[h];let p=l[h];p=Kt(p);const g=o.Ru(f);if(p instanceof Uf)u.push(f);else{const m=Xa(p,g);null!=m&&(u.push(f),c.set(f,m))}}const d=new Mr(u);return new A$(c,d,o.fieldTransforms)}(s,"updateDoc",n._key,e,t,r):function M$(n,e,t,r){const i=n.pu(1,e,t);cC("Data must be an object, but it was:",i,r);const s=[],o=Un.empty();ko(r,(l,u)=>{const c=Dy(e,l,t);u=Kt(u);const d=i.Ru(c);if(u instanceof Uf)s.push(c);else{const h=Xa(u,d);null!=h&&(s.push(c),o.set(c,h))}});const a=new Mr(s);return new A$(o,a,i.fieldTransforms)}(s,"updateDoc",n._key,e),Hf(i,[o.toMutation(n._key,Tt.exists(!0))])}function kue(n){return Hf(Pe(n.firestore,mt),[new tc(n._key,Tt.none())])}function Fue(n,e){const t=Pe(n.firestore,mt),r=T$(n),i=fC(n.converter,e);return Hf(t,[lC(bc(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Tt.exists(!1))]).then(()=>r)}function Hf(n,e){return function(r,i){const s=new mn;return r.asyncQueue.enqueueAndForget(v(function*(){return function Fle(n,e,t){return RS.apply(this,arguments)}(yield function nC(n){return Iy(n).then(e=>e.syncEngine)}(r),i,s)})),s.promise}(Zt(n),e)}function pC(n,e,t){const r=t.docs.get(e._key),i=new qo(n);return new Tc(n,i,e._key,r,new el(t.hasPendingWrites,t.fromCache),e.converter)}!function(e,t=!0){ju=Aa,Ca(new Do("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new mt(new doe(r.getProvider("auth-internal")),new poe(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new k(S.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ua(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Jn(RB,"4.3.2",e),Jn(RB,"4.3.2","esm2017")}();var xy=function(){return xy=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var s in t=arguments[r])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},xy.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var Yue={includeMetadataChanges:!1};function _C(n,e){return void 0===e&&(e=Yue),new Fe(function(t){var r=function Lue(n,...e){var t,r,i;n=Kt(n);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||sC(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(sC(e[o])){const d=e[o];e[o]=null===(t=d.next)||void 0===t?void 0:t.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let l,u,c;if(n instanceof Jt)u=Pe(n.firestore,mt),c=Qu(n._key.path),l={next:d=>{e[o]&&e[o](pC(u,n,d))},error:e[o+1],complete:e[o+2]};else{const d=Pe(n,jn);u=Pe(d.firestore,mt),c=d._query;const h=new qo(u);l={next:f=>{e[o]&&e[o](new wc(u,h,d,f))},error:e[o+1],complete:e[o+2]},function L$(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new k(S.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query)}return function(h,f,p,g){const m=new Ey(g),y=new wS(f,m,p);return h.asyncQueue.enqueueAndForget(v(function*(){return vS(yield vc(h),y)})),()=>{m.Na(),h.asyncQueue.enqueueAndForget(v(function*(){return bS(yield vc(h),y)}))}}(Zt(u),c,a,l)}(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function rce(n,e){return void 0===e&&(e={}),function nce(n){return _C(n,{includeMetadataChanges:!0}).pipe(Ne(function(e){return e.docs}))}(n).pipe(Ne(function(t){return t.map(function(r){return function W$(n,e){var t;void 0===e&&(e={});var r=n.data(e);return n.exists()&&"object"==typeof r&&null!==r&&e.idField?xy(xy({},r),((t={})[e.idField]=n.id,t)):r}(r,e)})}))}class Dc{constructor(e){return e}}const Y$="firestore",EC=new X("angularfire2.firestore-instances");function ace(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Dc(r)}}const lce={provide:class sce{constructor(){return zm(Y$)}},deps:[[new kn,EC]]},uce={provide:Dc,useFactory:function oce(n,e){const t=oT(Y$,n,e);return t&&new Dc(t)},deps:[[new kn,EC],Mu]};let cce=(()=>{class n{constructor(){Jn("angularfire",Ih.full,"fst")}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Le({type:n});static \u0275inj=xe({providers:[uce,lce]})}return n})();function dce(n,...e){return{ngModule:cce,providers:[{provide:EC,useFactory:ace(n),multi:!0,deps:[Ee,zt,Wm,qm,[new kn,mD],[new kn,aT],...e]}]}}const J$=Zn(rce,!0),Z$=Zn(Fue,!0),Gf=Zn(gue,!0),hce=Zn(kue,!0),ky=Zn(T$,!0),fce=Zn(Pue,!0),pce=Zn(yue,!0),gce=Zn(Oue,!0),mce=Zn(xue,!0);class X${}class _ce{}const Xs="*";function yce(n,e){return{type:7,name:n,definitions:e,options:{}}}function Fy(n,e=null){return{type:4,styles:e,timings:n}}function eH(n,e=null){return{type:3,steps:n,options:e}}function tH(n,e=null){return{type:2,steps:n,options:e}}function _i(n){return{type:6,styles:n,offset:null}}function nH(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function bC(n=null){return{type:9,options:n}}function Fi(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}class zf{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class rH{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const{isArray:Ece}=Array,{getPrototypeOf:bce,prototype:Ice,keys:Tce}=Object;function iH(n){if(1===n.length){const e=n[0];if(Ece(e))return{args:e,keys:null};if(function wce(n){return n&&"object"==typeof n&&bce(n)===Ice}(e)){const t=Tce(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:Dce}=Array;function TC(n){return Ne(e=>function Sce(n,e){return Dce(e)?n(...e):n(e)}(n,e))}function sH(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function wC(...n){const e=ld(n),t=Wp(n),{args:r,keys:i}=iH(n);if(0===r.length)return bn([],e);const s=new Fe(function Cce(n,e,t=bi){return r=>{oH(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let l=0;l<i;l++)oH(e,()=>{const u=bn(n[l],e);let c=!1;u.subscribe(ct(r,d=>{s[l]=d,c||(c=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>sH(i,o):bi));return t?s.pipe(TC(t)):s}function oH(n,e,t){n?Ds(t,n,e):e()}const Ly=ao(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Wf(...n){return function Ace(){return Rl(1)}()(bn(n,ld(n)))}function aH(n){return new Fe(e=>{cn(n()).subscribe(e)})}function qf(n,e){const t=De(n)?n:()=>n,r=i=>i.error(t());return new Fe(e?i=>e.schedule(r,0,i):r)}function DC(){return St((n,e)=>{let t=null;n._refCount++;const r=ct(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class lH extends Fe{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,od(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ut;const t=this.getSubject();e.add(this.source.subscribe(ct(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ut.EMPTY)}return e}refCount(){return DC()(this)}}function $n(n){return n<=0?()=>ni:St((e,t)=>{let r=0;e.subscribe(ct(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Rn(n,e){return St((t,r)=>{let i=0;t.subscribe(ct(r,s=>n.call(e,s,i++)&&r.next(s)))})}function Vy(n){return St((e,t)=>{let r=!1;e.subscribe(ct(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function cH(n=Rce){return St((e,t)=>{let r=!1;e.subscribe(ct(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Rce(){return new Ly}function tl(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Rn((i,s)=>n(i,s,r)):bi,$n(1),t?Vy(e):cH(()=>new Ly))}function Kf(n,e){return De(e)?dn(n,e,1):dn(n,1)}function nl(n){return St((e,t)=>{let s,r=null,i=!1;r=e.subscribe(ct(t,void 0,void 0,o=>{s=cn(n(o,nl(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function SC(n){return n<=0?()=>ni:St((e,t)=>{let r=[];e.subscribe(ct(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function CC(n){return St((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Bt(n){return St((e,t)=>{cn(n).subscribe(ct(t,()=>t.complete(),sa)),!t.closed&&e.subscribe(t)})}const Ie="primary",Qf=Symbol("RouteTitle");class Oce{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Sc(n){return new Oce(n)}function xce(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function ps(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!hH(n[i],e[i]))return!1;return!0}function hH(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function fH(n){return n.length>0?n[n.length-1]:null}function Ko(n){return function vce(n){return!!n&&(n instanceof Fe||De(n.lift)&&De(n.subscribe))}(n)?n:Qd(n)?bn(Promise.resolve(n)):ue(n)}const Fce={exact:function mH(n,e,t){if(!rl(n.segments,e.segments)||!By(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!mH(n.children[r],e.children[r],t))return!1;return!0},subset:_H},pH={exact:function Lce(n,e){return ps(n,e)},subset:function Vce(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>hH(n[t],e[t]))},ignored:()=>!0};function gH(n,e,t){return Fce[t.paths](n.root,e.root,t.matrixParams)&&pH[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function _H(n,e,t){return yH(n,e,e.segments,t)}function yH(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!rl(i,t)||e.hasChildren()||!By(i,t,r))}if(n.segments.length===t.length){if(!rl(n.segments,t)||!By(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!_H(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(rl(n.segments,i)&&By(n.segments,i,r)&&n.children[Ie])&&yH(n.children[Ie],e,s,r)}}function By(n,e,t){return e.every((r,i)=>pH[t](n[i].parameters,r.parameters))}class Cc{constructor(e=new ot([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Sc(this.queryParams)),this._queryParamMap}toString(){return jce.serialize(this)}}class ot{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Uy(this)}}class Yf{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Sc(this.parameters)),this._parameterMap}toString(){return bH(this)}}function rl(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Jf=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=H({token:n,factory:function(){return new AC},providedIn:"root"})}return n})();class AC{parse(e){const t=new Zce(e);return new Cc(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Zf(e.root,!0)}`,r=function Gce(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${jy(t)}=${jy(i)}`).join("&"):`${jy(t)}=${jy(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams),i="string"==typeof e.fragment?`#${function $ce(n){return encodeURI(n)}(e.fragment)}`:"";return`${t}${r}${i}`}}const jce=new AC;function Uy(n){return n.segments.map(e=>bH(e)).join("/")}function Zf(n,e){if(!n.hasChildren())return Uy(n);if(e){const t=n.children[Ie]?Zf(n.children[Ie],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==Ie&&r.push(`${i}:${Zf(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Uce(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===Ie&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==Ie&&(t=t.concat(e(i,r)))}),t}(n,(r,i)=>i===Ie?[Zf(n.children[Ie],!1)]:[`${i}:${Zf(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ie]?`${Uy(n)}/${t[0]}`:`${Uy(n)}/(${t.join("//")})`}}function vH(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function jy(n){return vH(n).replace(/%3B/gi,";")}function RC(n){return vH(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $y(n){return decodeURIComponent(n)}function EH(n){return $y(n.replace(/\+/g,"%20"))}function bH(n){return`${RC(n.path)}${function Hce(n){return Object.keys(n).map(e=>`;${RC(e)}=${RC(n[e])}`).join("")}(n.parameters)}`}const zce=/^[^\/()?;#]+/;function NC(n){const e=n.match(zce);return e?e[0]:""}const Wce=/^[^\/()?;=#]+/,Kce=/^[^=?&#]+/,Yce=/^[^&#]+/;class Zce{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ot([],{}):new ot([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Ie]=new ot(e,t)),r}parseSegment(){const e=NC(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new C(4009,!1);return this.capture(e),new Yf($y(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function qce(n){const e=n.match(Wce);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=NC(this.remaining);i&&(r=i,this.capture(r))}e[$y(t)]=$y(r)}parseQueryParam(e){const t=function Qce(n){const e=n.match(Kce);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function Jce(n){const e=n.match(Yce);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=EH(t),s=EH(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=NC(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new C(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Ie);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[Ie]:new ot([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new C(4011,!1)}}function IH(n){return n.segments.length>0?new ot([],{[Ie]:n}):n}function TH(n){const e={};for(const r of Object.keys(n.children)){const s=TH(n.children[r]);if(r===Ie&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function Xce(n){if(1===n.numberOfChildren&&n.children[Ie]){const e=n.children[Ie];return new ot(n.segments.concat(e.segments),e.children)}return n}(new ot(n.segments,e))}function il(n){return n instanceof Cc}function wH(n){let e;const i=IH(function t(s){const o={};for(const l of s.children){const u=t(l);o[l.outlet]=u}const a=new ot(s.url,o);return s===n&&(e=a),a}(n.root));return e??i}function DH(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(0===e.length)return MC(i,i,i,t,r);const s=function tde(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new CH(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([l,u])=>{a[l]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new CH(t,e,r)}(e);if(s.toRoot())return MC(i,i,new ot([],{}),t,r);const o=function nde(n,e,t){if(n.isAbsolute)return new Gy(e,!0,0);if(!t)return new Gy(e,!1,NaN);if(null===t.parent)return new Gy(t,!0,0);const r=Hy(n.commands[0])?0:1;return function rde(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new C(4005,!1);i=r.segments.length}return new Gy(r,!1,i-s)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(s,i,n),a=o.processChildren?ep(o.segmentGroup,o.index,s.commands):AH(o.segmentGroup,o.index,s.commands);return MC(i,o.segmentGroup,a,t,r)}function Hy(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Xf(n){return"object"==typeof n&&null!=n&&n.outlets}function MC(n,e,t,r,i){let o,s={};r&&Object.entries(r).forEach(([l,u])=>{s[l]=Array.isArray(u)?u.map(c=>`${c}`):`${u}`}),o=n===e?t:SH(n,e,t);const a=IH(TH(o));return new Cc(a,s,i)}function SH(n,e,t){const r={};return Object.entries(n.children).forEach(([i,s])=>{r[i]=s===e?t:SH(s,e,t)}),new ot(n.segments,r)}class CH{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Hy(r[0]))throw new C(4003,!1);const i=r.find(Xf);if(i&&i!==fH(r))throw new C(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Gy{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function AH(n,e,t){if(n||(n=new ot([],{})),0===n.segments.length&&n.hasChildren())return ep(n,e,t);const r=function sde(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(Xf(a))break;const l=`${a}`,u=r<t.length-1?t[r+1]:null;if(i>0&&void 0===l)break;if(l&&u&&"object"==typeof u&&void 0===u.outlets){if(!NH(l,u,o))return s;r+=2}else{if(!NH(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new ot(n.segments.slice(0,r.pathIndex),{});return s.children[Ie]=new ot(n.segments.slice(r.pathIndex),n.children),ep(s,0,i)}return r.match&&0===i.length?new ot(n.segments,{}):r.match&&!n.hasChildren()?PC(n,e,t):r.match?ep(n,0,i):PC(n,e,t)}function ep(n,e,t){if(0===t.length)return new ot(n.segments,{});{const r=function ide(n){return Xf(n[0])?n[0].outlets:{[Ie]:n}}(t),i={};if(Object.keys(r).some(s=>s!==Ie)&&n.children[Ie]&&1===n.numberOfChildren&&0===n.children[Ie].segments.length){const s=ep(n.children[Ie],e,t);return new ot(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=AH(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new ot(n.segments,i)}}function PC(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(Xf(s)){const l=ode(s.outlets);return new ot(r,l)}if(0===i&&Hy(t[0])){r.push(new Yf(n.segments[e].path,RH(t[0]))),i++;continue}const o=Xf(s)?s.outlets[Ie]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&Hy(a)?(r.push(new Yf(o,RH(a))),i+=2):(r.push(new Yf(o,{})),i++)}return new ot(r,{})}function ode(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=PC(new ot([],{}),0,r))}),e}function RH(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function NH(n,e,t){return n==t.path&&ps(e,t.parameters)}const tp="imperative";class gs{constructor(e,t){this.id=e,this.url=t}}class zy extends gs{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Qo extends gs{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class np extends gs{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ac extends gs{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class Wy extends gs{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class MH extends gs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ade extends gs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lde extends gs{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ude extends gs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cde extends gs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dde{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class hde{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class fde{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pde{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gde{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mde{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class PH{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class OC{}class xC{constructor(e){this.url=e}}class _de{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Rc,this.attachRef=null}}let Rc=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new _de,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class OH{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=kC(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=kC(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=FC(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return FC(e,this._root).map(t=>t.value)}}function kC(n,e){if(n===e.value)return e;for(const t of e.children){const r=kC(n,t);if(r)return r}return null}function FC(n,e){if(n===e.value)return[e];for(const t of e.children){const r=FC(n,t);if(r.length)return r.unshift(e),r}return[]}class eo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Nc(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class xH extends OH{constructor(e,t){super(e),this.snapshot=t,LC(this,e)}toString(){return this.snapshot.toString()}}function kH(n,e){const t=function yde(n,e){const o=new qy([],{},{},"",{},Ie,e,null,{});return new LH("",new eo(o,[]))}(0,e),r=new ri([new Yf("",{})]),i=new ri({}),s=new ri({}),o=new ri({}),a=new ri(""),l=new Mc(r,i,o,a,s,Ie,e,t.root);return l.snapshot=t.root,new xH(new eo(l,[]),t)}class Mc{constructor(e,t,r,i,s,o,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Ne(u=>u[Qf]))??ue(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ne(e=>Sc(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ne(e=>Sc(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function FH(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function vde(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class qy{get title(){return this.data?.[Qf]}constructor(e,t,r,i,s,o,a,l,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Sc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Sc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class LH extends OH{constructor(e,t){super(t),this.url=e,LC(this,t)}toString(){return VH(this._root)}}function LC(n,e){e.value._routerState=n,e.children.forEach(t=>LC(n,t))}function VH(n){const e=n.children.length>0?` { ${n.children.map(VH).join(", ")} } `:"";return`${n.value}${e}`}function VC(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ps(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),ps(e.params,t.params)||n.paramsSubject.next(t.params),function kce(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ps(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),ps(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function BC(n,e){const t=ps(n.params,e.params)&&function Bce(n,e){return rl(n,e)&&n.every((t,r)=>ps(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||BC(n.parent,e.parent))}let UC=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ie,this.activateEvents=new ae,this.deactivateEvents=new ae,this.attachEvents=new ae,this.detachEvents=new ae,this.parentContexts=B(Rc),this.location=B(di),this.changeDetector=B(Ni),this.environmentInjector=B(Cr),this.inputBinder=B(Ky,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new C(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new C(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new C(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new C(4013,!1);this._activatedRoute=t;const i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Ede(t,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=$({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[On]})}return n})();class Ede{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Mc?this.route:e===Rc?this.childContexts:this.parent.get(e,t)}}const Ky=new X("");let BH=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=wC([r.queryParams,r.params,r.data]).pipe(Ii(([s,o,a],l)=>(a={...s,...o,...a},0===l?ue(a):Promise.resolve(a)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const o=function FJ(n){const e=Ve(n);if(!e)return null;const t=new Hd(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(o)for(const{templateName:a}of o.inputs)t.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=H({token:n,factory:n.\u0275fac})}return n})();function rp(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Ide(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return rp(n,r,i);return rp(n,r)})}(n,e,t);return new eo(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>rp(n,a)),o}}const r=function Tde(n){return new Mc(new ri(n.url),new ri(n.params),new ri(n.queryParams),new ri(n.fragment),new ri(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>rp(n,s));return new eo(r,i)}}const jC="ngNavigationCancelingError";function UH(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=il(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=jH(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function jH(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[jC]=!0,r.cancellationCode=e,t&&(r.url=t),r}function $H(n){return n&&n[jC]}let HH=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=nn({type:n,selectors:[["ng-component"]],standalone:!0,features:[ci],decls:1,vars:0,template:function(r,i){1&r&&Et(0,"router-outlet")},dependencies:[UC],encapsulation:2})}return n})();function $C(n){const e=n.children&&n.children.map($C),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ie&&(t.component=HH),t}function Li(n){return n.outlet||Ie}function ip(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Mde{constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),VC(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Nc(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Nc(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Nc(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const i=Nc(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new mde(s.value.snapshot))}),e.children.length&&this.forwardEvent(new pde(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(VC(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),VC(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=ip(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class GH{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Qy{constructor(e,t){this.component=e,this.route=t}}function Pde(n,e,t){const r=n._root;return sp(r,e?e._root:null,t,[r.value])}function Pc(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function eW(n){return null!==Jp(n)}(n)?e.get(n):n:r}function sp(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Nc(e);return n.children.forEach(o=>{(function xde(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function kde(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!rl(n.url,e.url);case"pathParamsOrQueryParamsChange":return!rl(n.url,e.url)||!ps(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!BC(n,e)||!ps(n.queryParams,e.queryParams);default:return!BC(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new GH(r)):(s.data=o.data,s._resolvedData=o._resolvedData),sp(n,e,s.component?a?a.children:null:t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Qy(a.outlet.component,o))}else o&&op(e,a,i),i.canActivateChecks.push(new GH(r)),sp(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>op(a,t.getContext(o),i)),i}function op(n,e,t){const r=Nc(n),i=n.value;Object.entries(r).forEach(([s,o])=>{op(o,i.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new Qy(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function ap(n){return"function"==typeof n}function zH(n){return n instanceof Ly||"EmptyError"===n?.name}const Yy=Symbol("INITIAL_VALUE");function Oc(){return Ii(n=>wC(n.map(e=>e.pipe($n(1),function uH(...n){const e=ld(n);return St((t,r)=>{(e?Wf(n,t,e):Wf(n,t)).subscribe(r)})}(Yy)))).pipe(Ne(e=>{for(const t of e)if(!0!==t){if(t===Yy)return Yy;if(!1===t||t instanceof Cc)return t}return!0}),Rn(e=>e!==Yy),$n(1)))}function WH(n){return function Vp(...n){return Bp(n)}(gn(e=>{if(il(e))throw UH(0,e)}),Ne(e=>!0===e))}class Jy{constructor(e){this.segmentGroup=e||null}}class qH{constructor(e){this.urlTree=e}}function xc(n){return qf(new Jy(n))}function KH(n){return qf(new qH(n))}class the{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new C(4002,!1)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ue(r);if(i.numberOfChildren>1||!i.children[Ie])return qf(new C(4e3,!1));i=i.children[Ie]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new Cc(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=t[a]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return Object.entries(t.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,r,i)}),new ot(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new C(4001,!1);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}const HC={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function nhe(n,e,t,r,i){const s=GC(n,e,t);return s.matched?(r=function Dde(n,e){return n.providers&&!n._injector&&(n._injector=kb(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function Zde(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?ue(i.map(o=>{const a=Pc(o,n);return Ko(function jde(n){return n&&ap(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(Oc(),WH()):ue(!0)}(r,e,t).pipe(Ne(o=>!0===o?s:{...HC}))):ue(s)}function GC(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...HC}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||xce)(t,n,e);if(!i)return{...HC};const s={};Object.entries(i.posParams??{}).forEach(([a,l])=>{s[a]=l.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function QH(n,e,t,r){return t.length>0&&function she(n,e,t){return t.some(r=>Zy(n,e,r)&&Li(r)!==Ie)}(n,t,r)?{segmentGroup:new ot(e,ihe(r,new ot(t,n.children))),slicedSegments:[]}:0===t.length&&function ohe(n,e,t){return t.some(r=>Zy(n,e,r))}(n,t,r)?{segmentGroup:new ot(n.segments,rhe(n,0,t,r,n.children)),slicedSegments:t}:{segmentGroup:new ot(n.segments,n.children),slicedSegments:t}}function rhe(n,e,t,r,i){const s={};for(const o of r)if(Zy(n,t,o)&&!i[Li(o)]){const a=new ot([],{});s[Li(o)]=a}return{...i,...s}}function ihe(n,e){const t={};t[Ie]=e;for(const r of n)if(""===r.path&&Li(r)!==Ie){const i=new ot([],{});t[Li(r)]=i}return t}function Zy(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class che{constructor(e,t,r,i,s,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new the(this.urlSerializer,this.urlTree)}noMatchError(e){return new C(4002,!1)}recognize(){const e=QH(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Ie).pipe(nl(t=>{if(t instanceof qH)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof Jy?this.noMatchError(t):t}),Ne(t=>{const r=new qy([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ie,this.rootComponentType,null,{}),i=new eo(r,t),s=new LH("",i),o=function ede(n,e,t=null,r=null){return DH(wH(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Ie).pipe(nl(r=>{throw r instanceof Jy?this.noMatchError(r):r}))}inheritParamsAndData(e){const t=e.value,r=FH(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i,!0)}processChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return bn(i).pipe(Kf(s=>{const o=r.children[s],a=function Rde(n,e){const t=n.filter(r=>Li(r)===e);return t.push(...n.filter(r=>Li(r)!==e)),t}(t,s);return this.processSegmentGroup(e,a,o,s)}),function Mce(n,e){return St(function Nce(n,e,t,r,i){return(s,o)=>{let a=t,l=e,u=0;s.subscribe(ct(o,c=>{const d=u++;l=a?n(l,c,d):(a=!0,c),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}(n,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),Vy(null),function Pce(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Rn((i,s)=>n(i,s,r)):bi,SC(1),t?Vy(e):cH(()=>new Ly))}(),dn(s=>{if(null===s)return xc(r);const o=YH(s);return function dhe(n){n.sort((e,t)=>e.value.outlet===Ie?-1:t.value.outlet===Ie?1:e.value.outlet.localeCompare(t.value.outlet))}(o),ue(o)}))}processSegment(e,t,r,i,s,o){return bn(t).pipe(Kf(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,r,i,s,o).pipe(nl(l=>{if(l instanceof Jy)return ue(null);throw l}))),tl(a=>!!a),nl(a=>{if(zH(a))return function lhe(n,e,t){return 0===e.length&&!n.children[t]}(r,i,s)?ue([]):xc(r);throw a}))}processSegmentAgainstRoute(e,t,r,i,s,o,a){return function ahe(n,e,t,r){return!!(Li(n)===r||r!==Ie&&Zy(e,t,n))&&("**"===n.path||GC(e,n,t).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,o):xc(i):xc(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?KH(s):this.applyRedirects.lineralizeSegments(r,s).pipe(dn(o=>{const a=new ot(o,{});return this.processSegment(e,t,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:l,remainingSegments:u,positionalParamSegments:c}=GC(t,i,s);if(!a)return xc(t);const d=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,c);return i.redirectTo.startsWith("/")?KH(d):this.applyRedirects.lineralizeSegments(i,d).pipe(dn(h=>this.processSegment(e,r,t,h.concat(u),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s,o){let a;if("**"===r.path){const l=i.length>0?fH(i).parameters:{};a=ue({snapshot:new qy(i,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,JH(r),Li(r),r.component??r._loadedComponent??null,r,ZH(r)),consumedSegments:[],remainingSegments:[]}),t.children={}}else a=nhe(t,r,i,e).pipe(Ne(({matched:l,consumedSegments:u,remainingSegments:c,parameters:d})=>l?{snapshot:new qy(u,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,JH(r),Li(r),r.component??r._loadedComponent??null,r,ZH(r)),consumedSegments:u,remainingSegments:c}:null));return a.pipe(Ii(l=>null===l?xc(t):this.getChildConfig(e=r._injector??e,r,i).pipe(Ii(({routes:u})=>{const c=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=l,{segmentGroup:p,slicedSegments:g}=QH(t,h,f,u);if(0===g.length&&p.hasChildren())return this.processChildren(c,u,p).pipe(Ne(y=>null===y?null:[new eo(d,y)]));if(0===u.length&&0===g.length)return ue([new eo(d,[])]);const m=Li(r)===s;return this.processSegment(c,u,p,g,m?Ie:s,!0).pipe(Ne(y=>[new eo(d,y)]))}))))}getChildConfig(e,t,r){return t.children?ue({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?ue({routes:t._loadedRoutes,injector:t._loadedInjector}):function Jde(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?ue(!0):ue(i.map(o=>{const a=Pc(o,n);return Ko(function Lde(n){return n&&ap(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(Oc(),WH())}(e,t,r).pipe(dn(i=>i?this.configLoader.loadChildren(e,t).pipe(gn(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function ehe(n){return qf(jH(!1,3))}())):ue({routes:[],injector:e})}}function hhe(n){const e=n.value.routeConfig;return e&&""===e.path}function YH(n){const e=[],t=new Set;for(const r of n){if(!hhe(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=YH(r.children);e.push(new eo(r.value,i))}return e.filter(r=>!t.has(r))}function JH(n){return n.data||{}}function ZH(n){return n.resolve||{}}function phe(n,e){return dn(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ue(t);let s=0;return bn(i).pipe(Kf(o=>function ghe(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!XH(i)&&(s[Qf]=i.title),function mhe(n,e,t,r){const i=function _he(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return ue({});const s={};return bn(i).pipe(dn(o=>function yhe(n,e,t,r){const i=ip(e)??r,s=Pc(n,i);return Ko(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[o],e,t,r).pipe(tl(),gn(a=>{s[o]=a}))),SC(1),function dH(n){return Ne(()=>n)}(s),nl(o=>zH(o)?ni:qf(o)))}(s,n,e,r).pipe(Ne(o=>(n._resolvedData=o,n.data=FH(n,t).resolve,i&&XH(i)&&(n.data[Qf]=i.title),null)))}(o.route,r,n,e)),gn(()=>s++),SC(1),dn(o=>s===i.length?ue(t):ni))})}function XH(n){return"string"==typeof n.title||null===n.title}function zC(n){return Ii(e=>{const t=n(e);return t?bn(t).pipe(Ne(()=>e)):ue(e)})}const kc=new X("ROUTES");let WC=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=B(Xk)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ue(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Ko(t.loadComponent()).pipe(Ne(eG),gn(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),CC(()=>{this.componentLoaders.delete(t)})),i=new lH(r,()=>new qe).pipe(DC());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ue({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function vhe(n,e,t,r){return Ko(n.loadChildren()).pipe(Ne(eG),dn(i=>i instanceof lk||Array.isArray(i)?ue(i):bn(e.compileModuleAsync(i))),Ne(i=>{r&&r(n);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(t).injector,o=s.get(kc,[],{optional:!0,self:!0}).flat()),{routes:o.map($C),injector:s}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(CC(()=>{this.childrenLoaders.delete(r)})),o=new lH(s,()=>new qe).pipe(DC());return this.childrenLoaders.set(r,o),o}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function eG(n){return function Ehe(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Xy=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new qe,this.transitionAbortSubject=new qe,this.configLoader=B(WC),this.environmentInjector=B(Cr),this.urlSerializer=B(Jf),this.rootContexts=B(Rc),this.inputBindingEnabled=null!==B(Ky,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ue(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new hde(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new dde(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t,r,i){return this.transitions=new ri({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:t.urlHandlingStrategy.extract(r),urlAfterRedirects:t.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:tp,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Rn(s=>0!==s.id),Ne(s=>({...s,extractedUrl:t.urlHandlingStrategy.extract(s.rawUrl)})),Ii(s=>{this.currentTransition=s;let o=!1,a=!1;return ue(s).pipe(gn(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ii(l=>{const u=l.currentBrowserUrl.toString(),c=!t.navigated||l.extractedUrl.toString()!==u||u!==l.currentUrlTree.toString();if(!c&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const h="";return this.events.next(new Ac(l.id,this.urlSerializer.serialize(l.rawUrl),h,0)),l.resolve(null),ni}if(t.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return ue(l).pipe(Ii(h=>{const f=this.transitions?.getValue();return this.events.next(new zy(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?ni:Promise.resolve(h)}),function fhe(n,e,t,r,i,s){return dn(o=>function uhe(n,e,t,r,i,s,o="emptyOnly"){return new che(n,e,t,r,i,o,s).recognize()}(n,e,t,r,o.extractedUrl,i,s).pipe(Ne(({state:a,tree:l})=>({...o,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),gn(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const f=new MH(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(c&&t.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:h,extractedUrl:f,source:p,restoredState:g,extras:m}=l,y=new zy(h,this.urlSerializer.serialize(f),p,g);this.events.next(y);const _=kH(0,this.rootComponentType).snapshot;return this.currentTransition=s={...l,targetSnapshot:_,urlAfterRedirects:f,extras:{...m,skipLocationChange:!1,replaceUrl:!1}},ue(s)}{const h="";return this.events.next(new Ac(l.id,this.urlSerializer.serialize(l.extractedUrl),h,1)),l.resolve(null),ni}}),gn(l=>{const u=new ade(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),Ne(l=>(this.currentTransition=s={...l,guards:Pde(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},s)),function Hde(n,e){return dn(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?ue({...t,guardsResult:!0}):function Gde(n,e,t,r){return bn(n).pipe(dn(i=>function Yde(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?ue(s.map(a=>{const l=ip(e)??i,u=Pc(a,l);return Ko(function Ude(n){return n&&ap(n.canDeactivate)}(u)?u.canDeactivate(n,e,t,r):l.runInContext(()=>u(n,e,t,r))).pipe(tl())})).pipe(Oc()):ue(!0)}(i.component,i.route,t,e,r)),tl(i=>!0!==i,!0))}(o,r,i,n).pipe(dn(a=>a&&function Fde(n){return"boolean"==typeof n}(a)?function zde(n,e,t,r){return bn(e).pipe(Kf(i=>Wf(function qde(n,e){return null!==n&&e&&e(new fde(n)),ue(!0)}(i.route.parent,r),function Wde(n,e){return null!==n&&e&&e(new gde(n)),ue(!0)}(i.route,r),function Qde(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function Ode(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>aH(()=>ue(o.guards.map(l=>{const u=ip(o.node)??t,c=Pc(l,u);return Ko(function Bde(n){return n&&ap(n.canActivateChild)}(c)?c.canActivateChild(r,n):u.runInContext(()=>c(r,n))).pipe(tl())})).pipe(Oc())));return ue(s).pipe(Oc())}(n,i.path,t),function Kde(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ue(!0);const i=r.map(s=>aH(()=>{const o=ip(e)??t,a=Pc(s,o);return Ko(function Vde(n){return n&&ap(n.canActivate)}(a)?a.canActivate(e,n):o.runInContext(()=>a(e,n))).pipe(tl())}));return ue(i).pipe(Oc())}(n,i.route,t))),tl(i=>!0!==i,!0))}(r,s,n,e):ue(a)),Ne(a=>({...t,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),gn(l=>{if(s.guardsResult=l.guardsResult,il(l.guardsResult))throw UH(0,l.guardsResult);const u=new lde(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),Rn(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),zC(l=>{if(l.guards.canActivateChecks.length)return ue(l).pipe(gn(u=>{const c=new ude(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(c)}),Ii(u=>{let c=!1;return ue(u).pipe(phe(t.paramsInheritanceStrategy,this.environmentInjector),gn({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(u,"",2)}}))}),gn(u=>{const c=new cde(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(c)}))}),zC(l=>{const u=c=>{const d=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(c.routeConfig).pipe(gn(h=>{c.component=h}),Ne(()=>{})));for(const h of c.children)d.push(...u(h));return d};return wC(u(l.targetSnapshot.root)).pipe(Vy(),$n(1))}),zC(()=>this.afterPreactivation()),Ne(l=>{const u=function bde(n,e,t){const r=rp(n,e._root,t?t._root:void 0);return new xH(r,e)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s={...l,targetRouterState:u},s}),gn(()=>{this.events.next(new OC)}),((n,e,t,r)=>Ne(i=>(new Mde(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),$n(1),gn({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Qo(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),t.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),Bt(this.transitionAbortSubject.pipe(gn(l=>{throw l}))),CC(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),nl(l=>{if(a=!0,$H(l))this.events.next(new np(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),function wde(n){return $H(n)&&il(n.url)}(l)?this.events.next(new xC(l.url)):s.resolve(!1);else{this.events.next(new Wy(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(t.errorHandler(l))}catch(u){s.reject(u)}}return ni}))}))}cancelNavigationTransition(t,r,i){const s=new np(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function tG(n){return n!==tp}let nG=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===Ie);return r}getResolvedTitleForRoute(t){return t.data[Qf]}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=H({token:n,factory:function(){return B(bhe)},providedIn:"root"})}return n})(),bhe=(()=>{class n extends nG{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||n)(U(IL))};static#t=this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ihe=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=H({token:n,factory:function(){return B(whe)},providedIn:"root"})}return n})();class The{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let whe=(()=>{class n extends The{static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=Gt(n)))(i||n)}}();static#t=this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const ev=new X("",{providedIn:"root",factory:()=>({})});let Dhe=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=H({token:n,factory:function(){return B(She)},providedIn:"root"})}return n})(),She=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var lp=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(lp||{});function rG(n,e){n.events.pipe(Rn(t=>t instanceof Qo||t instanceof np||t instanceof Wy||t instanceof Ac),Ne(t=>t instanceof Qo||t instanceof Ac?lp.COMPLETE:t instanceof np&&(0===t.code||1===t.code)?lp.REDIRECTING:lp.FAILED),Rn(t=>t!==lp.REDIRECTING),$n(1)).subscribe(()=>{e()})}function Che(n){throw n}function Ahe(n,e,t){return e.parse("/")}const Rhe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Nhe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ir=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=B(Jk),this.isNgZoneEnabled=!1,this._events=new qe,this.options=B(ev,{optional:!0})||{},this.pendingTasks=B(Zk),this.errorHandler=this.options.errorHandler||Che,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Ahe,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=B(Dhe),this.routeReuseStrategy=B(Ihe),this.titleStrategy=B(nG),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=B(kc,{optional:!0})?.flat()??[],this.navigationTransitions=B(Xy),this.urlSerializer=B(Jf),this.location=B(gI),this.componentInputBindingEnabled=!!B(Ky,{optional:!0}),this.eventsSubscription=new Ut,this.isNgZoneEnabled=B(Ee)instanceof Ee&&Ee.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Cc,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=kH(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(iG(r)&&this._events.next(r));if(r instanceof zy)tG(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof Ac)this.rawUrlTree=i.rawUrl;else if(r instanceof MH){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(s,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof OC)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof np)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof xC){const s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),o={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||tG(i.source)};this.scheduleNavigation(s,tp,null,o,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof Wy&&this.restoreHistory(i,!0),r instanceof Qo&&(this.navigated=!0),iG(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),tp,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const l={...i};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map($C),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,u=l?this.currentUrlTree.fragment:o;let d,c=null;switch(a){case"merge":c={...this.currentUrlTree.queryParams,...s};break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=s||null}null!==c&&(c=this.removeEmptyProps(c));try{d=wH(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),d=this.currentUrlTree.root}return DH(d,t,c,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=il(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,tp,null,r)}navigate(t,r={skipLocationChange:!1}){return function Mhe(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new C(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...Rhe}:!1===r?{...Nhe}:r,il(t))return gH(this.currentUrlTree,t,i);const s=this.parseUrl(t);return gH(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,u;o?(a=o.resolve,l=o.reject,u=o.promise):u=new Promise((d,h)=>{a=d,l=h});const c=this.pendingTasks.add();return rG(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(c))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:s,resolve:a,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function iG(n){return!(n instanceof OC||n instanceof xC)}let tv=(()=>{class n{constructor(t,r,i,s,o,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new qe,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const l=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=t.events.subscribe(u=>{u instanceof Qo&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function aP(n,e,t){return function o8(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?oP:PE}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||n)(E(ir),E(Mc),function fa(n){return function Sq(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(eN(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(xn(),n)}("tabindex"),E(Hr),E(Qe),E(Ta))};static#t=this.\u0275dir=$({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&ye("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&r&&Je("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Su],skipLocationChange:["skipLocationChange","skipLocationChange",Su],replaceUrl:["replaceUrl","replaceUrl",Su],routerLink:"routerLink"},standalone:!0,features:[IO,On]})}return n})(),sG=(()=>{class n{get isActive(){return this._isActive}constructor(t,r,i,s,o){this.router=t,this.element=r,this.renderer=i,this.cdr=s,this.link=o,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new ae,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof Qo&&this.update()})}ngAfterContentInit(){ue(this.links.changes,ue(null)).pipe(Rl()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=bn(t).pipe(Rl()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const t=this.hasActiveLinks();this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function Phe(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&t.isActive(i.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static#e=this.\u0275fac=function(r){return new(r||n)(E(ir),E(Qe),E(Hr),E(Ni),E(tv,8))};static#t=this.\u0275dir=$({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,s){if(1&r&&function Rt(n,e,t,r){const i=Be();if(i.firstCreatePass){const s=xn();Ok(i,new Nk(e,t,r),s.index),function aY(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),2==(2&t)&&(i.staticContentQueries=!0)}Pk(i,P(),t)}(s,tv,5),2&r){let o;Ze(o=Xe())&&(i.links=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[On]})}return n})();class oG{}let Ohe=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Rn(t=>t instanceof Qo),Kf(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=kb(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return bn(i).pipe(Rl())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):ue(null);const s=i.pipe(dn(o=>null===o?ue(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return r.loadComponent&&!r._loadedComponent?bn([s,this.loader.loadComponent(r)]).pipe(Rl()):s})}static#e=this.\u0275fac=function(r){return new(r||n)(U(ir),U(Xk),U(Cr),U(oG),U(WC))};static#t=this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const qC=new X("");let aG=(()=>{class n{constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof zy?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Qo?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Ac&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof PH&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new PH(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function QP(){throw new Error("invalid")}()};static#t=this.\u0275prov=H({token:n,factory:n.\u0275fac})}return n})();function to(n,e){return{\u0275kind:n,\u0275providers:e}}function uG(){const n=B(zt);return e=>{const t=n.get(Fs);if(e!==t.components[0])return;const r=n.get(ir),i=n.get(cG);1===n.get(KC)&&r.initialNavigation(),n.get(dG,null,Ae.Optional)?.setUpPreloading(),n.get(qC,null,Ae.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const cG=new X("",{factory:()=>new qe}),KC=new X("",{providedIn:"root",factory:()=>1}),dG=new X("");function Lhe(n){return to(0,[{provide:dG,useExisting:Ohe},{provide:oG,useExisting:n}])}const hG=new X("ROUTER_FORROOT_GUARD"),Bhe=[gI,{provide:Jf,useClass:AC},ir,Rc,{provide:Mc,useFactory:function lG(n){return n.routerState.root},deps:[ir]},WC,[]];function Uhe(){return new oF("Router",ir)}let fG=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[Bhe,[],{provide:kc,multi:!0,useValue:t},{provide:hG,useFactory:Ghe,deps:[[ir,new kn,new Eg]]},{provide:ev,useValue:r||{}},r?.useHash?{provide:Ta,useClass:jJ}:{provide:Ta,useClass:FF},{provide:qC,useFactory:()=>{const n=B(nX),e=B(Ee),t=B(ev),r=B(Xy),i=B(Jf);return t.scrollOffset&&n.setOffset(t.scrollOffset),new aG(i,r,n,e,t)}},r?.preloadingStrategy?Lhe(r.preloadingStrategy).\u0275providers:[],{provide:oF,multi:!0,useFactory:Uhe},r?.initialNavigation?zhe(r):[],r?.bindToComponentInputs?to(8,[BH,{provide:Ky,useExisting:BH}]).\u0275providers:[],[{provide:pG,useFactory:uG},{provide:iI,multi:!0,useExisting:pG}]]}}static forChild(t){return{ngModule:n,providers:[{provide:kc,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(r){return new(r||n)(U(hG,8))};static#t=this.\u0275mod=Le({type:n});static#n=this.\u0275inj=xe({})}return n})();function Ghe(n){return"guarded"}function zhe(n){return["disabled"===n.initialNavigation?to(3,[{provide:Yb,multi:!0,useFactory:()=>{const e=B(ir);return()=>{e.setUpLocationChangeListener()}}},{provide:KC,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?to(2,[{provide:KC,useValue:0},{provide:Yb,multi:!0,deps:[zt],useFactory:e=>{const t=e.get(BJ,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(ir),s=e.get(cG);rG(i,()=>{r(!0)}),e.get(Xy).afterPreactivation=()=>(r(!0),s.closed?ue(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const pG=new X("");let no=(()=>{class n{constructor(){this.auth=B(h_),this.user$=ese(this.auth),this.userId=""}signup(t,r){return function are(n,e,t){return vw.apply(this,arguments)}(d_(),t,r)}signin(t,r){return function lre(n,e,t){return rw(Kt(n),kV.credential(e,t)).catch(function(){var r=v(function*(i){throw"auth/password-does-not-meet-requirements"===i.code&&hw(n),i});return function(i){return r.apply(this,arguments)}}())}(d_(),t,r)}logout(){return function _re(n){return Kt(n).signOut()}(d_())}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),QC=(()=>{class n{constructor(t,r){this.firestore=t,this.authServ=r}addNewUser(t,r,i){let s={name:r,address:i,admin:!1},o=Gf(this.firestore,"users");return gce(ky(o,t),s)}getUserData(){var t=this;return v(function*(){let r=ky(t.firestore,"users",t.authServ.userId);const i=yield fce(r);return!!i.exists()&&i.data()})()}static#e=this.\u0275fac=function(r){return new(r||n)(U(Dc),U(no))};static#t=this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function qhe(n,e){1&n&&(N(0,"li",7)(1,"a",10),Z(2,"Cart"),R()())}function Khe(n,e){1&n&&(N(0,"li",7)(1,"a",11),Z(2,"Dashboard"),R()())}function Qhe(n,e){1&n&&(N(0,"li",7)(1,"a",12),Z(2,"Login"),R()())}function Yhe(n,e){1&n&&(N(0,"li",7)(1,"a",13),Z(2,"Sign up"),R()())}function Jhe(n,e){if(1&n){const t=Fn();N(0,"li",7)(1,"button",14),ye("click",function(){return rn(t),sn(ne().logout())}),Z(2,"Logout"),R()()}}let Zhe=(()=>{class n{constructor(t,r){this.authServ=t,this.userServ=r,this.toggleBtn=!1,this.isLogin=!1,this.isAdmin=!1,this.userSubscription=t.user$.subscribe(i=>{i?(this.isLogin=!0,this.authServ.userId=i.uid,this.userServ.getUserData().then(s=>{s.admin&&(this.isAdmin=!0)}),console.log(i)):(this.isLogin=!1,this.authServ.userId="")})}toggleNav(){this.toggleBtn=!this.toggleBtn}logout(){this.authServ.logout().then(()=>{console.log("Sign-out successful.")}).catch(t=>{})}ngOnDestroy(){this.userSubscription.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||n)(E(no),E(QC))};static#t=this.\u0275cmp=nn({type:n,selectors:[["app-navbar"]],decls:16,vars:7,consts:[[1,"navbar","navbar-expand-lg","bg-body-tertiary"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler",3,"click"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["aria-current","page","routerLink","/",1,"nav-link"],["class","nav-item",4,"ngIf"],["routerLink","/cart","routerLinkActive","active",1,"nav-link"],["routerLink","/admin","routerLinkActive","active",1,"nav-link"],["routerLink","/login","routerLinkActive","active",1,"nav-link"],["routerLink","/signup","routerLinkActive","active",1,"nav-link"],[1,"btn","btn-outline-success",3,"click"]],template:function(r,i){1&r&&(N(0,"nav",0)(1,"div",1)(2,"a",2),Z(3,"Navbar"),R(),N(4,"button",3),ye("click",function(){return i.toggleNav()}),Et(5,"span",4),R(),N(6,"div",5)(7,"ul",6)(8,"li",7)(9,"a",8),Z(10,"Home"),R()(),j(11,qhe,3,0,"li",9),j(12,Khe,3,0,"li",9),j(13,Qhe,3,0,"li",9),j(14,Yhe,3,0,"li",9),j(15,Jhe,3,0,"li",9),R()()()()),2&r&&(F(6),$e("show",i.toggleBtn),F(5),V("ngIf",i.isLogin),F(1),V("ngIf",i.isLogin&&i.isAdmin),F(1),V("ngIf",!i.isLogin),F(1),V("ngIf",!i.isLogin),F(1),V("ngIf",i.isLogin))},dependencies:[pi,tv,sG]})}return n})(),Xhe=(()=>{class n{constructor(t){this.contexts=t,this.title="firebase-project"}getRouteAnimationData(){return this.contexts.getContext("primary")?.route?.snapshot?.data?.animation}static#e=this.\u0275fac=function(r){return new(r||n)(E(Rc))};static#t=this.\u0275cmp=nn({type:n,selectors:[["app-root"]],decls:4,vars:1,template:function(r,i){1&r&&(N(0,"div"),Et(1,"app-navbar"),R(),N(2,"div"),Et(3,"router-outlet"),R()),2&r&&(F(2),V("@routeAnimations",i.getRouteAnimationData()))},dependencies:[UC,Zhe],data:{animation:[yce("routeAnimations",[nH("homePage <=> cartPage",[_i({position:"relative"}),Fi(":enter, :leave",[_i({position:"absolute",top:0,left:0,width:"100%"})]),Fi(":enter",[_i({left:"-100%"})],{optional:!0}),Fi(":leave",bC(),{optional:!0}),eH([Fi(":leave",[Fy("300ms ease-out",_i({left:"100%"}))],{optional:!0}),Fi(":enter",[Fy("300ms ease-out",_i({left:"0%"}))],{optional:!0})])]),nH("* <=> *",[_i({position:"relative"}),Fi(":enter, :leave",[_i({position:"absolute",top:0,left:0,width:"100%"})],{optional:!0}),Fi(":enter",[_i({left:"-100%"})],{optional:!0}),Fi(":leave",bC(),{optional:!0}),eH([Fi(":leave",[Fy("200ms ease-out",_i({left:"100%",opacity:0}))],{optional:!0}),Fi(":enter",[Fy("300ms ease-out",_i({left:"0%"}))],{optional:!0}),Fi("@*",bC(),{optional:!0})])])])]}})}return n})();const efe=["addListener","removeListener"],tfe=["addEventListener","removeEventListener"],nfe=["on","off"];function Hn(n,e,t,r){if(De(t)&&(r=t,t=void 0),r)return Hn(n,e,t).pipe(TC(r));const[i,s]=function sfe(n){return De(n.addEventListener)&&De(n.removeEventListener)}(n)?tfe.map(o=>a=>n[o](e,a,t)):function rfe(n){return De(n.addListener)&&De(n.removeListener)}(n)?efe.map(gG(n,e)):function ife(n){return De(n.on)&&De(n.off)}(n)?nfe.map(gG(n,e)):[];if(!i&&v0(n))return dn(o=>Hn(o,e,t))(cn(n));if(!i)throw new TypeError("Invalid event target");return new Fe(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return i(a),()=>s(a)})}function gG(n,e){return t=>r=>n[t](e,r)}const{isArray:afe}=Array;function _G(n){return 1===n.length&&afe(n[0])?n[0]:n}function YC(...n){const e=Wp(n),t=_G(n);return t.length?new Fe(r=>{let i=t.map(()=>[]),s=t.map(()=>!1);r.add(()=>{i=s=null});for(let o=0;!r.closed&&o<t.length;o++)cn(t[o]).subscribe(ct(r,a=>{if(i[o].push(a),i.every(l=>l.length)){const l=i.map(u=>u.shift());r.next(e?e(...l):l),i.some((u,c)=>!u.length&&s[c])&&r.complete()}},()=>{s[o]=!0,!i[o].length&&r.complete()}));return()=>{i=s=null}}):ni}function JC(...n){const e=Wp(n);return St((t,r)=>{const i=n.length,s=new Array(i);let o=n.map(()=>!1),a=!1;for(let l=0;l<i;l++)cn(n[l]).subscribe(ct(r,u=>{s[l]=u,!a&&!o[l]&&(o[l]=!0,(a=o.every(bi))&&(o=null))},sa));t.subscribe(ct(r,l=>{if(a){const u=[l,...s];r.next(e?e(...u):u)}}))})}let NG=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(r){return new(r||n)(E(Hr),E(Qe))};static#t=this.\u0275dir=$({type:n})}return n})(),sl=(()=>{class n extends NG{static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=Gt(n)))(i||n)}}();static#t=this.\u0275dir=$({type:n,features:[Ye]})}return n})();const yi=new X("NgValueAccessor"),Mfe={provide:yi,useExisting:Ce(()=>ol),multi:!0},Ofe=new X("CompositionEventMode");let ol=(()=>{class n extends NG{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Pfe(){const n=To()?To().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(r){return new(r||n)(E(Hr),E(Qe),E(Ofe,8))};static#t=this.\u0275dir=$({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&ye("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[lt([Mfe]),Ye]})}return n})();function Jo(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}const zn=new X("NgValidators"),Zo=new X("NgAsyncValidators"),xfe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function kG(n){return Jo(n.value)?{required:!0}:null}function LG(n){return Jo(n.value)||xfe.test(n.value)?null:{email:!0}}function sv(n){return null}function jG(n){return null!=n}function $G(n){return Qd(n)?bn(n):n}function HG(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function GG(n,e){return e.map(t=>t(n))}function zG(n){return n.map(e=>function kfe(n){return!n.validate}(e)?e:t=>e.validate(t))}function nA(n){return null!=n?function WG(n){if(!n)return null;const e=n.filter(jG);return 0==e.length?null:function(t){return HG(GG(t,e))}}(zG(n)):null}function rA(n){return null!=n?function qG(n){if(!n)return null;const e=n.filter(jG);return 0==e.length?null:function(t){return function Rfe(...n){const e=Wp(n),{args:t,keys:r}=iH(n),i=new Fe(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let l=o,u=o;for(let c=0;c<o;c++){let d=!1;cn(t[c]).subscribe(ct(s,h=>{d||(d=!0,u--),a[c]=h},()=>l--,void 0,()=>{(!l||!d)&&(u||s.next(r?sH(r,a):a),s.complete())}))}});return e?i.pipe(TC(e)):i}(GG(t,e).map($G)).pipe(Ne(HG))}}(zG(n)):null}function KG(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function iA(n){return n?Array.isArray(n)?n:[n]:[]}function ov(n,e){return Array.isArray(n)?n.includes(e):n===e}function JG(n,e){const t=iA(e);return iA(n).forEach(i=>{ov(t,i)||t.push(i)}),t}function ZG(n,e){return iA(e).filter(t=>!ov(n,t))}class XG{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=nA(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=rA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class mr extends XG{get formDirective(){return null}get path(){return null}}class Xo extends XG{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class e3{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let cp=(()=>{class n extends e3{constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||n)(E(Xo,2))};static#t=this.\u0275dir=$({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&$e("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Ye]})}return n})(),av=(()=>{class n extends e3{constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||n)(E(mr,10))};static#t=this.\u0275dir=$({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&$e("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Ye]})}return n})();const dp="VALID",uv="INVALID",Lc="PENDING",hp="DISABLED";function aA(n){return(cv(n)?n.validators:n)||null}function lA(n,e){return(cv(e)?e.asyncValidators:n)||null}function cv(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class i3{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===dp}get invalid(){return this.status===uv}get pending(){return this.status==Lc}get disabled(){return this.status===hp}get enabled(){return this.status!==hp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(JG(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(JG(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(ZG(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(ZG(e,this._rawAsyncValidators))}hasValidator(e){return ov(this._rawValidators,e)}hasAsyncValidator(e){return ov(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Lc,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=hp,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=dp,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===dp||this.status===Lc)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?hp:dp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Lc,this._hasOwnPendingAsyncValidator=!0;const t=$G(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new ae,this.statusChanges=new ae}_calculateStatus(){return this._allControlsDisabled()?hp:this.errors?uv:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Lc)?Lc:this._anyControlsHaveStatus(uv)?uv:dp}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){cv(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Bfe(n){return Array.isArray(n)?nA(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Ufe(n){return Array.isArray(n)?rA(n):n||null}(this._rawAsyncValidators)}}class uA extends i3{constructor(e,t,r){super(aA(t),lA(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function r3(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new C(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function n3(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new C(1e3,"");if(!r[t])throw new C(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Vc=new X("CallSetDisabledState",{providedIn:"root",factory:()=>dv}),dv="always";function fp(n,e,t=dv){cA(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function Hfe(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&s3(n,e)})}(n,e),function zfe(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Gfe(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&s3(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function $fe(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function pv(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function cA(n,e){const t=function QG(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(KG(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function YG(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(KG(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();pv(e._rawValidators,i),pv(e._rawAsyncValidators,i)}function s3(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const Yfe={provide:mr,useExisting:Ce(()=>Bc)},pp=(()=>Promise.resolve())();let Bc=(()=>{class n extends mr{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new ae,this.form=new uA({},nA(t),rA(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){pp.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),fp(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){pp.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){pp.then(()=>{const r=this._findContainer(t.path),i=new uA({});(function o3(n,e){cA(n,e)})(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){pp.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){pp.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function a3(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static#e=this.\u0275fac=function(r){return new(r||n)(E(zn,10),E(Zo,10),E(Vc,8))};static#t=this.\u0275dir=$({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&ye("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[lt([Yfe]),Ye]})}return n})();function l3(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function u3(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const c3=class extends i3{constructor(e=null,t,r){super(aA(t),lA(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),cv(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=u3(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){l3(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){l3(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){u3(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Xfe={provide:Xo,useExisting:Ce(()=>Uc)},f3=(()=>Promise.resolve())();let Uc=(()=>{class n extends Xo{constructor(t,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new c3,this._registered=!1,this.name="",this.update=new ae,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function fA(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===ol?t=s:function Kfe(n){return Object.getPrototypeOf(n.constructor)===sl}(s)?r=s:i=s}),i||r||t||null}(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function hA(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){fp(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){f3.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&Su(r);f3.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function hv(n,e){return[...e.path,n]}(t,this._parent):[t]}static#e=this.\u0275fac=function(r){return new(r||n)(E(mr,9),E(zn,10),E(Zo,10),E(yi,10),E(Ni,8),E(Vc,8))};static#t=this.\u0275dir=$({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[lt([Xfe]),Ye,On]})}return n})(),mv=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=$({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})();const epe={provide:yi,useExisting:Ce(()=>_v),multi:!0};let _v=(()=>{class n extends sl{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=Gt(n)))(i||n)}}();static#t=this.\u0275dir=$({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){1&r&&ye("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[lt([epe]),Ye]})}return n})(),p3=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Le({type:n});static#n=this.\u0275inj=xe({})}return n})();let al=(()=>{class n{constructor(){this._validator=sv}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):sv,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=$({type:n,features:[On]})}return n})();const _pe={provide:zn,useExisting:Ce(()=>jc),multi:!0};let jc=(()=>{class n extends al{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Su,this.createValidator=t=>kG}enabled(t){return t}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=Gt(n)))(i||n)}}();static#t=this.\u0275dir=$({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&Je("required",i._enabled?"":null)},inputs:{required:"required"},features:[lt([_pe]),Ye]})}return n})();const vpe={provide:zn,useExisting:Ce(()=>yv),multi:!0};let yv=(()=>{class n extends al{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=Su,this.createValidator=t=>LG}enabled(t){return t}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=Gt(n)))(i||n)}}();static#t=this.\u0275dir=$({type:n,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[lt([vpe]),Ye]})}return n})();const Epe={provide:zn,useExisting:Ce(()=>vv),multi:!0};let vv=(()=>{class n extends al{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=t=>function T3(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>function VG(n){return e=>Jo(e.value)||!function PG(n){return null!=n&&"number"==typeof n.length}(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(t)}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=Gt(n)))(i||n)}}();static#t=this.\u0275dir=$({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&Je("minlength",i._enabled?i.minlength:null)},inputs:{minlength:"minlength"},features:[lt([Epe]),Ye]})}return n})(),Tpe=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Le({type:n});static#n=this.\u0275inj=xe({imports:[p3]})}return n})(),Dpe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Vc,useValue:t.callSetDisabledState??dv}]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Le({type:n});static#n=this.\u0275inj=xe({imports:[Tpe]})}return n})();Math,Math,Math;const Fge=["*"],hme=["dialog"];function cl(n){return"string"==typeof n}function dl(n){return null!=n}function Wc(n){return(n||document.body).getBoundingClientRect()}const Y3={animation:!0,transitionTimerDelayMs:5},i_e=()=>{},{transitionTimerDelayMs:s_e}=Y3,bp=new Map,kr=(n,e,t,r)=>{let i=r.context||{};const s=bp.get(e);if(s)switch(r.runningTransition){case"continue":return ni;case"stop":n.run(()=>s.transition$.complete()),i=Object.assign(s.context,i),bp.delete(e)}const o=t(e,r.animation,i)||i_e;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>o()),ue(void 0).pipe(function n_e(n){return e=>new Fe(t=>e.subscribe({next:o=>n.run(()=>t.next(o)),error:o=>n.run(()=>t.error(o)),complete:()=>n.run(()=>t.complete())}))}(n));const a=new qe,l=new qe,u=a.pipe(function ufe(...n){return e=>Wf(e,ue(...n))}(!0));bp.set(e,{transition$:a,complete:()=>{l.next(),l.complete()},context:i});const c=function r_e(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const d=Hn(e,"transitionend").pipe(Bt(u),Rn(({target:f})=>f===e));(function yG(...n){return 1===(n=_G(n)).length?cn(n[0]):new Fe(function lfe(n){return e=>{let t=[];for(let r=0;t&&!e.closed&&r<n.length;r++)t.push(cn(n[r]).subscribe(ct(e,i=>{if(t){for(let s=0;s<t.length;s++)s!==r&&t[s].unsubscribe();t=null}e.next(i)})))}}(n))})(function mG(n=0,e,t=Ute){let r=-1;return null!=e&&(VR(e)?t=e:r=e),new Fe(i=>{let s=function ofe(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}(c+s_e).pipe(Bt(u)),d,l).pipe(Bt(u)).subscribe(()=>{bp.delete(e),n.run(()=>{o(),a.next(),a.complete()})})}),a.asObservable()};let wv=(()=>{class n{constructor(){this.animation=Y3.animation}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),s4=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Le({type:n});static#n=this.\u0275inj=xe({})}return n})(),o4=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Le({type:n});static#n=this.\u0275inj=xe({})}return n})(),u4=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Le({type:n});static#n=this.\u0275inj=xe({})}return n})(),c4=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Le({type:n});static#n=this.\u0275inj=xe({})}return n})();var ut=function(n){return n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",n}(ut||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const _4=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function y4(n){const e=Array.from(n.querySelectorAll(_4)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let M4=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Le({type:n});static#n=this.\u0275inj=xe({})}return n})(),x4=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Le({type:n});static#n=this.\u0275inj=xe({})}return n})();class ml{constructor(e,t,r){this.nodes=e,this.viewRef=t,this.componentRef=r}}let iye=(()=>{class n{constructor(t,r){this._el=t,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe($n(1)).subscribe(()=>{kr(this._zone,this._el.nativeElement,(t,r)=>{r&&Wc(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return kr(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(r){return new(r||n)(E(Qe),E(Ee))};static#t=this.\u0275cmp=nn({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(r,i){2&r&&(va("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),$e("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[ci],decls:0,vars:0,template:function(r,i){},encapsulation:2})}return n})();class k4{update(e){}close(e){}dismiss(e){}}const sye=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],oye=["animation","backdropClass"];class aye{_applyWindowOptions(e,t){sye.forEach(r=>{dl(t[r])&&(e[r]=t[r])})}_applyBackdropOptions(e,t){oye.forEach(r=>{dl(t[r])&&(e[r]=t[r])})}update(e){this._applyWindowOptions(this._windowCmptRef.instance,e),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,e)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Bt(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Bt(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(e,t,r,i){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new qe,this._dismissed=new qe,this._hidden=new qe,e.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,o)=>{this._resolve=s,this._reject=o}),this.result.then(null,()=>{})}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function q3(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(r=>{!1!==r&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():ue(void 0);e.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),YC(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var $A=function(n){return n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",n}($A||{});let lye=(()=>{class n{constructor(t,r,i){this._document=t,this._elRef=r,this._zone=i,this._closed$=new qe,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new ae,this.shown=new qe,this.hidden=new qe}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":cl(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe($n(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,r={animation:this.animation,runningTransition:"stop"},o=YC(kr(this._zone,t,()=>t.classList.remove("show"),r),kr(this._zone,this._dialogEl.nativeElement,()=>{},r));return o.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),o}_show(){const t={animation:this.animation,runningTransition:"continue"};YC(kr(this._zone,this._elRef.nativeElement,(s,o)=>{o&&Wc(s),s.classList.add("show")},t),kr(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Hn(t,"keydown").pipe(Bt(this._closed$),Rn(i=>i.which===ut.Escape)).subscribe(i=>{this.keyboard?requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss($A.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;Hn(this._dialogEl.nativeElement,"mousedown").pipe(Bt(this._closed$),gn(()=>r=!1),Ii(()=>Hn(t,"mouseup").pipe(Bt(this._closed$),$n(1))),Rn(({target:i})=>t===i)).subscribe(()=>{r=!0}),Hn(t,"click").pipe(Bt(this._closed$)).subscribe(({target:i})=>{t===i&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss($A.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const r=t.querySelector("[ngbAutofocus]"),i=y4(t)[0];(r||i||t).focus()}}_restoreFocus(){const t=this._document.body,r=this._elWithFocus;let i;i=r&&r.focus&&t.contains(r)?r:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&kr(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(r){return new(r||n)(E(Wt),E(Qe),E(Ee))};static#t=this.\u0275cmp=nn({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(r,i){if(1&r&&bo(hme,7),2&r){let s;Ze(s=Xe())&&(i._dialogEl=s.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(r,i){2&r&&(Je("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),va("modal d-block"+(i.windowClass?" "+i.windowClass:"")),$e("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[ci],ngContentSelectors:Fge,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(r,i){1&r&&(function zO(n){const e=P()[Ht][Kn];if(!e.projection){const r=e.projection=Cd(n?n.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=n?R7(s,n):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}(),N(0,"div",0,1)(2,"div",2),function WO(n,e=0,t){const r=P(),i=Be(),s=du(i,Re+n,16,null,t||null);null===s.projection&&(s.projection=e),K0(),(!r[As]||Bl())&&32!=(32&s.flags)&&function M6(n,e,t){qM(e[ge],0,e,t,bE(n,t,e),jM(t.parent||e[Kn],t,e))}(i,r,s)}(3),R()()),2&r&&va("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+i.fullscreenClass+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return n})(),uye=(()=>{class n{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,i=r.style,{overflow:s,paddingRight:o}=i;if(t>0){const a=parseFloat(window.getComputedStyle(r).paddingRight);i.paddingRight=`${a+t}px`}return i.overflow="hidden",()=>{t>0&&(i.paddingRight=o),i.overflow=s}}static#e=this.\u0275fac=function(r){return new(r||n)(U(Wt))};static#t=this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),cye=(()=>{class n{constructor(t,r,i,s,o,a,l){this._applicationRef=t,this._injector=r,this._environmentInjector=i,this._document=s,this._scrollBar=o,this._rendererFactory=a,this._ngZone=l,this._activeWindowCmptHasChanged=new qe,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new ae,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const u=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,r=!1)=>{n.runOutsideAngular(()=>{const i=Hn(e,"focusin").pipe(Bt(t),Ne(s=>s.target));Hn(e,"keydown").pipe(Bt(t),Rn(s=>s.which===ut.Tab),JC(i)).subscribe(([s,o])=>{const[a,l]=y4(e);(o===a||o===e)&&s.shiftKey&&(l.focus(),s.preventDefault()),o===l&&!s.shiftKey&&(a.focus(),s.preventDefault())}),r&&Hn(e,"click").pipe(Bt(t),JC(i),Ne(s=>s[1])).subscribe(s=>s.focus())})})(this._ngZone,u.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(u.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,r,i){const s=i.container instanceof HTMLElement?i.container:dl(i.container)?this._document.querySelector(i.container):this._document.body,o=this._rendererFactory.createRenderer(null,null);if(!s)throw new Error(`The specified modal container "${i.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const a=new k4,l=(t=i.injector||t).get(Cr,null)||this._environmentInjector,u=this._getContentRef(t,l,r,a,i);let c=!1!==i.backdrop?this._attachBackdrop(s):void 0,d=this._attachWindowComponent(s,u.nodes),h=new aye(d,u,c,i.beforeDismiss);return this._registerModalRef(h),this._registerWindowCmpt(d),h.hidden.pipe($n(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(o.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),a.close=f=>{h.close(f)},a.dismiss=f=>{h.dismiss(f)},a.update=f=>{h.update(f)},h.update(i),1===this._modalRefs.length&&o.addClass(this._document.body,"modal-open"),c&&c.instance&&c.changeDetectorRef.detectChanges(),d.changeDetectorRef.detectChanges(),h}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(r=>r.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let r=dI(iye,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_attachWindowComponent(t,r){let i=dI(lye,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_getContentRef(t,r,i,s,o){return i?i instanceof At?this._createFromTemplateRef(i,s):cl(i)?this._createFromString(i):this._createFromComponent(t,r,i,s,o):new ml([])}_createFromTemplateRef(t,r){const s=t.createEmbeddedView({$implicit:r,close(o){r.close(o)},dismiss(o){r.dismiss(o)}});return this._applicationRef.attachView(s),new ml([s.rootNodes],s)}_createFromString(t){const r=this._document.createTextNode(`${t}`);return new ml([[r]])}_createFromComponent(t,r,i,s,o){const l=dI(i,{environmentInjector:r,elementInjector:zt.create({providers:[{provide:k4,useValue:s}],parent:t})}),u=l.location.nativeElement;return o.scrollable&&u.classList.add("component-host-scrollable"),this._applicationRef.attachView(l.hostView),new ml([[u]],l.hostView,l)}_setAriaHidden(t){const r=t.parentElement;r&&t!==this._document.body&&(Array.from(r.children).forEach(i=>{i!==t&&"SCRIPT"!==i.nodeName&&(this._ariaHiddenValues.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,r)=>{t?r.setAttribute("aria-hidden",t):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const r=()=>{const i=this._modalRefs.indexOf(t);i>-1&&(this._modalRefs.splice(i,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(r,r)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const r=this._windowCmpts.indexOf(t);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(r){return new(r||n)(U(Fs),U(zt),U(Cr),U(Wt),U(uye),U(ou),U(Ee))};static#t=this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),dye=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}static#e=this.\u0275fac=function(r){return new(r||n)(U(wv))};static#t=this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),hye=(()=>{class n{constructor(t,r,i){this._injector=t,this._modalStack=r,this._config=i}open(t,r={}){const i={...this._config,animation:this._config.animation,...r};return this._modalStack.open(this._injector,t,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(r){return new(r||n)(U(zt),U(cye),U(dye))};static#t=this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),F4=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Le({type:n});static#n=this.\u0275inj=xe({providers:[hye]})}return n})(),B4=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Le({type:n});static#n=this.\u0275inj=xe({})}return n})(),q4=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Le({type:n});static#n=this.\u0275inj=xe({})}return n})(),K4=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Le({type:n});static#n=this.\u0275inj=xe({})}return n})(),Q4=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Le({type:n});static#n=this.\u0275inj=xe({})}return n})(),Y4=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Le({type:n});static#n=this.\u0275inj=xe({})}return n})(),J4=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Le({type:n});static#n=this.\u0275inj=xe({})}return n})(),Z4=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Le({type:n});static#n=this.\u0275inj=xe({})}return n})(),X4=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Le({type:n});static#n=this.\u0275inj=xe({})}return n})(),ez=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Le({type:n});static#n=this.\u0275inj=xe({})}return n})();new X("live announcer delay",{providedIn:"root",factory:function Cye(){return 100}});let tz=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Le({type:n});static#n=this.\u0275inj=xe({})}return n})(),nz=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Le({type:n});static#n=this.\u0275inj=xe({})}return n})();const Rye=[s4,o4,u4,c4,M4,x4,F4,B4,nz,q4,K4,Q4,Y4,J4,Z4,X4,ez,tz];let Nye=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Le({type:n});static#n=this.\u0275inj=xe({imports:[Rye,s4,o4,u4,c4,M4,x4,F4,B4,nz,q4,K4,Q4,Y4,J4,Z4,X4,ez,tz]})}return n})();const rz="firebasestorage.googleapis.com",iz="storageBucket";class Pt extends rs{constructor(e,t,r=0){super(GA(e),`Firebase Storage: ${t} (${GA(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Pt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return GA(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Dt=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(Dt||{});function GA(n){return"storage/"+n}function zA(){return new Pt(Dt.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function sz(){return new Pt(Dt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function oz(){return new Pt(Dt.CANCELED,"User canceled the upload/download.")}function az(){return new Pt(Dt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function WA(n){return new Pt(Dt.INVALID_ARGUMENT,n)}function lz(){return new Pt(Dt.APP_DELETED,"The Firebase app was deleted.")}function Sp(n,e){return new Pt(Dt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Cp(n){throw new Pt(Dt.INTERNAL_ERROR,"Internal error: "+n)}class _r{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=_r.makeFromUrl(e,t)}catch{return new _r(e,"")}if(""===r.path)return r;throw function Uye(n){return new Pt(Dt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+i+"(/(.*))?$","i");function u(w){w.path_=decodeURIComponent(w.path)}const d=t.replace(/[.]/g,"\\."),I=[{regex:a,indices:{bucket:1,path:3},postModify:function s(w){"/"===w.path.charAt(w.path.length-1)&&(w.path_=w.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${d}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:u},{regex:new RegExp(`^https?://${t===rz?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:u}];for(let w=0;w<I.length;w++){const M=I[w],L=M.regex.exec(e);if(L){let ie=L[M.indices.path];ie||(ie=""),r=new _r(L[M.indices.bucket],ie),M.postModify(r);break}}if(null==r)throw function Bye(n){return new Pt(Dt.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return r}}class Wye{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function Lv(n){return"string"==typeof n||n instanceof String}function uz(n){return qA()&&n instanceof Blob}function qA(){return typeof Blob<"u"&&!function FL(){var n;const e=null===(n=Lm())||void 0===n?void 0:n.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()}function KA(n,e,t,r){if(r<e)throw WA(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw WA(`Invalid value for '${n}'. Expected ${t} or less.`)}function io(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function cz(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var Yc=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(Yc||{});function dz(n,e){const t=n>=500&&n<600,i=-1!==[408,429].indexOf(n),s=-1!==e.indexOf(n);return t||i||s}class Zye{constructor(e,t,r,i,s,o,a,l,u,c,d,h=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,p)=>{this.resolve_=f,this.reject_=p,this.start_()})}start_(){const t=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());!function Qye(n){return void 0!==n}(l)?s():s(l)}catch(l){o(l)}else if(null!==a){const l=zA();l.serverResponse=a.getErrorText(),o(this.errorCallback_?this.errorCallback_(a,l):l)}else o(i.canceled?this.appDelete_?lz():oz():sz())};this.canceled_?t(0,new Vv(!1,null,!0)):this.backoffId_=function qye(n,e,t){let r=1,i=null,s=null,o=!1,a=0;function l(){return 2===a}let u=!1;function c(...m){u||(u=!0,e.apply(null,m))}function d(m){i=setTimeout(()=>{i=null,n(f,l())},m)}function h(){s&&clearTimeout(s)}function f(m,...y){if(u)return void h();if(m)return h(),void c.call(null,m,...y);if(l()||o)return h(),void c.call(null,m,...y);let I;r<64&&(r*=2),1===a?(a=2,I=0):I=1e3*(r+Math.random()),d(I)}let p=!1;function g(m){p||(p=!0,h(),!u&&(null!==i?(m||(a=2),clearTimeout(i),d(0)):m||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,g(!0)},t),g}((r,i)=>{if(i)return void r(!1,new Vv(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Yc.NO_ERROR,l=s.getStatus();if(!a||dz(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===Yc.ABORT;return void r(!1,new Vv(!1,null,c))}const u=-1!==this.successCodes_.indexOf(l);r(!0,new Vv(u,s))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function Kye(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Vv{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function sve(...n){const e=function ive(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(qA())return new Blob(n);throw new Pt(Dt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const ji={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class QA{constructor(e,t){this.data=e,this.contentType=t||null}}function fz(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function pz(n,e){switch(n){case ji.BASE64:{const i=-1!==e.indexOf("-"),s=-1!==e.indexOf("_");if(i||s)throw Sp(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case ji.BASE64URL:{const i=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(i||s)throw Sp(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function ave(n){if(typeof atob>"u")throw function Gye(n){return new Pt(Dt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(i){throw i.message.includes("polyfill")?i:Sp(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class gz{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Sp(ji.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function dve(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class so{constructor(e,t){let r=0,i="";uz(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(uz(this.data_)){const i=function ove(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new so(i)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new so(r,!0)}}static getBlob(...e){if(qA()){const t=e.map(r=>r instanceof so?r.data_:r);return new so(sve.apply(null,t))}{const t=e.map(o=>Lv(o)?function hz(n,e){switch(n){case ji.RAW:return new QA(fz(e));case ji.BASE64:case ji.BASE64URL:return new QA(pz(n,e));case ji.DATA_URL:return new QA(function uve(n){const e=new gz(n);return e.base64?pz(ji.BASE64,e.rest):function lve(n){let e;try{e=decodeURIComponent(n)}catch{throw Sp(ji.DATA_URL,"Malformed data URL.")}return fz(e)}(e.rest)}(e),function cve(n){return new gz(n).contentType}(e))}throw zA()}(ji.RAW,o).data:o.data_);let r=0;t.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return t.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new so(i,!0)}}uploadData(){return this.data_}}function YA(n){let e;try{e=JSON.parse(n)}catch{return null}return function Jye(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function mz(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function pve(n,e){return e}class yr{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||pve}}let Bv=null;function Ap(){if(Bv)return Bv;const n=[];n.push(new yr("bucket")),n.push(new yr("generation")),n.push(new yr("metageneration")),n.push(new yr("name","fullPath",!0));const t=new yr("name");t.xform=function e(s,o){return function gve(n){return!Lv(n)||n.length<2?n:mz(n)}(o)},n.push(t);const i=new yr("size");return i.xform=function r(s,o){return void 0!==o?Number(o):o},n.push(i),n.push(new yr("timeCreated")),n.push(new yr("updated")),n.push(new yr("md5Hash",null,!0)),n.push(new yr("cacheControl",null,!0)),n.push(new yr("contentDisposition",null,!0)),n.push(new yr("contentEncoding",null,!0)),n.push(new yr("contentLanguage",null,!0)),n.push(new yr("contentType",null,!0)),n.push(new yr("metadata","customMetadata",!0)),Bv=n,Bv}function _z(n,e,t){const r=YA(e);return null===r?null:function _ve(n,e,t){const r={type:"file"},i=t.length;for(let s=0;s<i;s++){const o=t[s];r[o.local]=o.xform(r,e[o.server])}return function mve(n,e){Object.defineProperty(n,"ref",{get:function t(){const s=new _r(n.bucket,n.fullPath);return e._makeStorageReference(s)}})}(r,n),r}(n,r,t)}function JA(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}class ys{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function vs(n){if(!n)throw zA()}function Uv(n,e){return function t(r,i){const s=_z(n,i,e);return vs(null!==s),s}}function Jc(n){return function e(t,r){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function Lye(){return new Pt(Dt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Fye(){return new Pt(Dt.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function kye(n){return new Pt(Dt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function Vye(n){return new Pt(Dt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}}function Rp(n){const e=Jc(n);return function t(r,i){let s=e(r,i);return 404===r.getStatus()&&(s=function xye(n){return new Pt(Dt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=i.serverResponse,s}}function Iz(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function Cve(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class jv{constructor(e,t,r,i){this.current=e,this.total=t,this.finalized=!!r,this.metadata=i||null}}function ZA(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{vs(!1)}return vs(!!t&&-1!==(e||["active"]).indexOf(t)),t}function XA(n){switch(n){case"running":case"pausing":case"canceling":return"running";case"paused":return"paused";case"success":return"success";case"canceled":return"canceled";default:return"error"}}class Mve{constructor(e,t,r){if(function Yye(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function Zc(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}let Dz=null;class Pve{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Yc.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Yc.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Yc.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw Cp("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Cp("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Cp("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Cp("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Cp("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class Ove extends Pve{initXhr(){this.xhr_.responseType="text"}}function $i(){return Dz?Dz():new Ove}class Vve{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=Ap(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(Dt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(dz(i.status,[])){if(!s)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();i=sz()}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(Dt.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function Ave(n,e,t,r,i){const s=e.bucketOnlyServerUrl(),o=Iz(e,r,i),a={name:o.fullPath},l=io(s,n.host,n._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},d=JA(o,t),p=new ys(l,"POST",function f(g){let m;ZA(g);try{m=g.getResponseHeader("X-Goog-Upload-URL")}catch{vs(!1)}return vs(Lv(m)),m},n.maxUploadRetryTime);return p.urlParams=a,p.headers=c,p.body=d,p.errorHandler=Jc(e),p}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,$i,e,t);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const i=function Rve(n,e,t,r){const l=new ys(t,"POST",function s(u){const c=ZA(u,["active","final"]);let d=null;try{d=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{vs(!1)}d||vs(!1);const h=Number(d);return vs(!isNaN(h)),new jv(h,r.size(),"final"===c)},n.maxUploadRetryTime);return l.headers={"X-Goog-Upload-Command":"query"},l.errorHandler=Jc(e),l}(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,$i,t,r);this._request=s,s.getPromise().then(o=>{this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new jv(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=function Nve(n,e,t,r,i,s,o,a){const l=new jv(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw function $ye(){return new Pt(Dt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const u=l.total-l.current;let c=u;i>0&&(c=Math.min(c,i));const d=l.current;let f="";f=0===c?"finalize":u===c?"upload, finalize":"upload";const p={"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":`${l.current}`},g=r.slice(d,d+c);if(null===g)throw az();const I=new ys(t,"POST",function m(w,M){const L=ZA(w,["active","final"]),K=l.current+c,ie=r.size();let Te;return Te="final"===L?Uv(e,s)(w,M):null,new jv(K,ie,"final"===L,Te)},e.maxUploadRetryTime);return I.headers=p,I.body=g.uploadData(),I.progressCallback=a||null,I.errorHandler=Jc(n),I}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(l){return this._error=l,void this._transition("error")}const a=this._ref.storage._makeRequest(o,$i,i,s,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=function Ez(n,e,t){const i=io(e.fullServerUrl(),n.host,n._protocol),o=n.maxOperationRetryTime,a=new ys(i,"GET",Uv(n,t),o);return a.errorHandler=Rp(e),a}(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,$i,e,t);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function Tz(n,e,t,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"},l=function a(){let I="";for(let w=0;w<2;w++)I+=Math.random().toString().slice(2);return I}();o["Content-Type"]="multipart/related; boundary="+l;const u=Iz(e,r,i),c=JA(u,t),f=so.getBlob("--"+l+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+l+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",r,"\r\n--"+l+"--");if(null===f)throw az();const p={name:u.fullPath},g=io(s,n.host,n._protocol),y=n.maxUploadRetryTime,_=new ys(g,"POST",Uv(n,t),y);return _.urlParams=p,_.headers=o,_.body=f.uploadData(),_.errorHandler=Jc(e),_}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,$i,e,t);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=oz(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=XA(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,i){const s=new Mve(t||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(XA(this._state)){case"success":Zc(this._resolve.bind(null,this.snapshot))();break;case"canceled":case"error":Zc(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(XA(this._state)){case"running":case"paused":e.next&&Zc(e.next.bind(e,this.snapshot))();break;case"success":e.complete&&Zc(e.complete.bind(e))();break;default:e.error&&Zc(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class _l{constructor(e,t){this._service=e,this._location=t instanceof _r?t:_r.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new _l(e,t)}get root(){const e=new _r(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return mz(this._location.path)}get storage(){return this._service}get parent(){const e=function hve(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new _r(this._location.bucket,e);return new _l(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function zye(n){return new Pt(Dt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function Wve(n){n._throwIfRoot("getDownloadURL");const e=function wve(n,e,t){const i=io(e.fullServerUrl(),n.host,n._protocol),o=n.maxOperationRetryTime,a=new ys(i,"GET",function Ive(n,e){return function t(r,i){const s=_z(n,i,e);return vs(null!==s),function yve(n,e,t,r){const i=YA(e);if(null===i||!Lv(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const d=n.fullPath;return io("/b/"+o(n.bucket)+"/o/"+o(d),t,r)+cz({alt:"media",token:u})})[0]}(s,i,n.host,n._protocol)}}(n,t),o);return a.errorHandler=Rp(e),a}(n.storage,n._location,Ap());return n.storage.makeRequestWithTokens(e,$i).then(t=>{if(null===t)throw function Hye(){return new Pt(Dt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return t})}function Nz(n,e){if(n instanceof tR){const t=n;if(null==t._bucket)throw function jye(){return new Pt(Dt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+iz+"' property when initializing the app?")}();const r=new _l(t,t._bucket);return null!=e?Nz(r,e):r}return void 0!==e?function Rz(n,e){const t=function fve(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new _r(n._location.bucket,t);return new _l(n.storage,r)}(n,e):n}function Mz(n,e){const t=e?.[iz];return null==t?null:_r.makeFromBucketSpec(t,n)}class tR{constructor(e,t,r,i,s){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=rz,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?_r.makeFromBucketSpec(i,this._host):Mz(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?_r.makeFromBucketSpec(this._url,e):Mz(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){KA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){KA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return v(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return v(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new _l(this,e)}_makeRequest(e,t,r,i,s=!0){if(this._deleted)return new Wye(lz());{const o=function rve(n,e,t,r,i,s,o=!0){const a=cz(n.urlParams),l=n.url+a,u=Object.assign({},n.headers);return function tve(n,e){e&&(n["X-Firebase-GMPID"]=e)}(u,e),function Xye(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(u,t),function eve(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(u,s),function nve(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(u,r),new Zye(l,n.method,u,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,o)}(e,this._appId,r,i,t,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,t){var r=this;return v(function*(){const[i,s]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,s).getPromise()})()}}const Pz="@firebase/storage",xz="storage";function Zve(n,e,t){return function jve(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new Vve(n,new so(e),t)}(n=Kt(n),e,t)}function Xve(n){return Wve(n=Kt(n))}function e0e(n,e){return function Yve(n,e){if(e&&function Kve(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof tR)return function Qve(n,e){return new _l(n,e)}(n,e);throw WA("To use ref(service, url), the first argument must be a Storage instance.")}return Nz(n,e)}(n=Kt(n),e)}function t0e(n=Hm(),e){const r=vh(n=Kt(n),xz).getImmediate({identifier:e}),i=ML("storage");return i&&function n0e(n,e,t,r={}){!function Jve(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:kL(i,n.app.options.projectId))}(n,e,t,r)}(r,...i),r}function r0e(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new tR(t,r,i,e,Aa)}!function i0e(){Ca(new Do(xz,r0e,"PUBLIC").setMultipleInstances(!0)),Jn(Pz,"0.11.2",""),Jn(Pz,"0.11.2","esm2017")}();class $v{constructor(e){return e}}const kz="storage",nR=new X("angularfire2.storage-instances");function a0e(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new $v(r)}}const l0e={provide:class s0e{constructor(){return zm(kz)}},deps:[[new kn,nR]]},u0e={provide:$v,useFactory:function o0e(n,e){const t=oT(kz,n,e);return t&&new $v(t)},deps:[[new kn,nR],Mu]};let c0e=(()=>{class n{constructor(){Jn("angularfire",Ih.full,"gcs")}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Le({type:n});static \u0275inj=xe({providers:[u0e,l0e]})}return n})();function d0e(n,...e){return{ngModule:c0e,providers:[{provide:nR,useFactory:a0e(n),multi:!0,deps:[Ee,zt,Wm,qm,[new kn,mD],[new kn,aT],...e]}]}}const h0e=Zn(Xve,!0),f0e=Zn(t0e,!0),p0e=Zn(e0e,!0),g0e=Zn(Zve,!0);let Fz=(()=>{class n{constructor(t,r){this.firestore=t,this.storage=r}getAllGoods(){const t=Gf(this.firestore,"goods");return J$(t,{idField:"id"})}addNewGood(t,r,i){const s=p0e(this.storage,"goods/"+i.name),o=g0e(s,i);return new Promise(a=>{o.on("state_changed",null,null,()=>{h0e(o.snapshot.ref).then(l=>{let u=Gf(this.firestore,"goods");return Z$(u,{name:t,price:r,photoUrl:l}).then(()=>a("addSucess"))})})})}static#e=this.\u0275fac=function(r){return new(r||n)(U(Dc),U($v))};static#t=this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Lz=(()=>{class n{constructor(t,r){this.firestore=t,this.authService=r}addToCart(t){let r=Gf(this.firestore,`users/${this.authService.userId}/cart`);return Z$(r,t)}getCart(){const t=Gf(this.firestore,`users/${this.authService.userId}/cart`);return J$(t,{idField:"id"})}delete(t){hce(ky(this.firestore,`users/${this.authService.userId}/cart/${t}`))}update(t,r){mce(ky(this.firestore,`users/${this.authService.userId}/cart/${t}`),{amount:r})}static#e=this.\u0275fac=function(r){return new(r||n)(U(Dc),U(no))};static#t=this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function m0e(n,e){if(1&n){const t=Fn();N(0,"button",11),ye("click",function(){rn(t);const i=ne().index;return sn(ne().addToCart(i))}),Z(1,"add to cart"),R()}}function _0e(n,e){if(1&n){const t=Fn();N(0,"div"),Et(1,"input",12,13),N(3,"button",11),ye("click",function(){rn(t);const i=Se(2);return sn(ne(2).buy(i))}),Z(4,"Buy"),R()()}}function y0e(n,e){if(1&n&&(N(0,"div",3)(1,"div",4),Et(2,"img",5),N(3,"div",6)(4,"h5",7),Z(5),oh(6,"titlecase"),R(),N(7,"p",8),Z(8),oh(9,"currency"),R(),j(10,m0e,2,0,"button",9),j(11,_0e,5,0,"div",10),R()()()),2&n){const t=e.$implicit,r=e.index,i=ne();F(2),V("src",t.photoUrl,PE)("alt",t.name),F(3),dr(ah(6,6,t.name)),F(3),dr(ah(9,8,t.price)),F(2),V("ngIf",i.add!==r),F(1),V("ngIf",i.add===r)}}let v0e=(()=>{class n{constructor(t,r,i,s){this.gs=t,this.authService=r,this.cartServ=i,this.router=s,this.goods$=new Fe,this.add=-1}ngOnInit(){this.gs.getAllGoods().pipe(t=>this.goods$=t)}addToCart(t){this.authService.userId?this.add=+t:this.router.navigate(["/login"])}buy(t){this.goods$.subscribe(r=>{let i=r[this.add];this.cartServ.addToCart({name:i.name,amount:+t.value,price:i.price}).then(()=>this.add=-1)})}static#e=this.\u0275fac=function(r){return new(r||n)(E(Fz),E(no),E(Lz),E(ir))};static#t=this.\u0275cmp=nn({type:n,selectors:[["app-home"]],decls:4,vars:3,consts:[[1,"container","text-center"],[1,"row","justify-content-center"],["class","col-md-3  col-sm-6 m-2 goods-element ",4,"ngFor","ngForOf"],[1,"col-md-3","col-sm-6","m-2","goods-element"],[1,"card",2,"width","18rem"],[1,"card-img-top",3,"src","alt"],[1,"card-body"],[1,"card-title"],[1,"card-text"],["class","btn btn-primary",3,"click",4,"ngIf"],[4,"ngIf"],[1,"btn","btn-primary",3,"click"],["type","number","placeholder","Amount (kg)",1,"form-control"],["amount",""]],template:function(r,i){1&r&&(N(0,"div",0)(1,"div",1),j(2,y0e,12,10,"div",2),oh(3,"async"),R()()),2&r&&(F(2),V("ngForOf",ah(3,1,i.goods$)))},dependencies:[ns,pi,XF,eL,RI],styles:[".card-img-top[_ngcontent-%COMP%]{height:170px}"]})}return n})();function E0e(n,e){1&n&&(N(0,"div",14),Z(1," Email is required "),R())}function b0e(n,e){1&n&&(N(0,"div",14),Z(1," Email not valid "),R())}function I0e(n,e){if(1&n&&(N(0,"div"),j(1,E0e,2,0,"div",13),j(2,b0e,2,0,"div",13),R()),2&n){ne();const t=Se(10);F(1),V("ngIf",null==t.errors?null:t.errors.required),F(1),V("ngIf",null==t.errors?null:t.errors.email)}}function T0e(n,e){1&n&&(N(0,"div",14),Z(1," Password is required "),R())}function w0e(n,e){if(1&n&&(N(0,"div",14),Z(1),R()),2&n){ne(2);const t=Se(18);F(1),ks(" Name must be at least ",null==t.errors?null:t.errors.minlength.requiredLength," characters long. ")}}function D0e(n,e){if(1&n&&(N(0,"div"),j(1,T0e,2,0,"div",13),j(2,w0e,2,1,"div",13),R()),2&n){ne();const t=Se(18);F(1),V("ngIf",null==t.errors?null:t.errors.required),F(1),V("ngIf",null==t.errors?null:t.errors.minlength)}}let S0e=(()=>{class n{constructor(t){this.authServ=t,this.errorMessage=""}signin(t){let r=t.value;this.authServ.signin(r.email,r.password).then(i=>{console.log(i.user)}).catch(i=>{this.errorMessage=i.message})}static#e=this.\u0275fac=function(r){return new(r||n)(E(no))};static#t=this.\u0275cmp=nn({type:n,selectors:[["app-signin"]],decls:22,vars:3,consts:[[1,"container"],[3,"ngSubmit"],["signinform","ngForm"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","ngModel","","name","email","required","","email","",1,"form-control"],["email","ngModel"],["id","emailHelp",1,"form-text"],[4,"ngIf"],["for","password1",1,"form-label"],["type","password","id","password1","ngModel","","name","password","minlength","6","required","",1,"form-control"],["password","ngModel"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","alert alert-danger",4,"ngIf"],[1,"alert","alert-danger"]],template:function(r,i){if(1&r){const s=Fn();N(0,"div",0)(1,"h2"),Z(2,"Sign in "),R(),N(3,"div")(4,"form",1,2),ye("ngSubmit",function(){rn(s);const a=Se(5);return sn(i.signin(a))}),N(6,"div",3)(7,"label",4),Z(8,"Email address"),R(),Et(9,"input",5,6),N(11,"div",7),Z(12,"We'll never share your email with anyone else."),R(),j(13,I0e,3,2,"div",8),R(),N(14,"div",3)(15,"label",9),Z(16,"Password"),R(),Et(17,"input",10,11),j(19,D0e,3,2,"div",8),R(),N(20,"button",12),Z(21,"sign in"),R()()()()}if(2&r){const s=Se(5),o=Se(10),a=Se(18);F(13),V("ngIf",o.invalid&&(o.dirty||o.touched)),F(6),V("ngIf",a.invalid&&(a.dirty||a.touched)),F(1),V("disabled",!s.form.valid)}},dependencies:[pi,mv,ol,cp,av,jc,vv,yv,Uc,Bc]})}return n})();function C0e(n,e){1&n&&(N(0,"div",23),Z(1," Name is required "),R())}function A0e(n,e){if(1&n&&(N(0,"div",23),Z(1),R()),2&n){ne(2);const t=Se(10);F(1),ks(" Name must be at least ",null==t.errors?null:t.errors.minlength.requiredLength," characters long. ")}}function R0e(n,e){if(1&n&&(N(0,"div"),j(1,C0e,2,0,"div",18),j(2,A0e,2,1,"div",18),R()),2&n){ne();const t=Se(10);F(1),V("ngIf",null==t.errors?null:t.errors.required),F(1),V("ngIf",null==t.errors?null:t.errors.minlength)}}function N0e(n,e){1&n&&(N(0,"div",23),Z(1," Email is required "),R())}function M0e(n,e){1&n&&(N(0,"div",23),Z(1," Email not valid "),R())}function P0e(n,e){if(1&n&&(N(0,"div"),j(1,N0e,2,0,"div",18),j(2,M0e,2,0,"div",18),R()),2&n){ne();const t=Se(16);F(1),V("ngIf",null==t.errors?null:t.errors.required),F(1),V("ngIf",null==t.errors?null:t.errors.email)}}function O0e(n,e){1&n&&(N(0,"div",23),Z(1," Password is required "),R())}function x0e(n,e){if(1&n&&(N(0,"div",23),Z(1),R()),2&n){ne(2);const t=Se(24);F(1),ks(" Name must be at least ",null==t.errors?null:t.errors.minlength.requiredLength," characters long. ")}}function k0e(n,e){if(1&n&&(N(0,"div"),j(1,O0e,2,0,"div",18),j(2,x0e,2,1,"div",18),R()),2&n){ne();const t=Se(24);F(1),V("ngIf",null==t.errors?null:t.errors.required),F(1),V("ngIf",null==t.errors?null:t.errors.minlength)}}function F0e(n,e){1&n&&(N(0,"div",23),Z(1," Confirm Password is required "),R())}function L0e(n,e){if(1&n&&(N(0,"div"),j(1,F0e,2,0,"div",18),R()),2&n){ne();const t=Se(30);F(1),V("ngIf",null==t.errors?null:t.errors.required)}}function V0e(n,e){1&n&&(N(0,"div",23),Z(1," Passwords are not equal "),R())}function B0e(n,e){1&n&&(N(0,"div",23),Z(1," Address is required "),R())}function U0e(n,e){if(1&n&&(N(0,"div"),j(1,B0e,2,0,"div",18),R()),2&n){ne();const t=Se(37);F(1),V("ngIf",null==t.errors?null:t.errors.required)}}let j0e=(()=>{class n{constructor(t,r){this.authServ=t,this.userServ=r,this.errorMessage=""}signup(t){let r=t.value;this.authServ.signup(r.email,r.password).then(i=>{this.userServ.addNewUser(i.user.uid,r.name,r.address).then(()=>{console.log("user added successfuly")}).catch(o=>{this.errorMessage=o.message})}).catch(i=>{this.errorMessage=i.message})}static#e=this.\u0275fac=function(r){return new(r||n)(E(no),E(QC))};static#t=this.\u0275cmp=nn({type:n,selectors:[["app-signup"]],decls:41,vars:7,consts:[[1,"container"],[3,"ngSubmit"],["signupform","ngForm"],[1,"mb-3"],["for","name",1,"form-label"],["type","text","id","name","ngModel","","name","name","minlength","3","required","",1,"form-control"],["name","ngModel"],[4,"ngIf"],["for","email",1,"form-label"],["type","email","id","email","ngModel","","name","email","required","","email","",1,"form-control"],["email","ngModel"],["id","emailHelp",1,"form-text"],["for","password1",1,"form-label"],["type","password","id","password1","ngModel","","name","password","minlength","6","required","",1,"form-control"],["password","ngModel"],["for","confirm-password",1,"form-label"],["type","password","id","confirm-password","ngModel","","name","passwordConfirm","required","",1,"form-control"],["passwordConfirm","ngModel"],["class","alert alert-danger",4,"ngIf"],["for","address",1,"form-label"],["type","text","id","address","ngModel","","name","address","required","",1,"form-control"],["address","ngModel"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"alert","alert-danger"]],template:function(r,i){if(1&r){const s=Fn();N(0,"div",0)(1,"h2"),Z(2,"Sign up "),R(),N(3,"div")(4,"form",1,2),ye("ngSubmit",function(){rn(s);const a=Se(5);return sn(i.signup(a))}),N(6,"div",3)(7,"label",4),Z(8,"Your Name"),R(),Et(9,"input",5,6),j(11,R0e,3,2,"div",7),R(),N(12,"div",3)(13,"label",8),Z(14,"Email address"),R(),Et(15,"input",9,10),N(17,"div",11),Z(18,"We'll never share your email with anyone else."),R(),j(19,P0e,3,2,"div",7),R(),N(20,"div",3)(21,"label",12),Z(22,"Password"),R(),Et(23,"input",13,14),j(25,k0e,3,2,"div",7),R(),N(26,"div",3)(27,"label",15),Z(28,"Confirm Password"),R(),Et(29,"input",16,17),j(31,L0e,2,1,"div",7),j(32,V0e,2,0,"div",18),R(),N(33,"div",3)(34,"label",19),Z(35,"Address"),R(),Et(36,"input",20,21),j(38,U0e,2,1,"div",7),R(),N(39,"button",22),Z(40,"Create Account"),R()()()()}if(2&r){const s=Se(5),o=Se(10),a=Se(16),l=Se(24),u=Se(30),c=Se(37);F(11),V("ngIf",o.invalid&&(o.dirty||o.touched)),F(8),V("ngIf",a.invalid&&(a.dirty||a.touched)),F(6),V("ngIf",l.invalid&&(l.dirty||l.touched)),F(6),V("ngIf",u.invalid&&(u.dirty||u.touched)),F(1),V("ngIf",l.value!==u.value&&u.touched),F(6),V("ngIf",c.invalid&&(c.dirty||c.touched)),F(1),V("disabled",!s.form.valid||l.value!==u.value)}},dependencies:[pi,mv,ol,cp,av,jc,vv,yv,Uc,Bc]})}return n})();function $0e(n,e){if(1&n){const t=Fn();N(0,"tr")(1,"th",3),Z(2),R(),N(3,"td"),Z(4),R(),N(5,"td"),Z(6),R(),N(7,"td")(8,"input",4),ye("ngModelChange",function(i){return sn(rn(t).$implicit.amount=i)}),R()(),N(9,"td"),Z(10),oh(11,"currency"),R(),N(12,"td")(13,"button",5),ye("click",function(){const s=rn(t).index;return sn(ne().update(s))}),Z(14,"Save"),R(),Z(15," | "),N(16,"button",6),ye("click",function(){const s=rn(t).index;return sn(ne().delete(s))}),Z(17,"Delete"),R()()()}if(2&n){const t=e.$implicit,r=e.index;F(2),dr(r+1),F(2),dr(t.name),F(2),dr(t.price),F(2),V("ngModel",t.amount),F(2),dr(ah(11,5,t.price*t.amount))}}let H0e=(()=>{class n{constructor(t){this.cartServ=t,this.cartItems=[]}ngOnInit(){this.subscription=this.cartServ.getCart().subscribe(t=>this.cartItems=t),console.log("cart component")}delete(t){this.cartServ.delete(this.cartItems[t].id)}update(t){console.log(this.cartItems[t].amount),this.cartServ.update(this.cartItems[t].id,this.cartItems[t].amount)}ngOnDestroy(){this.subscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||n)(E(Lz))};static#t=this.\u0275cmp=nn({type:n,selectors:[["app-cart"]],decls:17,vars:1,consts:[[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],["type","number","placeholder","Amount (kg)",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-danger",3,"click"]],template:function(r,i){1&r&&(N(0,"table",0)(1,"thead")(2,"tr")(3,"th",1),Z(4,"#"),R(),N(5,"th",1),Z(6,"Name"),R(),N(7,"th",1),Z(8,"Price"),R(),N(9,"th",1),Z(10,"Amount"),R(),N(11,"th",1),Z(12,"Total"),R(),N(13,"th",1),Z(14,"Options"),R()()(),N(15,"tbody"),j(16,$0e,18,7,"tr",2),R()()),2&r&&(F(16),V("ngForOf",i.cartItems))},dependencies:[ns,ol,_v,cp,Uc,RI]})}return n})();const G0e=["image"];function z0e(n,e){1&n&&(N(0,"div",16),Z(1," Good Name is required "),R())}function W0e(n,e){if(1&n&&(N(0,"div"),j(1,z0e,2,0,"div",15),R()),2&n){ne();const t=Se(10);F(1),V("ngIf",null==t.errors?null:t.errors.required)}}function q0e(n,e){1&n&&(N(0,"div",16),Z(1," Price is required "),R())}function K0e(n,e){if(1&n&&(N(0,"div"),j(1,q0e,2,0,"div",15),R()),2&n){ne();const t=Se(16);F(1),V("ngIf",null==t.errors?null:t.errors.required)}}let Q0e=(()=>{class n{constructor(t){this.goodServ=t}addGood(t){let r=t.value.goodName,i=t.value.price,s=(this.image?.nativeElement).files[0];console.log(s),this.goodServ.addNewGood(r,i,s).then(o=>console.log(o))}static#e=this.\u0275fac=function(r){return new(r||n)(E(Fz))};static#t=this.\u0275cmp=nn({type:n,selectors:[["app-goods"]],viewQuery:function(r,i){if(1&r&&bo(G0e,5),2&r){let s;Ze(s=Xe())&&(i.image=s.first)}},decls:25,vars:3,consts:[[1,"container"],[3,"ngSubmit"],["goodForm","ngForm"],[1,"mb-3"],["for","good-name",1,"form-label"],["type","text","id","good-name","ngModel","","name","goodName","required","",1,"form-control"],["goodName","ngModel"],[4,"ngIf"],["for","price",1,"form-label"],["type","number","id","price","ngModel","","name","price","required","",1,"form-control"],["price","ngModel"],["for","image",1,"form-label"],["type","file","id","image","ngModel","","name","image","required","",1,"form-control"],["image",""],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","alert alert-danger",4,"ngIf"],[1,"alert","alert-danger"]],template:function(r,i){if(1&r){const s=Fn();N(0,"div",0)(1,"h2"),Z(2,"Add New Good"),R(),N(3,"div")(4,"form",1,2),ye("ngSubmit",function(){rn(s);const a=Se(5);return sn(i.addGood(a))}),N(6,"div",3)(7,"label",4),Z(8,"Good Name"),R(),Et(9,"input",5,6),j(11,W0e,2,1,"div",7),R(),N(12,"div",3)(13,"label",8),Z(14,"Price"),R(),Et(15,"input",9,10),j(17,K0e,2,1,"div",7),R(),N(18,"div",3)(19,"label",11),Z(20,"Image"),R(),Et(21,"input",12,13),R(),N(23,"button",14),Z(24,"Add Good"),R()()()()}if(2&r){const s=Se(5),o=Se(10),a=Se(16);F(11),V("ngIf",o.invalid&&(o.dirty||o.touched)),F(6),V("ngIf",a.invalid&&(a.dirty||a.touched)),F(6),V("disabled",s.invalid)}},dependencies:[pi,mv,ol,_v,cp,av,jc,Uc,Bc]})}return n})(),Y0e=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=nn({type:n,selectors:[["app-notfound"]],decls:2,vars:0,template:function(r,i){1&r&&(N(0,"p"),Z(1,"notfound works!"),R())}})}return n})();const Vz=(n,e)=>{const t=B(no),r=B(ir);return new Promise(i=>{t.user$.subscribe(s=>{s?(r.navigate(["/"]),i(!1)):i(!0)})})},Z0e=[{path:"",component:v0e,data:{animation:"homePage"}},{path:"login",component:S0e,canActivate:[Vz]},{path:"signup",component:j0e,canActivate:[Vz]},{path:"cart",component:H0e,canActivate:[(n,e)=>{const t=B(no),r=B(ir);return new Promise(i=>{t.user$.subscribe(s=>{s?i(!0):(r.navigate(["/login"]),i(!1))})})}],data:{animation:"cartPage"}},{path:"admin",component:Q0e,canActivate:[(n,e)=>{const t=B(no),r=B(ir),i=B(QC);return new Promise(s=>{t.user$.subscribe(o=>{o?i.getUserData().then(a=>{console.log(a),a&&a.admin?s(!0):(r.navigate(["/"]),s(!1))}):(r.navigate(["/"]),s(!1))})})}]},{path:"**",component:Y0e}];let X0e=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Le({type:n});static#n=this.\u0275inj=xe({imports:[fG.forRoot(Z0e),fG]})}return n})();function Bz(n){return new C(3e3,!1)}function ta(n){switch(n.length){case 0:return new zf;case 1:return n[0];default:return new rH(n)}}function Uz(n,e,t=new Map,r=new Map){const i=[],s=[];let o=-1,a=null;if(e.forEach(l=>{const u=l.get("offset"),c=u==o,d=c&&a||new Map;l.forEach((h,f)=>{let p=f,g=h;if("offset"!==f)switch(p=n.normalizePropertyName(p,i),g){case"!":g=t.get(f);break;case Xs:g=r.get(f);break;default:g=n.normalizeStyleValue(f,p,g,i)}d.set(p,g)}),c||s.push(d),a=d,o=u}),i.length)throw function IEe(n){return new C(3502,!1)}();return s}function rR(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&iR(t,"start",n)));break;case"done":n.onDone(()=>r(t&&iR(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&iR(t,"destroy",n)))}}function iR(n,e,t){const s=sR(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function sR(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Xr(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function jz(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const xEe=(()=>typeof document>"u"?null:document.documentElement)();function oR(n){const e=n.parentNode||n.host||null;return e===xEe?null:e}let yl=null,$z=!1;function Hz(n,e){for(;e;){if(e===n)return!0;e=oR(e)}return!1}function Gz(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]}let zz=(()=>{class n{validateStyleProperty(t){return function FEe(n){yl||(yl=function LEe(){return typeof document<"u"?document.body:null}()||{},$z=!!yl.style&&"WebkitAppearance"in yl.style);let e=!0;return yl.style&&!function kEe(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in yl.style,!e&&$z&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in yl.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return Hz(t,r)}getParentElement(t){return oR(t)}query(t,r,i){return Gz(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,a=[],l){return new zf(i,s)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),aR=(()=>{class n{static#e=this.NOOP=new zz}return n})();const VEe=1e3,lR="ng-enter",Hv="ng-leave",Gv="ng-trigger",zv=".ng-trigger",qz="ng-animating",uR=".ng-animating";function oo(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:cR(parseFloat(e[1]),e[2])}function cR(n,e){return"s"===e?n*VEe:n}function Wv(n,e,t){return n.hasOwnProperty("duration")?n:function UEe(n,e,t){let i,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(Bz()),{duration:0,delay:0,easing:""};i=cR(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=cR(parseFloat(l),a[4]));const u=a[5];u&&(o=u)}else i=n;if(!t){let a=!1,l=e.length;i<0&&(e.push(function eEe(){return new C(3100,!1)}()),a=!0),s<0&&(e.push(function tEe(){return new C(3101,!1)}()),a=!0),a&&e.splice(l,0,Bz())}return{duration:i,delay:s,easing:o}}(n,e,t)}function Np(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Kz(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function na(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function Es(n,e,t){e.forEach((r,i)=>{const s=hR(i);t&&!t.has(i)&&t.set(i,n.style[s]),n.style[s]=r})}function vl(n,e){e.forEach((t,r)=>{const i=hR(r);n.style[i]=""})}function Mp(n){return Array.isArray(n)?1==n.length?n[0]:tH(n):n}const dR=new RegExp("{{\\s*(.+?)\\s*}}","g");function Yz(n){let e=[];if("string"==typeof n){let t;for(;t=dR.exec(n);)e.push(t[1]);dR.lastIndex=0}return e}function Pp(n,e,t){const r=n.toString(),i=r.replace(dR,(s,o)=>{let a=e[o];return null==a&&(t.push(function rEe(n){return new C(3003,!1)}()),a=""),a.toString()});return i==r?n:i}function qv(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const HEe=/-+([a-z0-9])/g;function hR(n){return n.replace(HEe,(...e)=>e[1].toUpperCase())}function ei(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function iEe(n){return new C(3004,!1)}()}}function Jz(n,e){return window.getComputedStyle(n)[e]}const Kv="*";function WEe(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function qEe(n,e,t){if(":"==n[0]){const l=function KEe(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function yEe(n){return new C(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function _Ee(n){return new C(3015,!1)}()),e;const i=r[1],s=r[2],o=r[3];e.push(Zz(i,o));"<"==s[0]&&!(i==Kv&&o==Kv)&&e.push(Zz(o,i))}(r,t,e)):t.push(n),t}const Qv=new Set(["true","1"]),Yv=new Set(["false","0"]);function Zz(n,e){const t=Qv.has(n)||Yv.has(n),r=Qv.has(e)||Yv.has(e);return(i,s)=>{let o=n==Kv||n==i,a=e==Kv||e==s;return!o&&t&&"boolean"==typeof i&&(o=i?Qv.has(n):Yv.has(n)),!a&&r&&"boolean"==typeof s&&(a=s?Qv.has(e):Yv.has(e)),o&&a}}const QEe=new RegExp("s*:selfs*,?","g");function fR(n,e,t,r){return new YEe(n).build(e,t,r)}class YEe{constructor(e){this._driver=e}build(e,t,r){const i=new XEe(t);return this._resetContextStyleTimingState(i),ei(this,Mp(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function oEe(){return new C(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const l=a,u=l.name;u.toString().split(/\s*,\s*/).forEach(c=>{l.name=c,s.push(this.visitState(l,t))}),l.name=u}else if(1==a.type){const l=this.visitTransition(a,t);r+=l.queryCount,i+=l.depCount,o.push(l)}else t.errors.push(function aEe(){return new C(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{Yz(l).forEach(u=>{o.hasOwnProperty(u)||s.add(u)})})}),s.size&&(qv(s.values()),t.errors.push(function lEe(n,e){return new C(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=ei(this,Mp(e.animation),t);return{type:1,matchers:WEe(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:El(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>ei(this,r,t)),options:El(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(o=>{t.currentTime=r;const a=ei(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:s,options:El(e.options)}}visitAnimate(e,t){const r=function tbe(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return pR(Wv(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=pR(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=Wv(t,e);return pR(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:_i({});if(5==s.type)i=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const u={};r.easing&&(u.easing=r.easing),o=_i(u)}t.currentTime+=r.duration+r.delay;const l=this.visitStyle(o,t);l.isEmptyStep=a,i=l}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===Xs?r.push(a):t.errors.push(new C(3002,!1)):r.push(Kz(a));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let l of a.values())if(l.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,l)=>{const u=t.collectedStyles.get(t.currentQuerySelector),c=u.get(l);let d=!0;c&&(s!=i&&s>=c.startTime&&i<=c.endTime&&(t.errors.push(function cEe(n,e,t,r,i){return new C(3010,!1)}()),d=!1),s=c.startTime),d&&u.set(l,{startTime:s,endTime:i}),t.options&&function $Ee(n,e,t){const r=e.params||{},i=Yz(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function nEe(n){return new C(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function dEe(){return new C(3011,!1)}()),r;let s=0;const o=[];let a=!1,l=!1,u=0;const c=e.steps.map(y=>{const _=this._makeStyleAst(y,t);let I=null!=_.offset?_.offset:function ebe(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(_.styles),w=0;return null!=I&&(s++,w=_.offset=I),l=l||w<0||w>1,a=a||w<u,u=w,o.push(w),_});l&&t.errors.push(function hEe(){return new C(3012,!1)}()),a&&t.errors.push(function fEe(){return new C(3200,!1)}());const d=e.steps.length;let h=0;s>0&&s<d?t.errors.push(function pEe(){return new C(3202,!1)}()):0==s&&(h=1/(d-1));const f=d-1,p=t.currentTime,g=t.currentAnimateTimings,m=g.duration;return c.forEach((y,_)=>{const I=h>0?_==f?1:h*_:o[_],w=I*m;t.currentTime=p+g.delay+w,g.duration=w,this._validateStyleAst(y,t),y.offset=I,r.styles.push(y)}),r}visitReference(e,t){return{type:8,animation:ei(this,Mp(e.animation),t),options:El(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:El(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:El(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function JEe(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(QEe,"")),n=n.replace(/@\*/g,zv).replace(/@\w+/g,t=>zv+"-"+t.slice(1)).replace(/:animating/g,uR),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,Xr(t.collectedStyles,t.currentQuerySelector,new Map);const a=ei(this,Mp(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:El(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function gEe(){return new C(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:Wv(e.timings,t.errors,!0);return{type:12,animation:ei(this,Mp(e.animation),t),timings:r,options:null}}}class XEe{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function El(n){return n?(n=Np(n)).params&&(n.params=function ZEe(n){return n?Np(n):null}(n.params)):n={},n}function pR(n,e,t){return{duration:n,delay:e,easing:t}}function gR(n,e,t,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class Jv{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const ibe=new RegExp(":enter","g"),obe=new RegExp(":leave","g");function mR(n,e,t,r,i,s=new Map,o=new Map,a,l,u=[]){return(new abe).buildKeyframes(n,e,t,r,i,s,o,a,l,u)}class abe{buildKeyframes(e,t,r,i,s,o,a,l,u,c=[]){u=u||new Jv;const d=new _R(e,t,u,i,s,c,[]);d.options=l;const h=l.delay?oo(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([o],null,d.errors,l),ei(this,r,d);const f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let g=f.length-1;g>=0;g--){const m=f[g];if(m.element===t){p=m;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,l)}return f.length?f.map(p=>p.buildKeyframes()):[gR(t,[],[],[],0,h,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const s=i?.delay;if(s){const o="number"==typeof s?s:oo(Pp(s,i?.params??{},t.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const o=null!=r.duration?oo(r.duration):null,a=null!=r.delay?oo(r.delay):null;return 0!==o&&e.forEach(l=>{const u=t.appendInstructionToTimeline(l,o,a);s=Math.max(s,u.duration+u.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),ei(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Zv);const o=oo(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>ei(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?oo(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),ei(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return Wv(t.params?Pp(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?oo(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Zv);let o=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((u,c)=>{t.currentQueryIndex=c;const d=t.createSubContext(e.options,u);s&&d.delayNextStep(s),u===t.element&&(l=d.currentTimeline),ei(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let l=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime}const c=t.currentTimeline;l&&c.delayNextStep(l);const d=c.currentTime;ei(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const Zv={};class _R{constructor(e,t,r,i,s,o,a,l){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Zv,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Xv(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=oo(r.duration)),null!=r.delay&&(i.delay=oo(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=Pp(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new _R(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Zv,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new lbe(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(ibe,"."+this._enterClassName)).replace(obe,"."+this._leaveClassName);let u=this._driver.query(this.element,e,1!=r);0!==r&&(u=r<0?u.slice(u.length+r,u.length):u.slice(0,r)),a.push(...u)}return!s&&0==a.length&&o.push(function mEe(n){return new C(3014,!1)}()),a}}class Xv{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Xv(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Xs),this._currentKeyframe.set(t,Xs);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const s=i&&i.params||{},o=function ube(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let s of r)t.set(s,Xs)}else na(i,t)}),t}(e,this._globalTimelineStyles);for(let[a,l]of o){const u=Pp(l,s,r);this._pendingStyles.set(a,u),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Xs),this._updateStyle(a,u)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,l)=>{const u=na(a,new Map,this._backFill);u.forEach((c,d)=>{"!"===c?e.add(d):c===Xs&&t.add(d)}),r||u.set("offset",l/this.duration),i.push(u)});const s=e.size?qv(e.values()):[],o=t.size?qv(t.values()):[];if(r){const a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return gR(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class lbe extends Xv{constructor(e,t,r,i,s,o,a=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=r+t,a=t/o,l=na(e[0]);l.set("offset",0),s.push(l);const u=na(e[0]);u.set("offset",t5(a)),s.push(u);const c=e.length-1;for(let d=1;d<=c;d++){let h=na(e[d]);const f=h.get("offset");h.set("offset",t5((t+f*r)/o)),s.push(h)}r=o,t=0,i="",e=s}return gR(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function t5(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class yR{}const cbe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class dbe extends yR{normalizePropertyName(e,t){return hR(e)}normalizeStyleValue(e,t,r,i){let s="";const o=r.toString().trim();if(cbe.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function sEe(n,e){return new C(3005,!1)}())}return o+s}}function n5(n,e,t,r,i,s,o,a,l,u,c,d,h){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:u,postStyleProps:c,totalTime:d,errors:h}}const vR={};class r5{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function hbe(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,s,o,a,l,u,c){const d=[],h=this.ast.options&&this.ast.options.params||vR,p=this.buildStyles(r,a&&a.params||vR,d),g=l&&l.params||vR,m=this.buildStyles(i,g,d),y=new Set,_=new Map,I=new Map,w="void"===i,M={params:fbe(g,h),delay:this.ast.options?.delay},L=c?[]:mR(e,t,this.ast.animation,s,o,p,m,M,u,d);let K=0;if(L.forEach(Te=>{K=Math.max(Te.duration+Te.delay,K)}),d.length)return n5(t,this._triggerName,r,i,w,p,m,[],[],_,I,K,d);L.forEach(Te=>{const Oe=Te.element,Xt=Xr(_,Oe,new Set);Te.preStyleProps.forEach(Ot=>Xt.add(Ot));const qn=Xr(I,Oe,new Set);Te.postStyleProps.forEach(Ot=>qn.add(Ot)),Oe!==t&&y.add(Oe)});const ie=qv(y.values());return n5(t,this._triggerName,r,i,w,p,m,L,ie,_,I,K)}}function fbe(n,e){const t=Np(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class pbe{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=Np(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!==o&&(i[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=Pp(o,i,t));const l=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,l,o,t),r.set(a,o)})}),r}}class mbe{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new pbe(i.style,i.options&&i.options.params||{},r))}),i5(this.states,"true","1"),i5(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new r5(e,i,this.states))}),this.fallbackTransition=function _be(n,e,t){return new r5(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function i5(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const ybe=new Jv;class vbe{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],s=fR(this._driver,t,r,[]);if(r.length)throw function TEe(n){return new C(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,r){const i=e.element,s=Uz(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=mR(this._driver,t,s,lR,Hv,new Map,new Map,r,ybe,i),o.forEach(c=>{const d=Xr(a,c.element,new Map);c.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(function wEe(){return new C(3300,!1)}()),o=[]),i.length)throw function DEe(n){return new C(3504,!1)}();a.forEach((c,d)=>{c.forEach((h,f)=>{c.set(f,this._driver.computeStyle(d,f,Xs))})});const u=ta(o.map(c=>{const d=a.get(c.element);return this._buildPlayer(c,new Map,d)}));return this._playersById.set(e,u),u.onDestroy(()=>this.destroy(e)),this.players.push(u),u}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function SEe(n){return new C(3301,!1)}();return t}listen(e,t,r,i){const s=sR(t,"","","");return rR(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const s5="ng-animate-queued",ER="ng-animate-disabled",wbe=[],o5={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Dbe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Hi="__ng_removed";class bR{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function Rbe(n){return n??null}(r?e.value:e),r){const s=Np(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Op="void",IR=new bR(Op);class Sbe{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ei(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function CEe(n,e){return new C(3302,!1)}();if(null==r||0==r.length)throw function AEe(n){return new C(3303,!1)}();if(!function Nbe(n){return"start"==n||"done"==n}(r))throw function REe(n,e){return new C(3400,!1)}();const s=Xr(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);const a=Xr(this._engine.statesByElement,e,new Map);return a.has(t)||(Ei(e,Gv),Ei(e,Gv+"-"+t),a.set(t,IR)),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function NEe(n){return new C(3401,!1)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),o=new TR(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(Ei(e,Gv),Ei(e,Gv+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t);const u=new bR(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&u.absorbOptions(l.options),a.set(t,u),l||(l=IR),u.value!==Op&&l.value===u.value){if(!function Obe(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(l.params,u.params)){const g=[],m=s.matchStyles(l.value,l.params,g),y=s.matchStyles(u.value,u.params,g);g.length?this._engine.reportError(g):this._engine.afterFlush(()=>{vl(e,m),Es(e,y)})}return}const h=Xr(this._engine.playersByElement,e,[]);h.forEach(g=>{g.namespaceId==this.id&&g.triggerName==t&&g.queued&&g.destroy()});let f=s.matchTransition(l.value,u.value,e,u.params),p=!1;if(!f){if(!i)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:l,toState:u,player:o,isFallbackTransition:p}),p||(Ei(e,s5),o.onStart(()=>{Xc(e,s5)})),o.onDone(()=>{let g=this.players.indexOf(o);g>=0&&this.players.splice(g,1);const m=this._engine.playersByElement.get(e);if(m){let y=m.indexOf(o);y>=0&&m.splice(y,1)}}),this.players.push(o),h.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,zv,!0);r.forEach(i=>{if(i[Hi])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((l,u)=>{if(o.set(u,l.value),this._triggers.has(u)){const c=this.trigger(e,u,Op,i);c&&a.push(c)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),r&&ta(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const l=this._triggers.get(o).fallbackTransition,u=r.get(o)||IR,c=new bR(Op),d=new TR(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:u,toState:c,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[Hi];(!s||s===o5)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Ei(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const l=sR(s,r.triggerName,r.fromState.value,r.toState.value);l._data=e,rR(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class Cbe{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new Sbe(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){const l=i.get(a);if(l){const u=r.indexOf(l);r.splice(u+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}return t}trigger(e,t,r,i){if(e0(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!e0(t))return;const s=t[Hi];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ei(e,ER)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Xc(e,ER))}removeNode(e,t,r){if(e0(t)){const i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);const s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[Hi]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return e0(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,zv,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,uR,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return ta(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Hi];if(t&&t.setForRemoval){if(e[Hi]=o5,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(ER)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Ei(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?ta(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function MEe(n){return new C(3402,!1)}()}_flushAnimations(e,t){const r=new Jv,i=[],s=new Map,o=[],a=new Map,l=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(Q=>{c.add(Q);const re=this.driver.query(Q,".ng-animate-queued",!0);for(let le=0;le<re.length;le++)c.add(re[le])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=u5(h,this.collectedEnterElements),p=new Map;let g=0;f.forEach((Q,re)=>{const le=lR+g++;p.set(re,le),Q.forEach(we=>Ei(we,le))});const m=[],y=new Set,_=new Set;for(let Q=0;Q<this.collectedLeaveElements.length;Q++){const re=this.collectedLeaveElements[Q],le=re[Hi];le&&le.setForRemoval&&(m.push(re),y.add(re),le.hasAnimation?this.driver.query(re,".ng-star-inserted",!0).forEach(we=>y.add(we)):_.add(re))}const I=new Map,w=u5(h,Array.from(y));w.forEach((Q,re)=>{const le=Hv+g++;I.set(re,le),Q.forEach(we=>Ei(we,le))}),e.push(()=>{f.forEach((Q,re)=>{const le=p.get(re);Q.forEach(we=>Xc(we,le))}),w.forEach((Q,re)=>{const le=I.get(re);Q.forEach(we=>Xc(we,le))}),m.forEach(Q=>{this.processLeaveNode(Q)})});const M=[],L=[];for(let Q=this._namespaceList.length-1;Q>=0;Q--)this._namespaceList[Q].drainQueuedTransitions(t).forEach(le=>{const we=le.player,xt=le.element;if(M.push(we),this.collectedEnterElements.length){const en=xt[Hi];if(en&&en.setForMove){if(en.previousTriggersValues&&en.previousTriggersValues.has(le.triggerName)){const vr=en.previousTriggersValues.get(le.triggerName),sr=this.statesByElement.get(le.element);if(sr&&sr.has(le.triggerName)){const ed=sr.get(le.triggerName);ed.value=vr,sr.set(le.triggerName,ed)}}return void we.destroy()}}const Lr=!d||!this.driver.containsElement(d,xt),vn=I.get(xt),ti=p.get(xt),et=this._buildInstruction(le,r,ti,vn,Lr);if(et.errors&&et.errors.length)return void L.push(et);if(Lr)return we.onStart(()=>vl(xt,et.fromStyles)),we.onDestroy(()=>Es(xt,et.toStyles)),void i.push(we);if(le.isFallbackTransition)return we.onStart(()=>vl(xt,et.fromStyles)),we.onDestroy(()=>Es(xt,et.toStyles)),void i.push(we);const Gi=[];et.timelines.forEach(en=>{en.stretchStartingKeyframe=!0,this.disabledNodes.has(en.element)||Gi.push(en)}),et.timelines=Gi,r.append(xt,et.timelines),o.push({instruction:et,player:we,element:xt}),et.queriedElements.forEach(en=>Xr(a,en,[]).push(we)),et.preStyleProps.forEach((en,vr)=>{if(en.size){let sr=l.get(vr);sr||l.set(vr,sr=new Set),en.forEach((ed,Il)=>sr.add(Il))}}),et.postStyleProps.forEach((en,vr)=>{let sr=u.get(vr);sr||u.set(vr,sr=new Set),en.forEach((ed,Il)=>sr.add(Il))})});if(L.length){const Q=[];L.forEach(re=>{Q.push(function PEe(n,e){return new C(3505,!1)}())}),M.forEach(re=>re.destroy()),this.reportError(Q)}const K=new Map,ie=new Map;o.forEach(Q=>{const re=Q.element;r.has(re)&&(ie.set(re,re),this._beforeAnimationBuild(Q.player.namespaceId,Q.instruction,K))}),i.forEach(Q=>{const re=Q.element;this._getPreviousPlayers(re,!1,Q.namespaceId,Q.triggerName,null).forEach(we=>{Xr(K,re,[]).push(we),we.destroy()})});const Te=m.filter(Q=>d5(Q,l,u)),Oe=new Map;l5(Oe,this.driver,_,u,Xs).forEach(Q=>{d5(Q,l,u)&&Te.push(Q)});const qn=new Map;f.forEach((Q,re)=>{l5(qn,this.driver,new Set(Q),l,"!")}),Te.forEach(Q=>{const re=Oe.get(Q),le=qn.get(Q);Oe.set(Q,new Map([...re?.entries()??[],...le?.entries()??[]]))});const Ot=[],bs=[],Is={};o.forEach(Q=>{const{element:re,player:le,instruction:we}=Q;if(r.has(re)){if(c.has(re))return le.onDestroy(()=>Es(re,we.toStyles)),le.disabled=!0,le.overrideTotalTime(we.totalTime),void i.push(le);let xt=Is;if(ie.size>1){let vn=re;const ti=[];for(;vn=vn.parentNode;){const et=ie.get(vn);if(et){xt=et;break}ti.push(vn)}ti.forEach(et=>ie.set(et,xt))}const Lr=this._buildAnimation(le.namespaceId,we,K,s,qn,Oe);if(le.setRealPlayer(Lr),xt===Is)Ot.push(le);else{const vn=this.playersByElement.get(xt);vn&&vn.length&&(le.parentPlayer=ta(vn)),i.push(le)}}else vl(re,we.fromStyles),le.onDestroy(()=>Es(re,we.toStyles)),bs.push(le),c.has(re)&&i.push(le)}),bs.forEach(Q=>{const re=s.get(Q.element);if(re&&re.length){const le=ta(re);Q.setRealPlayer(le)}}),i.forEach(Q=>{Q.parentPlayer?Q.syncPlayerEvents(Q.parentPlayer):Q.destroy()});for(let Q=0;Q<m.length;Q++){const re=m[Q],le=re[Hi];if(Xc(re,Hv),le&&le.hasAnimation)continue;let we=[];if(a.size){let Lr=a.get(re);Lr&&Lr.length&&we.push(...Lr);let vn=this.driver.query(re,uR,!0);for(let ti=0;ti<vn.length;ti++){let et=a.get(vn[ti]);et&&et.length&&we.push(...et)}}const xt=we.filter(Lr=>!Lr.destroyed);xt.length?Mbe(this,re,xt):this.processLeaveNode(re)}return m.length=0,Ot.forEach(Q=>{this.players.push(Q),Q.onDone(()=>{Q.destroy();const re=this.players.indexOf(Q);this.players.splice(re,1)}),Q.play()}),Ot}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const l=!s||s==Op;a.forEach(u=>{u.queued||!l&&u.triggerName!=i||o.push(u)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,t,r){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const u=l.element,c=u!==s,d=Xr(r,u,[]);this._getPreviousPlayers(u,c,o,a,t.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}vl(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){const a=t.triggerName,l=t.element,u=[],c=new Set,d=new Set,h=t.timelines.map(p=>{const g=p.element;c.add(g);const m=g[Hi];if(m&&m.removedBeforeQueried)return new zf(p.duration,p.delay);const y=g!==l,_=function Pbe(n){const e=[];return c5(n,e),e}((r.get(g)||wbe).map(K=>K.getRealPlayer())).filter(K=>!!K.element&&K.element===g),I=s.get(g),w=o.get(g),M=Uz(this._normalizer,p.keyframes,I,w),L=this._buildPlayer(p,M,_);if(p.subTimeline&&i&&d.add(g),y){const K=new TR(e,a,g);K.setRealPlayer(L),u.push(K)}return L});u.forEach(p=>{Xr(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function Abe(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,p.element,p))}),c.forEach(p=>Ei(p,qz));const f=ta(h);return f.onDestroy(()=>{c.forEach(p=>Xc(p,qz)),Es(l,t.toStyles)}),d.forEach(p=>{Xr(i,p,[]).push(f)}),f}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new zf(e.duration,e.delay)}}class TR{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new zf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>rR(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Xr(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function e0(n){return n&&1===n.nodeType}function a5(n,e){const t=n.style.display;return n.style.display=e??"none",t}function l5(n,e,t,r,i){const s=[];t.forEach(l=>s.push(a5(l)));const o=[];r.forEach((l,u)=>{const c=new Map;l.forEach(d=>{const h=e.computeStyle(u,d,i);c.set(d,h),(!h||0==h.length)&&(u[Hi]=Dbe,o.push(u))}),n.set(u,c)});let a=0;return t.forEach(l=>a5(l,s[a++])),o}function u5(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const i=new Set(e),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const u=a.parentNode;return l=t.has(u)?u:i.has(u)?1:o(u),s.set(a,l),l}return e.forEach(a=>{const l=o(a);1!==l&&t.get(l).push(a)}),t}function Ei(n,e){n.classList?.add(e)}function Xc(n,e){n.classList?.remove(e)}function Mbe(n,e,t){ta(t).onDone(()=>n.processLeaveNode(e))}function c5(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof rH?c5(r.players,e):e.push(r)}}function d5(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class t0{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new Cbe(e,t,r),this._timelineEngine=new vbe(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const l=[],c=fR(this._driver,s,l,[]);if(l.length)throw function bEe(n,e){return new C(3404,!1)}();a=function gbe(n,e,t){return new mbe(n,e,t)}(i,c,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,o]=jz(r);this._timelineEngine.command(s,t,o,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[o,a]=jz(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let kbe=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Es(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Es(this._element,this._initialStyles),this._endStyles&&(Es(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(vl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(vl(this._element,this._endStyles),this._endStyles=null),Es(this._element,this._initialStyles),this._state=3)}}return n})();function wR(n){let e=null;return n.forEach((t,r)=>{(function Fbe(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class h5{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:Jz(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Lbe{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return Hz(e,t)}getParentElement(e){return oR(e)}query(e,t,r){return Gz(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,s,o=[]){const l={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(l.easing=s);const u=new Map,c=o.filter(f=>f instanceof h5);(function GEe(n,e){return 0===n||0===e})(r,i)&&c.forEach(f=>{f.currentSnapshot.forEach((p,g)=>u.set(g,p))});let d=function jEe(n){return n.length?n[0]instanceof Map?n:n.map(e=>Kz(e)):[]}(t).map(f=>na(f));d=function zEe(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,Jz(n,a)))}}return e}(e,d,u);const h=function xbe(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=wR(e[0]),e.length>1&&(r=wR(e[e.length-1]))):e instanceof Map&&(t=wR(e)),t||r?new kbe(n,t,r):null}(e,d);return new h5(e,d,l,h)}}let Vbe=(()=>{class n extends X${constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:si.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?tH(t):t;return f5(this._renderer,null,r,"register",[i]),new Bbe(r,this._renderer)}static#e=this.\u0275fac=function(r){return new(r||n)(U(ou),U(Wt))};static#t=this.\u0275prov=H({token:n,factory:n.\u0275fac})}return n})();class Bbe extends _ce{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Ube(this._id,e,t||{},this._renderer)}}class Ube{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return f5(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function f5(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const p5="@.disabled";let jbe=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let c=this._rendererCache.get(s);return c||(c=new g5("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,c)),c}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const l=c=>{Array.isArray(c)?c.forEach(l):this.engine.registerTrigger(o,a,t,c.name,c)};return r.data.animation.forEach(l),new $be(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(r){return new(r||n)(U(ou),U(t0),U(Ee))};static#t=this.\u0275prov=H({token:n,factory:n.\u0275fac})}return n})();class g5{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==p5?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class $be extends g5{constructor(e,t,r,i,s){super(t,r,i,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==p5?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function Hbe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function Gbe(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}let zbe=(()=>{class n extends t0{constructor(t,r,i,s){super(t.body,r,i)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(r){return new(r||n)(U(Wt),U(aR),U(yR),U(Fs))};static#t=this.\u0275prov=H({token:n,factory:n.\u0275fac})}return n})();const m5=[{provide:X$,useClass:Vbe},{provide:yR,useFactory:function Wbe(){return new dbe}},{provide:t0,useClass:zbe},{provide:ou,useFactory:function qbe(n,e,t){return new jbe(n,e,t)},deps:[BI,t0,Ee]}],DR=[{provide:aR,useFactory:()=>new Lbe},{provide:_P,useValue:"BrowserAnimations"},...m5],_5=[{provide:aR,useClass:zz},{provide:_P,useValue:"NoopAnimations"},...m5];let Kbe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?_5:DR}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Le({type:n});static#n=this.\u0275inj=xe({providers:DR,imports:[bL]})}return n})(),Qbe=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Le({type:n,bootstrap:[Xhe]});static#n=this.\u0275inj=xe({imports:[bL,Dpe,nL,Nye,X0e,Kbe,Zte(()=>Xte({apiKey:"AIzaSyAzwiu8c9yPgJR9cXXNF_rJbe-4GJXRQm0",authDomain:"angular-demo-e08a3.firebaseapp.com",databaseURL:"https://angular-demo-e08a3-default-rtdb.firebaseio.com",projectId:"angular-demo-e08a3",storageBucket:"angular-demo-e08a3.appspot.com",messagingSenderId:"982287557311",appId:"1:982287557311:web:82da3d710c3cea28451c0a",measurementId:"G-N28WRDJPW4"})),dce(()=>pce()),Xie(()=>tse()),d0e(()=>f0e())]})}return n})();KX().bootstrapModule(Qbe).catch(n=>console.error(n))},614:()=>{const De=":";const zp=function(D,...b){if(zp.translate){const O=zp.translate(D,b);D=O[0],b=O[1]}let A=g0(D[0],D.raw[0]);for(let O=1;O<D.length;O++)A+=b[O-1]+g0(D[O],D.raw[O]);return A},AR=":";function g0(D,b){return b.charAt(0)===AR?D.substring(function od(D,b){for(let A=1,O=1;A<D.length;A++,O++)if("\\"===b[O])O++;else if(D[A]===De)return A;throw new Error(`Unterminated $localize metadata block in "${b}".`)}(D,b)+1):D}globalThis.$localize=zp}},De=>{var ao=lo=>De(De.s=lo);ao(614),ao(901)}]);